(self.webpackChunkangor=self.webpackChunkangor||[]).push([[339],{2747:(j,s,i)=>{"use strict";i.d(s,{n:()=>_});var n=i(1648),t=i(4085),e=i(4438);const o=[[["","angorCardFront",""]],[["","angorCardBack",""]],"*",[["","angorCardExpansion",""]]],a=["[angorCardFront]","[angorCardBack]","*","[angorCardExpansion]"];function c(r,g){1&r&&(e.j41(0,"div",0),e.SdG(1),e.k0s(),e.j41(2,"div",1),e.SdG(3,1),e.k0s())}function d(r,g){1&r&&(e.j41(0,"div",2),e.SdG(1,3),e.k0s()),2&r&&e.Y8G("@expandCollapse",void 0)}function l(r,g){if(1&r&&(e.SdG(0,2),e.DNE(1,d,2,1,"div",2)),2&r){const f=e.XpG();e.R7$(),e.vxM(f.expanded?1:-1)}}let _=(()=>{class r{constructor(){this.expanded=!1,this.face="front",this.flippable=!1}get classList(){return{"angor-card-expanded":this.expanded,"angor-card-face-back":this.flippable&&"back"===this.face,"angor-card-face-front":this.flippable&&"front"===this.face,"angor-card-flippable":this.flippable}}ngOnChanges(f){"expanded"in f&&(this.expanded=(0,t.he)(f.expanded.currentValue)),"flippable"in f&&(this.flippable=(0,t.he)(f.flippable.currentValue))}static{this.\u0275fac=function(h){return new(h||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["angor-card"]],hostVars:2,hostBindings:function(h,x){2&h&&e.HbH(x.classList)},inputs:{expanded:"expanded",face:"face",flippable:"flippable"},exportAs:["angorCard"],standalone:!0,features:[e.OA$,e.aNF],ngContentSelectors:a,decls:2,vars:2,consts:[[1,"angor-card-front"],[1,"angor-card-back"],[1,"angor-card-expansion"]],template:function(h,x){1&h&&(e.NAR(o),e.DNE(0,c,4,0)(1,l,2,1)),2&h&&(e.vxM(x.flippable?0:-1),e.R7$(),e.vxM(x.flippable?-1:1))},styles:["angor-card{position:relative;display:flex;overflow:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--angor-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}angor-card.angor-card-flippable{border-radius:0;overflow:visible;transform-style:preserve-3d;transition:transform 1s;perspective:600px;background:transparent;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}angor-card.angor-card-flippable.angor-card-face-back .angor-card-front{visibility:hidden;opacity:0;transform:rotateY(180deg)}angor-card.angor-card-flippable.angor-card-face-back .angor-card-back{visibility:visible;opacity:1;transform:rotateY(360deg)}angor-card.angor-card-flippable .angor-card-front,angor-card.angor-card-flippable .angor-card-back{display:flex;flex-direction:column;flex:1 1 auto;z-index:10;transition:transform .5s ease-out 0s,visibility 0s ease-in .2s,opacity 0s ease-in .2s;backface-visibility:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--angor-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}angor-card.angor-card-flippable .angor-card-front{position:relative;opacity:1;visibility:visible;transform:rotateY(0);overflow:hidden}angor-card.angor-card-flippable .angor-card-back{position:absolute;inset:0;opacity:0;visibility:hidden;transform:rotateY(180deg);overflow:hidden auto}\n"],encapsulation:2,data:{animation:n.F}})}}return r})()},9345:(j,s,i)=>{"use strict";i.d(s,{n:()=>n.n});var n=i(2747)},4057:(j,s,i)=>{"use strict";i.d(s,{q:()=>D});var n=i(9345),t=i(177),e=i(4438),o=i(8834),a=i(1997),c=i(9213),d=i(9115),l=i(5245),_=i(467),r=i(8703),g=i(7291);let f=(()=>{class y{constructor(C,T){this._changeDetectorRef=C,this._storageService=T,this.userChange=new e.bkB}ngOnInit(){this.loadUserProfile(),this.subscription=this._storageService.profile$.subscribe(C=>{C&&C.pubKey===this.pubkey&&(this.user=C.metadata,this.userChange.emit(this.user),this._changeDetectorRef.detectChanges())})}loadUserProfile(){var C=this;return(0,_.A)(function*(){const T=yield C._storageService.getProfile(C.pubkey);C.user=T||{},C.userChange.emit(C.user),C._changeDetectorRef.detectChanges()})()}get displayName(){return this.user?.display_name||this.user?.name||this.shortenPubkey(this.pubkey)}get displayAvatar(){return this.user?.picture||this.avatarUrl||"/images/avatars/avatar-placeholder.png"}shortenPubkey(C){return C?`${C.slice(0,8)}...${C.slice(-8)}`:""}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static{this.\u0275fac=function(T){return new(T||y)(e.rXU(e.gRc),e.rXU(g.n))}}static{this.\u0275cmp=e.VBU({type:y,selectors:[["app-post-profile"]],inputs:{pubkey:"pubkey",avatarUrl:"avatarUrl",created_at:"created_at"},outputs:{userChange:"userChange"},standalone:!0,features:[e.aNF],decls:9,vars:7,consts:[[1,"flex","items-center"],[1,"flex","items-center","group",3,"href"],["onerror","this.onerror=null; this.src='/images/avatars/avatar-placeholder.png';",1,"mr-4","h-10","w-10","rounded-full","object-cover",3,"src","alt"],[1,"flex","flex-col"],[1,"font-semibold","leading-none"],[1,"text-secondary","mt-1","text-sm","leading-none"]],template:function(T,E){1&T&&(e.j41(0,"div",0)(1,"a",1),e.nrm(2,"img",2),e.j41(3,"div",3)(4,"span",4),e.EFF(5),e.k0s(),e.j41(6,"span",5),e.EFF(7),e.nI1(8,"ago"),e.k0s()()()()),2&T&&(e.R7$(),e.Y8G("href","/profile/"+E.pubkey,e.B4B),e.R7$(),e.Y8G("src",E.displayAvatar,e.B4B)("alt",E.displayName),e.R7$(3),e.JRh(E.displayName),e.R7$(2),e.JRh(e.bMT(8,5,E.created_at)))},dependencies:[t.MD,r.g]})}}return y})();var h=i(413),x=i(5351),v=i(5416),B=i(2507);let b=(()=>{class y{constructor(){this.dialog=(0,e.WQX)(x.bZ),this.snackBar=(0,e.WQX)(v.UG)}canUseZap(C){var T=this;return(0,_.A)(function*(){return!(!C||!C.lud06&&!C.lud16)||(T.openSnackBar("Using Zap is not possible. Please complete your profile to include lud06 or lud16."),!1)})()}openSnackBar(C,T="dismiss"){this.snackBar.open(C,T,{duration:3e3})}openZapDialog(C="",T){var E=this;return(0,_.A)(function*(){(yield E.canUseZap(T))&&E.dialog.open(B.r,{width:"405px",maxHeight:"90vh",data:{lud16:T.lud16,lud06:T.lud06,pubkey:T.pubkey,eventId:C}})})()}static{this.\u0275fac=function(T){return new(T||y)}}static{this.\u0275prov=e.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();const N=y=>({"large-font":y}),P=y=>["/post",y];function L(y,F){if(1&y&&(e.j41(0,"div",13),e.nrm(1,"iframe",15),e.k0s()),2&y){const C=e.XpG().$implicit;e.R7$(),e.Y8G("src",C.safeWord,e.f$h)}}function Y(y,F){if(1&y&&(e.j41(0,"div",13),e.nrm(1,"img",16),e.k0s()),2&y){const C=e.XpG().$implicit;e.R7$(),e.Y8G("src",C.safeWord,e.B4B)}}function K(y,F){if(1&y&&(e.j41(0,"div",13)(1,"video",17),e.nrm(2,"source",18),e.EFF(3," Your browser does not support the video tag. "),e.k0s()()),2&y){const C=e.XpG().$implicit;e.R7$(2),e.Y8G("src",C.safeWord,e.B4B)}}function A(y,F){if(1&y&&(e.j41(0,"div",13)(1,"audio",19),e.nrm(2,"source",20),e.EFF(3," Your browser does not support the audio element. "),e.k0s()()),2&y){const C=e.XpG().$implicit;e.R7$(2),e.Y8G("src",C.safeWord,e.B4B)}}function U(y,F){if(1&y&&(e.j41(0,"div",14)(1,"a",21)(2,"span",22),e.EFF(3),e.k0s()()()),2&y){const C=e.XpG().$implicit;e.R7$(),e.Y8G("href",C.word,e.B4B),e.R7$(2),e.JRh(C.word)}}function k(y,F){if(1&y&&(e.j41(0,"div",14)(1,"span",23),e.EFF(2),e.k0s()()),2&y){const C=e.XpG().$implicit,T=e.XpG();e.R7$(),e.Y8G("ngClass",e.eq3(2,N,T.isSingleEmojiOrWord(C))),e.R7$(),e.SpI("",C.trim()," ")}}function I(y,F){if(1&y&&(e.j41(0,"div",11),e.DNE(1,L,2,1,"div",13)(2,Y,2,1,"div",13)(3,K,4,1,"div",13)(4,A,4,1,"div",13)(5,U,4,2,"div",14)(6,k,3,4,"div",14),e.k0s()),2&y){const C=F.$implicit;e.R7$(),e.vxM("youtube"===C.token?1:-1),e.R7$(),e.vxM("image"===C.token?2:-1),e.R7$(),e.vxM("video"===C.token?3:-1),e.R7$(),e.vxM("audio"===C.token?4:-1),e.R7$(),e.vxM("link"===C.token?5:-1),e.R7$(),e.vxM(C.token?-1:6)}}function $(y,F){if(1&y){const C=e.RV6();e.j41(0,"div",12)(1,"button",24),e.nrm(2,"mat-icon",25),e.j41(3,"span",26),e.EFF(4,"Unlike"),e.k0s()(),e.j41(5,"button",24),e.nrm(6,"mat-icon",27),e.j41(7,"span",26),e.EFF(8,"Comment"),e.k0s()(),e.j41(9,"button",24),e.nrm(10,"mat-icon",28),e.j41(11,"span",26),e.EFF(12,"Share"),e.k0s()(),e.j41(13,"button",29),e.bIt("click",function(){e.eBV(C);const E=e.XpG();return e.Njj(E.openZapDialog(E.item.id,E.user))}),e.nrm(14,"mat-icon",30),e.j41(15,"span",26),e.EFF(16,"Zap"),e.k0s()()()}2&y&&(e.R7$(2),e.Y8G("svgIcon","heroicons_solid:heart"),e.R7$(4),e.Y8G("svgIcon","heroicons_solid:chat-bubble-left-ellipsis"),e.R7$(4),e.Y8G("svgIcon","heroicons_solid:share"),e.R7$(4),e.Y8G("svgIcon","heroicons_solid:bolt"))}function O(y,F){if(1&y&&(e.nrm(0,"hr",31),e.j41(1,"div",32),e.nrm(2,"div",33),e.j41(3,"div",34)(4,"button",35)(5,"span",36),e.EFF(6,"Read More ..."),e.k0s()()()()),2&y){const C=e.XpG();e.R7$(4),e.Y8G("routerLink",e.eq3(1,P,C.item.id))}}let D=(()=>{class y{constructor(){this.actions=!0,this.more=!0,this.user=new e.bkB,this.storageService=(0,e.WQX)(g.n),this.zapService=(0,e.WQX)(b),this.parseContent=(0,e.WQX)(h.m),this.tokens=(0,e.vPA)([])}get item(){return this._item}set item(C){this._item=C,this.onItemChange()}openZapDialog(C,T){this.zapService.openZapDialog(C,T)}getProfile(){}isSingleEmojiOrWord(C){const T=C.trim(),E=/^\w+$/.test(T),M=/^[\p{Emoji}]+$/u.test(T);return E||M}onItemChange(){console.log("Item has been changed:",this._item),this.tokens.set(this._item.content?this.parseContent.parseContent(this._item.content):[])}static{this.\u0275fac=function(T){return new(T||y)}}static{this.\u0275cmp=e.VBU({type:y,selectors:[["app-post"]],inputs:{item:"item",actions:"actions",more:"more"},outputs:{user:"user"},standalone:!0,features:[e.aNF],decls:43,vars:13,consts:[["expandableCard02","angorCard"],["postCardMenu02","matMenu"],[1,"flex","w-full","flex-col"],[1,"mx-6","mb-4","mt-6","flex","items-center","sm:mx-8"],[3,"userChange","pubkey","avatarUrl","created_at"],["mat-icon-button","",1,"-mr-4","ml-auto",3,"matMenuTriggerFor"],[1,"icon-size-5",3,"svgIcon"],["mat-menu-item",""],[1,"flex","items-center"],[1,"mr-3","icon-size-5",3,"svgIcon"],[1,"my-2"],[1,"inline-block","whitespace-pre-wrap","break-words"],[1,"mx-3","flex","items-center","sm:mx-5"],[1,"relative","mb-4","block"],[1,"mx-6","mb-6","mt-2","sm:mx-8"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"],["alt","Embedded Image",1,"max-h-140","object-cover",2,"width","100%",3,"src"],["controls","",2,"width","100%"],["type","video/mp4",3,"src"],["controls",""],["type","audio/mpeg",3,"src"],["target","_blank",1,"inline-block","break-words","text-blue-500","underline",3,"href"],[1,"inline-block","break-words"],[1,"inline-block","break-words",3,"ngClass"],["mat-button","",1,"mr-1","px-3"],[1,"text-red-500","icon-size-5",3,"svgIcon"],[1,"ml-2"],[1,"text-blue-500","icon-size-5",3,"svgIcon"],[1,"text-green-500","icon-size-5",3,"svgIcon"],["mat-button","",1,"mr-1","px-3",3,"click"],[1,"text-orange-500","icon-size-5",3,"svgIcon"],[1,"mx-6","mb-6","mt-4","border-b","sm:mx-8"],[1,"mx-6","mb-4","flex","flex-col","sm:mx-8","sm:mb-6","sm:flex-row","sm:items-center"],[1,"hidden","flex-auto","sm:flex"],[1,"mt-4","flex","items-center","sm:mt-0"],["mat-button","",1,"px-3","sm:-mr-4",3,"routerLink"],[1,"mr-1"]],template:function(T,E){if(1&T){const M=e.RV6();e.j41(0,"angor-card",2,0)(2,"div",3)(3,"app-post-profile",4),e.bIt("userChange",function(S){return e.eBV(M),e.Njj(E.user=S)}),e.k0s(),e.j41(4,"button",5),e.nrm(5,"mat-icon",6),e.k0s(),e.j41(6,"mat-menu",null,1)(8,"button",7)(9,"span",8),e.nrm(10,"mat-icon",9),e.j41(11,"span"),e.EFF(12,"Save post"),e.k0s()()(),e.j41(13,"button",7)(14,"span",8),e.nrm(15,"mat-icon",9),e.j41(16,"span"),e.EFF(17,"Hide post"),e.k0s()()(),e.j41(18,"button",7)(19,"span",8),e.nrm(20,"mat-icon",9),e.j41(21,"span"),e.EFF(22,"Snooze for 30 days"),e.k0s()()(),e.j41(23,"button",7)(24,"span",8),e.nrm(25,"mat-icon",9),e.j41(26,"span"),e.EFF(27,"Hide all"),e.k0s()()(),e.nrm(28,"mat-divider",10),e.j41(29,"button",7)(30,"span",8),e.nrm(31,"mat-icon",9),e.j41(32,"span"),e.EFF(33,"Report post"),e.k0s()()(),e.j41(34,"button",7)(35,"span",8),e.nrm(36,"mat-icon",9),e.j41(37,"span"),e.EFF(38,"Turn on notifications for this post"),e.k0s()()()()(),e.Z7z(39,I,7,6,"div",11,e.fX1),e.DNE(41,$,17,4,"div",12)(42,O,7,3),e.k0s()}if(2&T){const M=e.sdS(7);e.R7$(3),e.Y8G("pubkey",null==E.item?null:E.item.pubkey)("avatarUrl","/images/avatars/avatar-placeholder.png")("created_at",E.item.created_at),e.R7$(),e.Y8G("matMenuTriggerFor",M),e.R7$(),e.Y8G("svgIcon","heroicons_solid:ellipsis-vertical"),e.R7$(5),e.Y8G("svgIcon","heroicons_solid:arrow-up-tray"),e.R7$(5),e.Y8G("svgIcon","heroicons_solid:eye-slash"),e.R7$(5),e.Y8G("svgIcon","heroicons_solid:clock"),e.R7$(5),e.Y8G("svgIcon","heroicons_solid:minus-circle"),e.R7$(6),e.Y8G("svgIcon","heroicons_solid:exclamation-triangle"),e.R7$(5),e.Y8G("svgIcon","heroicons_solid:bell"),e.R7$(3),e.Dyx(E.tokens()),e.R7$(2),e.vxM(E.actions?41:-1),e.R7$(),e.vxM(E.more?42:-1)}},dependencies:[n.n,f,c.m_,c.An,a.w,a.q,d.Cn,d.kk,d.fb,d.Cp,l.iI,l.Wk,t.MD,t.YU,o.$z]})}}return y})()},2507:(j,s,i)=>{"use strict";i.d(s,{r:()=>T});var n=i(467),t=i(4438),e=i(9417),o=i(5351),a=i(5416),c=i(6182),d=i(7673),l=i(9437),_=i(1626);let r=(()=>{class E{constructor(u){this.http=u}getLightning(u){return this.http.get(u).pipe((0,l.W)(S=>(console.error("Failed to fetch Lightning response:",S),(0,d.of)({status:"Failed"}))))}getLightningInvoice(u,S){return this.http.get(`${u}?amount=${S}`).pipe((0,l.W)(G=>(console.error("Failed to fetch Lightning invoice:",G),(0,d.of)({pr:"",status:"Failed"}))))}getLightningAddress(u){try{const[S,R]=u.split("@");return`https://${R}/.well-known/lnurlp/${S}`}catch{return console.error("Invalid Lightning address format:",u),""}}sendZapRequest(u,S,R,G){const p=encodeURIComponent(JSON.stringify(S));return this.http.get(`${u}?amount=${R}&nostr=${p}&lnurl=${G}`).pipe((0,l.W)(w=>(console.error("Failed to send zap request:",w),(0,d.of)({pr:"",status:"Failed"}))))}login(){return(0,n.A)(function*(){try{return window.webln&&!window.webln.isEnabled()&&(yield window.webln.enable()),!0}catch(u){return console.error("WebLN login failed:",u),!1}})()}hasWebln(){return!!window.webln}sendPayment(u){var S=this;return(0,n.A)(function*(){try{return S.hasWebln()?yield window.webln.sendPayment(u):(console.error("WebLN is not available"),null)}catch(R){throw console.error("Payment failed:",R),R}})()}payInvoice(u){var S=this;return(0,n.A)(function*(){if((yield S.login())&&S.hasWebln())try{return!!(yield S.sendPayment(u))}catch(G){return console.error("Failed to pay invoice:",G),!1}return console.error("WebLN not available or login failed"),!1})()}static{this.\u0275fac=function(S){return new(S||E)(t.KVO(_.Qq))}}static{this.\u0275prov=t.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})();var g=i(719),f=i(6324),h=i(6231),x=i(8834),v=i(9213),B=i(5398),b=i(177),N=i(1997),P=i(2102),L=i(9042),Y=i(2798),K=i(882),A=i(4823),U=i(5766),k=i(9706);function I(E,M){if(1&E){const u=t.RV6();t.j41(0,"button",15),t.bIt("click",function(){let R;const G=t.eBV(u).$implicit,p=t.XpG(2);return t.Njj(null==(R=p.sendZapForm.get("amount"))?null:R.setValue(G.value))}),t.j41(1,"mat-icon",16),t.EFF(2),t.k0s(),t.j41(3,"span",17),t.EFF(4),t.k0s()()}if(2&E){const u=M.$implicit;t.R7$(2),t.JRh(u.icon),t.R7$(2),t.JRh(u.label)}}function $(E,M){1&E&&(t.j41(0,"mat-error"),t.EFF(1," Zap amount is required "),t.k0s())}function O(E,M){1&E&&(t.j41(0,"mat-error"),t.EFF(1," Minimum amount is 1 sat "),t.k0s())}function D(E,M){if(1&E){const u=t.RV6();t.j41(0,"mat-dialog-content",5)(1,"div",6),t.DNE(2,I,5,2,"button",7),t.k0s(),t.nrm(3,"mat-divider"),t.j41(4,"div",8)(5,"mat-form-field",9)(6,"mat-label"),t.EFF(7,"Zap Amount"),t.k0s(),t.nrm(8,"input",10),t.j41(9,"mat-hint",11),t.EFF(10,"Amount in sats"),t.k0s(),t.DNE(11,$,2,0,"mat-error",12)(12,O,2,0,"mat-error",12),t.k0s(),t.j41(13,"mat-form-field",9)(14,"mat-label"),t.EFF(15,"Comment"),t.k0s(),t.nrm(16,"input",13),t.j41(17,"mat-hint",11),t.EFF(18),t.k0s()()(),t.j41(19,"mat-dialog-actions",11)(20,"button",14),t.bIt("click",function(){t.eBV(u);const R=t.XpG();return t.Njj(R.onSubmit())}),t.EFF(21," Create Invoice "),t.k0s()()()}if(2&E){let u,S,R;const G=t.XpG();t.R7$(2),t.Y8G("ngForOf",G.zapButtons),t.R7$(2),t.Y8G("formGroup",G.sendZapForm),t.R7$(7),t.Y8G("ngIf",null==(u=G.sendZapForm.get("amount"))?null:u.hasError("required")),t.R7$(),t.Y8G("ngIf",null==(S=G.sendZapForm.get("amount"))?null:S.hasError("min")),t.R7$(6),t.SpI(" ",(null==(R=G.sendZapForm.get("comment"))||null==R.value?null:R.value.length)||0,"/100 "),t.R7$(2),t.Y8G("disabled",G.sendZapForm.invalid)}}function y(E,M){if(1&E&&(t.j41(0,"div",21)(1,"span",22),t.EFF(2),t.k0s(),t.nrm(3,"mat-divider",23)(4,"qrcode",24),t.k0s()),2&E){const u=t.XpG(2);t.R7$(2),t.SpI("Scan with phone to pay (",u.invoiceAmount," sats)"),t.R7$(2),t.Y8G("qrdata",u.lightningInvoice)("matTooltip","Lightning Invoice")("errorCorrectionLevel","M")}}function F(E,M){if(1&E){const u=t.RV6();t.j41(0,"div",25)(1,"mat-form-field",26)(2,"mat-label"),t.EFF(3,"Invoice Address"),t.k0s(),t.nrm(4,"input",27),t.j41(5,"button",28),t.bIt("click",function(){t.eBV(u);const R=t.XpG(2);return t.Njj(R.copyInvoice())}),t.nrm(6,"mat-icon",29),t.k0s()()()}if(2&E){const u=t.XpG(2);t.R7$(4),t.Y8G("value",u.lightningInvoice),t.R7$(),t.Y8G("matTooltip","Copy Invoice"),t.R7$(),t.Y8G("svgIcon","heroicons_outline:clipboard-document")}}function C(E,M){if(1&E&&(t.j41(0,"mat-dialog-content",18),t.DNE(1,y,5,4,"div",19)(2,F,7,3,"div",20),t.k0s()),2&E){const u=t.XpG();t.R7$(),t.Y8G("ngIf",u.displayQRCode),t.R7$(),t.Y8G("ngIf",u.showInvoiceSection&&u.lightningInvoice)}}let T=(()=>{class E{constructor(u){this.util=u,this.formBuilder=(0,t.WQX)(e.ok),this.lightningService=(0,t.WQX)(r),this.signerService=(0,t.WQX)(f.A),this.relayService=(0,t.WQX)(h.b),this.dialogRef=(0,t.WQX)(o.CP),this.snackBar=(0,t.WQX)(a.UG),this.clipboard=(0,t.WQX)(c.B0),this.data=(0,t.WQX)(o.Vh),this.lightningInvoice="",this.payRequest=null,this.displayQRCode=!1,this.showInvoiceSection=!1,this.loading=!1,this.invoiceAmount=0,this.error="",this.zapButtons=[{icon:"thumb_up",label:"21",value:21},{icon:"favorite",label:"50",value:50},{icon:"emoji_emotions",label:"100",value:100},{icon:"star",label:"500",value:500},{icon:"celebration",label:"1k",value:1e3},{icon:"rocket",label:"5k",value:5e3},{icon:"local_fire_department",label:"10k",value:1e4},{icon:"flash_on",label:"100k",value:1e5},{icon:"diamond",label:"500k",value:5e5}]}ngOnInit(){this.initializeForm()}initializeForm(){this.sendZapForm=this.formBuilder.group({lightningAddress:[this.data.lud16||this.data.lud06,[e.k0.required,this.validateLightningAddress]],amount:["",[e.k0.required,e.k0.min(1)]],comment:[""]})}validateLightningAddress(u){return u.value.includes("@")?null:{invalidFormat:!0}}onSubmit(){var u=this;return(0,n.A)(function*(){u.sendZapForm.invalid?u.showError("Please fill out the form correctly."):(u.loading=!0,yield u.fetchPayRequest())})()}getCallbackUrl(u){if(u.includes("@")){const[S,R]=u.split("@");return`https://${R}/.well-known/lnurlp/${S}`}return u.toLowerCase().startsWith("lnurl")?this.util.convertBech32ToText(u).toString():null}fetchPayRequest(){var u=this;return(0,n.A)(function*(){u.resetState();const S=u.data.lud16||u.data.lud06;if(!S)return void u.showError("Lightning Address is required.");let R=u.getCallbackUrl(S);try{const G=yield fetch(R);if(!G.ok)throw new Error("Failed to fetch pay request.");const p=yield G.json();if("ERROR"===p.status)return void u.showError(p.reason||"Error fetching the pay request.");u.payRequest=p,u.showInvoiceSection=!1,u.configureAmountValidators(),yield u.generateInvoice()}catch(G){u.showError(G.message||"Error connecting to the server.")}finally{u.loading=!1}})()}generateInvoice(){var u=this;return(0,n.A)(function*(){const S=u.sendZapForm.get("amount")?.value,R=u.sendZapForm.get("comment")?.value,G=u.data.eventId||null;if(!u.payRequest)return void u.showError("Pay request is not loaded.");u.invoiceAmount=S;const p=new URL(u.payRequest.callback),m=new URLSearchParams({amount:(1e3*S).toString()});if(R&&u.payRequest.commentAllowed&&m.set("comment",R),G){const w=yield u.createAndSignZapRequest(G,R);m.set("nostr",JSON.stringify(w))}try{const w=yield fetch(`${p.origin}${p.pathname}?${m.toString()}`);if(!w.ok)throw new Error("Failed to fetch invoice.");const H=yield w.json();if("ERROR"===H.status)return void u.showError(H.reason||"Error fetching the invoice.");u.lightningInvoice=H.pr,u.showInvoiceSection=!0,u.toggleQRCodeDisplay(!0)}catch(w){u.showError(w.message||"Error fetching the invoice.")}})()}configureAmountValidators(){if(!this.payRequest)return;const u=(this.payRequest.minSendable||1e3)/1e3,S=(this.payRequest.maxSendable||21e6)/1e3,R=this.sendZapForm.get("amount");R?.setValidators([e.k0.required,e.k0.min(u),e.k0.max(S)]),R?.updateValueAndValidity()}createAndSignZapRequest(u,S){var R=this;return(0,n.A)(function*(){try{const G=R.createZapRequestData(u,S);let p;if(R.signerService.isUsingSecretKey()){const m=yield R.signerService.getDecryptedSecretKey();if(!m)throw new Error("Private key could not be retrieved.");const w=(0,U.aT)(m);p=(0,g.pC)(G,w)}else p=yield R.signerService.signEventWithExtension(G);if(!p)throw new Error("Signing failed. Signed event is null.");return p}catch(G){throw console.error("Error creating and signing zap request:",G),new Error("Failed to create and sign zap request.")}})()}createZapRequestData(u,S){return{kind:9734,content:S||"",tags:[["e",u],["p",this.payRequest?.nostrPubkey||""],["relays",...this.relayService.getConnectedRelays()]],pubkey:this.signerService.getPublicKey(),created_at:Math.floor(Date.now()/1e3)}}copyInvoice(){this.lightningInvoice?(this.clipboard.copy(this.lightningInvoice),this.showSuccess("Invoice copied to clipboard")):this.showError("No invoice available to copy")}toggleQRCodeDisplay(u=!1){this.displayQRCode=!!u||!this.displayQRCode}resetState(){this.error="",this.loading=!0,this.lightningInvoice=""}showError(u){this.error=u,this.loading=!1,this.snackBar.open(u,"Dismiss",{duration:2e3})}showSuccess(u){this.snackBar.open(u,"Dismiss",{duration:2e3})}closeDialog(){this.dialogRef.close()}static{this.\u0275fac=function(S){return new(S||E)(t.rXU(k.FP))}}static{this.\u0275cmp=t.VBU({type:E,selectors:[["app-send-dialog"]],standalone:!0,features:[t.aNF],decls:7,vars:4,consts:[[1,"absolute","right-0","top-0","pr-4","pt-4"],["mat-icon-button","","aria-label","Close",3,"matDialogClose"],[1,"text-secondary",3,"svgIcon"],["class","p-0 mt-4",4,"ngIf"],["class","flex flex-col items-center justify-center text-center p-1 mt-4",4,"ngIf"],[1,"p-0","mt-4"],[1,"preset-buttons"],["class","mr-1 px-3","mat-button","",3,"click",4,"ngFor","ngForOf"],[1,"zap-form",3,"formGroup"],["appearance","outline",1,"sats-input"],["matInput","","formControlName","amount","placeholder","Enter amount in sats, e.g., 100","type","number","aria-label","Zap Amount"],["align","end"],[4,"ngIf"],["matInput","","formControlName","comment","placeholder","Optional comment, e.g., as a gift...","aria-label","Comment","maxlength","100"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-button","",1,"mr-1","px-3",3,"click"],[1,"text-orange-500","icon-size-5"],[1,"ml-2"],[1,"flex","flex-col","items-center","justify-center","text-center","p-1","mt-4"],["class","w-full flex flex-col items-center",4,"ngIf"],["class","w-full max-w-md",4,"ngIf"],[1,"w-full","flex","flex-col","items-center"],[1,"mb-2"],[1,"w-full","mb-4"],[1,"qrcode-image","m-auto",3,"qrdata","matTooltip","errorCorrectionLevel"],[1,"w-full","max-w-md"],["appearance","outline",1,"w-full"],["matInput","","readonly","","aria-label","Invoice Address",3,"value"],["mat-icon-button","","matSuffix","","aria-label","Copy Invoice",3,"click","matTooltip"],[3,"svgIcon"]],template:function(S,R){1&S&&(t.j41(0,"div",0)(1,"button",1),t.nrm(2,"mat-icon",2),t.k0s()(),t.j41(3,"h1"),t.EFF(4,"\u26a1Zap"),t.k0s(),t.DNE(5,D,22,6,"mat-dialog-content",3)(6,C,3,2,"mat-dialog-content",4)),2&S&&(t.R7$(),t.Y8G("matDialogClose",void 0),t.R7$(),t.Y8G("svgIcon","heroicons_outline:x-mark"),t.R7$(3),t.Y8G("ngIf",!R.showInvoiceSection||!R.lightningInvoice),t.R7$(),t.Y8G("ngIf",R.showInvoiceSection&&R.lightningInvoice))},dependencies:[K.vg,x.Hl,x.$z,x.iY,v.m_,v.An,e.YN,e.me,e.Q0,e.BC,e.cb,e.tU,P.nJ,P.rl,e.X1,e.j4,e.JD,b.MD,b.Sq,b.bT,Y.Ve,P.MV,P.TL,P.yw,P.RG,L.fS,L.fg,o.Yi,o.E7,B.f,B.c,N.q,A.oV,o.tx],styles:[".preset-buttons[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;justify-items:center;margin-bottom:20px}.preset-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px;font-weight:700;display:flex;align-items:center;justify-content:center;max-height:60px!important}.sats-input[_ngcontent-%COMP%]{margin-top:20px;width:100%}.lightning-buttons[_ngcontent-%COMP%]{margin:5px 0}"]})}}return E})()},2577:(j,s,i)=>{const t=i(531),e=i(8715),o=i(465),a=i(5510);function c(d,l,_,r,g){const f=[].slice.call(arguments,1),h=f.length,x="function"==typeof f[h-1];if(!x&&!t())throw new Error("Callback required as last argument");if(!x){if(h<1)throw new Error("Too few arguments provided");return 1===h?(_=l,l=r=void 0):2===h&&!l.getContext&&(r=_,_=l,l=void 0),new Promise(function(v,B){try{const b=e.create(_,r);v(d(b,l,r))}catch(b){B(b)}})}if(h<2)throw new Error("Too few arguments provided");2===h?(g=_,_=l,l=r=void 0):3===h&&(l.getContext&&typeof g>"u"?(g=r,r=void 0):(g=r,r=_,_=l,l=void 0));try{const v=e.create(_,r);g(null,d(v,l,r))}catch(v){g(v)}}s.mo=c.bind(null,o.render),s.dY=c.bind(null,o.renderToDataURL),s.toString=c.bind(null,function(d,l,_){return a.render(d,_)})},531:j=>{j.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},919:(j,s,i)=>{const n=i(2656).getSymbolSize;s.getRowColCoords=function(e){if(1===e)return[];const o=Math.floor(e/7)+2,a=n(e),c=145===a?26:2*Math.ceil((a-13)/(2*o-2)),d=[a-7];for(let l=1;l<o-1;l++)d[l]=d[l-1]-c;return d.push(6),d.reverse()},s.getPositions=function(e){const o=[],a=s.getRowColCoords(e),c=a.length;for(let d=0;d<c;d++)for(let l=0;l<c;l++)0===d&&0===l||0===d&&l===c-1||d===c-1&&0===l||o.push([a[d],a[l]]);return o}},387:(j,s,i)=>{const n=i(838),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function e(o){this.mode=n.ALPHANUMERIC,this.data=o}e.getBitsLength=function(a){return 11*Math.floor(a/2)+a%2*6},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(a){let c;for(c=0;c+2<=this.data.length;c+=2){let d=45*t.indexOf(this.data[c]);d+=t.indexOf(this.data[c+1]),a.put(d,11)}this.data.length%2&&a.put(t.indexOf(this.data[c]),6)},j.exports=e},4481:j=>{function s(){this.buffer=[],this.length=0}s.prototype={get:function(i){const n=Math.floor(i/8);return 1==(this.buffer[n]>>>7-i%8&1)},put:function(i,n){for(let t=0;t<n;t++)this.putBit(1==(i>>>n-t-1&1))},getLengthInBits:function(){return this.length},putBit:function(i){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),i&&(this.buffer[n]|=128>>>this.length%8),this.length++}},j.exports=s},8038:j=>{function s(i){if(!i||i<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=i,this.data=new Uint8Array(i*i),this.reservedBit=new Uint8Array(i*i)}s.prototype.set=function(i,n,t,e){const o=i*this.size+n;this.data[o]=t,e&&(this.reservedBit[o]=!0)},s.prototype.get=function(i,n){return this.data[i*this.size+n]},s.prototype.xor=function(i,n,t){this.data[i*this.size+n]^=t},s.prototype.isReserved=function(i,n){return this.reservedBit[i*this.size+n]},j.exports=s},1736:(j,s,i)=>{const n=i(3174),t=i(838);function e(o){this.mode=t.BYTE,"string"==typeof o&&(o=n(o)),this.data=new Uint8Array(o)}e.getBitsLength=function(a){return 8*a},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(o){for(let a=0,c=this.data.length;a<c;a++)o.put(this.data[a],8)},j.exports=e},2296:(j,s,i)=>{const n=i(139),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],e=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];s.getBlocksCount=function(a,c){switch(c){case n.L:return t[4*(a-1)+0];case n.M:return t[4*(a-1)+1];case n.Q:return t[4*(a-1)+2];case n.H:return t[4*(a-1)+3];default:return}},s.getTotalCodewordsCount=function(a,c){switch(c){case n.L:return e[4*(a-1)+0];case n.M:return e[4*(a-1)+1];case n.Q:return e[4*(a-1)+2];case n.H:return e[4*(a-1)+3];default:return}}},139:(j,s)=>{s.L={bit:1},s.M={bit:0},s.Q={bit:3},s.H={bit:2},s.isValid=function(t){return t&&typeof t.bit<"u"&&t.bit>=0&&t.bit<4},s.from=function(t,e){if(s.isValid(t))return t;try{return function i(n){if("string"!=typeof n)throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return s.L;case"m":case"medium":return s.M;case"q":case"quartile":return s.Q;case"h":case"high":return s.H;default:throw new Error("Unknown EC Level: "+n)}}(t)}catch{return e}}},9202:(j,s,i)=>{const n=i(2656).getSymbolSize;s.getPositions=function(o){const a=n(o);return[[0,0],[a-7,0],[0,a-7]]}},9211:(j,s,i)=>{const n=i(2656),o=n.getBCHDigit(1335);s.getEncodedBits=function(c,d){const l=c.bit<<3|d;let _=l<<10;for(;n.getBCHDigit(_)-o>=0;)_^=1335<<n.getBCHDigit(_)-o;return 21522^(l<<10|_)}},6965:(j,s)=>{const i=new Uint8Array(512),n=new Uint8Array(256);(function(){let e=1;for(let o=0;o<255;o++)i[o]=e,n[e]=o,e<<=1,256&e&&(e^=285);for(let o=255;o<512;o++)i[o]=i[o-255]})(),s.log=function(e){if(e<1)throw new Error("log("+e+")");return n[e]},s.exp=function(e){return i[e]},s.mul=function(e,o){return 0===e||0===o?0:i[n[e]+n[o]]}},1971:(j,s,i)=>{const n=i(838),t=i(2656);function e(o){this.mode=n.KANJI,this.data=o}e.getBitsLength=function(a){return 13*a},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(o){let a;for(a=0;a<this.data.length;a++){let c=t.toSJIS(this.data[a]);if(c>=33088&&c<=40956)c-=33088;else{if(!(c>=57408&&c<=60351))throw new Error("Invalid SJIS character: "+this.data[a]+"\nMake sure your charset is UTF-8");c-=49472}c=192*(c>>>8&255)+(255&c),o.put(c,13)}},j.exports=e},9366:(j,s)=>{s.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function n(t,e,o){switch(t){case s.Patterns.PATTERN000:return(e+o)%2==0;case s.Patterns.PATTERN001:return e%2==0;case s.Patterns.PATTERN010:return o%3==0;case s.Patterns.PATTERN011:return(e+o)%3==0;case s.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(o/3))%2==0;case s.Patterns.PATTERN101:return e*o%2+e*o%3==0;case s.Patterns.PATTERN110:return(e*o%2+e*o%3)%2==0;case s.Patterns.PATTERN111:return(e*o%3+(e+o)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}s.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},s.from=function(e){return s.isValid(e)?parseInt(e,10):void 0},s.getPenaltyN1=function(e){const o=e.size;let a=0,c=0,d=0,l=null,_=null;for(let r=0;r<o;r++){c=d=0,l=_=null;for(let g=0;g<o;g++){let f=e.get(r,g);f===l?c++:(c>=5&&(a+=c-5+3),l=f,c=1),f=e.get(g,r),f===_?d++:(d>=5&&(a+=d-5+3),_=f,d=1)}c>=5&&(a+=c-5+3),d>=5&&(a+=d-5+3)}return a},s.getPenaltyN2=function(e){const o=e.size;let a=0;for(let c=0;c<o-1;c++)for(let d=0;d<o-1;d++){const l=e.get(c,d)+e.get(c,d+1)+e.get(c+1,d)+e.get(c+1,d+1);(4===l||0===l)&&a++}return 3*a},s.getPenaltyN3=function(e){const o=e.size;let a=0,c=0,d=0;for(let l=0;l<o;l++){c=d=0;for(let _=0;_<o;_++)c=c<<1&2047|e.get(l,_),_>=10&&(1488===c||93===c)&&a++,d=d<<1&2047|e.get(_,l),_>=10&&(1488===d||93===d)&&a++}return 40*a},s.getPenaltyN4=function(e){let o=0;const a=e.data.length;for(let d=0;d<a;d++)o+=e.data[d];return 10*Math.abs(Math.ceil(100*o/a/5)-10)},s.applyMask=function(e,o){const a=o.size;for(let c=0;c<a;c++)for(let d=0;d<a;d++)o.isReserved(d,c)||o.xor(d,c,n(e,d,c))},s.getBestMask=function(e,o){const a=Object.keys(s.Patterns).length;let c=0,d=1/0;for(let l=0;l<a;l++){o(l),s.applyMask(l,e);const _=s.getPenaltyN1(e)+s.getPenaltyN2(e)+s.getPenaltyN3(e)+s.getPenaltyN4(e);s.applyMask(l,e),_<d&&(d=_,c=l)}return c}},838:(j,s,i)=>{const n=i(1604),t=i(6082);s.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},s.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},s.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},s.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},s.MIXED={bit:-1},s.getCharCountIndicator=function(a,c){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!n.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?a.ccBits[0]:c<27?a.ccBits[1]:a.ccBits[2]},s.getBestModeForData=function(a){return t.testNumeric(a)?s.NUMERIC:t.testAlphanumeric(a)?s.ALPHANUMERIC:t.testKanji(a)?s.KANJI:s.BYTE},s.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},s.isValid=function(a){return a&&a.bit&&a.ccBits},s.from=function(a,c){if(s.isValid(a))return a;try{return function e(o){if("string"!=typeof o)throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return s.NUMERIC;case"alphanumeric":return s.ALPHANUMERIC;case"kanji":return s.KANJI;case"byte":return s.BYTE;default:throw new Error("Unknown mode: "+o)}}(a)}catch{return c}}},7035:(j,s,i)=>{const n=i(838);function t(e){this.mode=n.NUMERIC,this.data=e.toString()}t.getBitsLength=function(o){return 10*Math.floor(o/3)+(o%3?o%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(o){let a,c,d;for(a=0;a+3<=this.data.length;a+=3)c=this.data.substr(a,3),d=parseInt(c,10),o.put(d,10);const l=this.data.length-a;l>0&&(c=this.data.substr(a),d=parseInt(c,10),o.put(d,3*l+1))},j.exports=t},7767:(j,s,i)=>{const n=i(6965);s.mul=function(e,o){const a=new Uint8Array(e.length+o.length-1);for(let c=0;c<e.length;c++)for(let d=0;d<o.length;d++)a[c+d]^=n.mul(e[c],o[d]);return a},s.mod=function(e,o){let a=new Uint8Array(e);for(;a.length-o.length>=0;){const c=a[0];for(let l=0;l<o.length;l++)a[l]^=n.mul(o[l],c);let d=0;for(;d<a.length&&0===a[d];)d++;a=a.slice(d)}return a},s.generateECPolynomial=function(e){let o=new Uint8Array([1]);for(let a=0;a<e;a++)o=s.mul(o,new Uint8Array([1,n.exp(a)]));return o}},8715:(j,s,i)=>{const n=i(2656),t=i(139),e=i(4481),o=i(8038),a=i(919),c=i(9202),d=i(9366),l=i(2296),_=i(6758),r=i(8925),g=i(9211),f=i(838),h=i(7939);function N(A,U,k){const I=A.size,$=g.getEncodedBits(U,k);let O,D;for(O=0;O<15;O++)D=1==($>>O&1),A.set(O<6?O:O<8?O+1:I-15+O,8,D,!0),A.set(8,O<8?I-O-1:O<9?15-O-1+1:15-O-1,D,!0);A.set(I-8,8,1,!0)}function K(A,U,k,I){let $;if(Array.isArray(A))$=h.fromArray(A);else{if("string"!=typeof A)throw new Error("Invalid data");{let C=U;if(!C){const T=h.rawSplit(A);C=r.getBestVersionForData(T,k)}$=h.fromString(A,C||40)}}const O=r.getBestVersionForData($,k);if(!O)throw new Error("The amount of data is too big to be stored in a QR Code");if(U){if(U<O)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+O+".\n")}else U=O;const D=function L(A,U,k){const I=new e;k.forEach(function(F){I.put(F.mode.bit,4),I.put(F.getLength(),f.getCharCountIndicator(F.mode,A)),F.write(I)});const D=8*(n.getSymbolTotalCodewords(A)-l.getTotalCodewordsCount(A,U));for(I.getLengthInBits()+4<=D&&I.put(0,4);I.getLengthInBits()%8!=0;)I.putBit(0);const y=(D-I.getLengthInBits())/8;for(let F=0;F<y;F++)I.put(F%2?17:236,8);return function Y(A,U,k){const I=n.getSymbolTotalCodewords(U),O=I-l.getTotalCodewordsCount(U,k),D=l.getBlocksCount(U,k),F=D-I%D,C=Math.floor(I/D),T=Math.floor(O/D),E=T+1,M=C-T,u=new _(M);let S=0;const R=new Array(D),G=new Array(D);let p=0;const m=new Uint8Array(A.buffer);for(let V=0;V<D;V++){const Q=V<F?T:E;R[V]=m.slice(S,S+Q),G[V]=u.encode(R[V]),S+=Q,p=Math.max(p,Q)}const w=new Uint8Array(I);let z,W,H=0;for(z=0;z<p;z++)for(W=0;W<D;W++)z<R[W].length&&(w[H++]=R[W][z]);for(z=0;z<M;z++)for(W=0;W<D;W++)w[H++]=G[W][z];return w}(I,A,U)}(U,k,$),y=n.getSymbolSize(U),F=new o(y);return function x(A,U){const k=A.size,I=c.getPositions(U);for(let $=0;$<I.length;$++){const O=I[$][0],D=I[$][1];for(let y=-1;y<=7;y++)if(!(O+y<=-1||k<=O+y))for(let F=-1;F<=7;F++)D+F<=-1||k<=D+F||A.set(O+y,D+F,y>=0&&y<=6&&(0===F||6===F)||F>=0&&F<=6&&(0===y||6===y)||y>=2&&y<=4&&F>=2&&F<=4,!0)}}(F,U),function v(A){const U=A.size;for(let k=8;k<U-8;k++){const I=k%2==0;A.set(k,6,I,!0),A.set(6,k,I,!0)}}(F),function B(A,U){const k=a.getPositions(U);for(let I=0;I<k.length;I++){const $=k[I][0],O=k[I][1];for(let D=-2;D<=2;D++)for(let y=-2;y<=2;y++)A.set($+D,O+y,-2===D||2===D||-2===y||2===y||0===D&&0===y,!0)}}(F,U),N(F,k,0),U>=7&&function b(A,U){const k=A.size,I=r.getEncodedBits(U);let $,O,D;for(let y=0;y<18;y++)$=Math.floor(y/3),O=y%3+k-8-3,D=1==(I>>y&1),A.set($,O,D,!0),A.set(O,$,D,!0)}(F,U),function P(A,U){const k=A.size;let I=-1,$=k-1,O=7,D=0;for(let y=k-1;y>0;y-=2)for(6===y&&y--;;){for(let F=0;F<2;F++)if(!A.isReserved($,y-F)){let C=!1;D<U.length&&(C=1==(U[D]>>>O&1)),A.set($,y-F,C),O--,-1===O&&(D++,O=7)}if($+=I,$<0||k<=$){$-=I,I=-I;break}}}(F,D),isNaN(I)&&(I=d.getBestMask(F,N.bind(null,F,k))),d.applyMask(I,F),N(F,k,I),{modules:F,version:U,errorCorrectionLevel:k,maskPattern:I,segments:$}}s.create=function(U,k){if(typeof U>"u"||""===U)throw new Error("No input text");let $,O,I=t.M;return typeof k<"u"&&(I=t.from(k.errorCorrectionLevel,t.M),$=r.from(k.version),O=d.from(k.maskPattern),k.toSJISFunc&&n.setToSJISFunction(k.toSJISFunc)),K(U,$,I,O)}},6758:(j,s,i)=>{const n=i(7767);function t(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}t.prototype.initialize=function(o){this.degree=o,this.genPoly=n.generateECPolynomial(this.degree)},t.prototype.encode=function(o){if(!this.genPoly)throw new Error("Encoder not initialized");const a=new Uint8Array(o.length+this.degree);a.set(o);const c=n.mod(a,this.genPoly),d=this.degree-c.length;if(d>0){const l=new Uint8Array(this.degree);return l.set(c,d),l}return c},j.exports=t},6082:(j,s)=>{const i="[0-9]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const e="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+")(?:.|[\r\n]))+";s.KANJI=new RegExp(t,"g"),s.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),s.BYTE=new RegExp(e,"g"),s.NUMERIC=new RegExp(i,"g"),s.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const o=new RegExp("^"+t+"$"),a=new RegExp("^"+i+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");s.testKanji=function(l){return o.test(l)},s.testNumeric=function(l){return a.test(l)},s.testAlphanumeric=function(l){return c.test(l)}},7939:(j,s,i)=>{const n=i(838),t=i(7035),e=i(387),o=i(1736),a=i(1971),c=i(6082),d=i(2656),l=i(243);function _(b){return unescape(encodeURIComponent(b)).length}function r(b,N,P){const L=[];let Y;for(;null!==(Y=b.exec(P));)L.push({data:Y[0],index:Y.index,mode:N,length:Y[0].length});return L}function g(b){const N=r(c.NUMERIC,n.NUMERIC,b),P=r(c.ALPHANUMERIC,n.ALPHANUMERIC,b);let L,Y;return d.isKanjiModeEnabled()?(L=r(c.BYTE,n.BYTE,b),Y=r(c.KANJI,n.KANJI,b)):(L=r(c.BYTE_KANJI,n.BYTE,b),Y=[]),N.concat(P,L,Y).sort(function(A,U){return A.index-U.index}).map(function(A){return{data:A.data,mode:A.mode,length:A.length}})}function f(b,N){switch(N){case n.NUMERIC:return t.getBitsLength(b);case n.ALPHANUMERIC:return e.getBitsLength(b);case n.KANJI:return a.getBitsLength(b);case n.BYTE:return o.getBitsLength(b)}}function B(b,N){let P;const L=n.getBestModeForData(b);if(P=n.from(N,L),P!==n.BYTE&&P.bit<L.bit)throw new Error('"'+b+'" cannot be encoded with mode '+n.toString(P)+".\n Suggested mode is: "+n.toString(L));switch(P===n.KANJI&&!d.isKanjiModeEnabled()&&(P=n.BYTE),P){case n.NUMERIC:return new t(b);case n.ALPHANUMERIC:return new e(b);case n.KANJI:return new a(b);case n.BYTE:return new o(b)}}s.fromArray=function(N){return N.reduce(function(P,L){return"string"==typeof L?P.push(B(L,null)):L.data&&P.push(B(L.data,L.mode)),P},[])},s.fromString=function(N,P){const Y=function x(b){const N=[];for(let P=0;P<b.length;P++){const L=b[P];switch(L.mode){case n.NUMERIC:N.push([L,{data:L.data,mode:n.ALPHANUMERIC,length:L.length},{data:L.data,mode:n.BYTE,length:L.length}]);break;case n.ALPHANUMERIC:N.push([L,{data:L.data,mode:n.BYTE,length:L.length}]);break;case n.KANJI:N.push([L,{data:L.data,mode:n.BYTE,length:_(L.data)}]);break;case n.BYTE:N.push([{data:L.data,mode:n.BYTE,length:_(L.data)}])}}return N}(g(N,d.isKanjiModeEnabled())),K=function v(b,N){const P={},L={start:{}};let Y=["start"];for(let K=0;K<b.length;K++){const A=b[K],U=[];for(let k=0;k<A.length;k++){const I=A[k],$=""+K+k;U.push($),P[$]={node:I,lastCount:0},L[$]={};for(let O=0;O<Y.length;O++){const D=Y[O];P[D]&&P[D].node.mode===I.mode?(L[D][$]=f(P[D].lastCount+I.length,I.mode)-f(P[D].lastCount,I.mode),P[D].lastCount+=I.length):(P[D]&&(P[D].lastCount=I.length),L[D][$]=f(I.length,I.mode)+4+n.getCharCountIndicator(I.mode,N))}}Y=U}for(let K=0;K<Y.length;K++)L[Y[K]].end=0;return{map:L,table:P}}(Y,P),A=l.find_path(K.map,"start","end"),U=[];for(let k=1;k<A.length-1;k++)U.push(K.table[A[k]].node);return s.fromArray(function h(b){return b.reduce(function(N,P){const L=N.length-1>=0?N[N.length-1]:null;return L&&L.mode===P.mode?(N[N.length-1].data+=P.data,N):(N.push(P),N)},[])}(U))},s.rawSplit=function(N){return s.fromArray(g(N,d.isKanjiModeEnabled()))}},2656:(j,s)=>{let i;const n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];s.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},s.getSymbolTotalCodewords=function(e){return n[e]},s.getBCHDigit=function(t){let e=0;for(;0!==t;)e++,t>>>=1;return e},s.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');i=e},s.isKanjiModeEnabled=function(){return typeof i<"u"},s.toSJIS=function(e){return i(e)}},1604:(j,s)=>{s.isValid=function(n){return!isNaN(n)&&n>=1&&n<=40}},8925:(j,s,i)=>{const n=i(2656),t=i(2296),e=i(139),o=i(838),a=i(1604),d=n.getBCHDigit(7973);function _(f,h){return o.getCharCountIndicator(f,h)+4}function r(f,h){let x=0;return f.forEach(function(v){const B=_(v.mode,h);x+=B+v.getBitsLength()}),x}s.from=function(h,x){return a.isValid(h)?parseInt(h,10):x},s.getCapacity=function(h,x,v){if(!a.isValid(h))throw new Error("Invalid QR Code version");typeof v>"u"&&(v=o.BYTE);const N=8*(n.getSymbolTotalCodewords(h)-t.getTotalCodewordsCount(h,x));if(v===o.MIXED)return N;const P=N-_(v,h);switch(v){case o.NUMERIC:return Math.floor(P/10*3);case o.ALPHANUMERIC:return Math.floor(P/11*2);case o.KANJI:return Math.floor(P/13);default:return Math.floor(P/8)}},s.getBestVersionForData=function(h,x){let v;const B=e.from(x,e.M);if(Array.isArray(h)){if(h.length>1)return function g(f,h){for(let x=1;x<=40;x++)if(r(f,x)<=s.getCapacity(x,h,o.MIXED))return x}(h,B);if(0===h.length)return 1;v=h[0]}else v=h;return function l(f,h,x){for(let v=1;v<=40;v++)if(h<=s.getCapacity(v,x,f))return v}(v.mode,v.getLength(),B)},s.getEncodedBits=function(h){if(!a.isValid(h)||h<7)throw new Error("Invalid QR Code version");let x=h<<12;for(;n.getBCHDigit(x)-d>=0;)x^=7973<<n.getBCHDigit(x)-d;return h<<12|x}},465:(j,s,i)=>{const n=i(8428);s.render=function(a,c,d){let l=d,_=c;typeof l>"u"&&(!c||!c.getContext)&&(l=c,c=void 0),c||(_=function e(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),l=n.getOptions(l);const r=n.getImageWidth(a.modules.size,l),g=_.getContext("2d"),f=g.createImageData(r,r);return n.qrToImageData(f.data,a,l),function t(o,a,c){o.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=c,a.width=c,a.style.height=c+"px",a.style.width=c+"px"}(g,_,r),g.putImageData(f,0,0),_},s.renderToDataURL=function(a,c,d){let l=d;return typeof l>"u"&&(!c||!c.getContext)&&(l=c,c=void 0),l||(l={}),s.render(a,c,l).toDataURL(l.type||"image/png",(l.rendererOpts||{}).quality)}},5510:(j,s,i)=>{const n=i(8428);function t(a,c){const d=a.a/255,l=c+'="'+a.hex+'"';return d<1?l+" "+c+'-opacity="'+d.toFixed(2).slice(1)+'"':l}function e(a,c,d){let l=a+c;return typeof d<"u"&&(l+=" "+d),l}s.render=function(c,d,l){const _=n.getOptions(d),r=c.modules.size,g=c.modules.data,f=r+2*_.margin,h=_.color.light.a?"<path "+t(_.color.light,"fill")+' d="M0 0h'+f+"v"+f+'H0z"/>':"",x="<path "+t(_.color.dark,"stroke")+' d="'+function o(a,c,d){let l="",_=0,r=!1,g=0;for(let f=0;f<a.length;f++){const h=Math.floor(f%c),x=Math.floor(f/c);!h&&!r&&(r=!0),a[f]?(g++,f>0&&h>0&&a[f-1]||(l+=r?e("M",h+d,.5+x+d):e("m",_,0),_=0,r=!1),h+1<c&&a[f+1]||(l+=e("h",g),g=0)):_++}return l}(g,r,_.margin)+'"/>',b='<svg xmlns="http://www.w3.org/2000/svg" '+(_.width?'width="'+_.width+'" height="'+_.width+'" ':"")+'viewBox="0 0 '+f+" "+f+'" shape-rendering="crispEdges">'+h+x+"</svg>\n";return"function"==typeof l&&l(null,b),b}},8428:(j,s)=>{function i(n){if("number"==typeof n&&(n=n.toString()),"string"!=typeof n)throw new Error("Color should be defined as hex string");let t=n.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+n);(3===t.length||4===t.length)&&(t=Array.prototype.concat.apply([],t.map(function(o){return[o,o]}))),6===t.length&&t.push("F","F");const e=parseInt(t.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:255&e,hex:"#"+t.slice(0,6).join("")}}s.getOptions=function(t){t||(t={}),t.color||(t.color={});const o=t.width&&t.width>=21?t.width:void 0;return{width:o,scale:o?4:t.scale||4,margin:typeof t.margin>"u"||null===t.margin||t.margin<0?4:t.margin,color:{dark:i(t.color.dark||"#000000ff"),light:i(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},s.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},s.getImageWidth=function(t,e){const o=s.getScale(t,e);return Math.floor((t+2*e.margin)*o)},s.qrToImageData=function(t,e,o){const a=e.modules.size,c=e.modules.data,d=s.getScale(a,o),l=Math.floor((a+2*o.margin)*d),_=o.margin*d,r=[o.color.light,o.color.dark];for(let g=0;g<l;g++)for(let f=0;f<l;f++){let h=4*(g*l+f),x=o.color.light;g>=_&&f>=_&&g<l-_&&f<l-_&&(x=r[c[Math.floor((g-_)/d)*a+Math.floor((f-_)/d)]?1:0]),t[h++]=x.r,t[h++]=x.g,t[h++]=x.b,t[h]=x.a}}},243:j=>{"use strict";var s={single_source_shortest_paths:function(i,n,t){var e={},o={};o[n]=0;var c,d,l,_,r,f,a=s.PriorityQueue.make();for(a.push(n,0);!a.empty();)for(l in _=(c=a.pop()).cost,r=i[d=c.value]||{})r.hasOwnProperty(l)&&(f=_+r[l],(typeof o[l]>"u"||o[l]>f)&&(o[l]=f,a.push(l,f),e[l]=d));if(typeof t<"u"&&typeof o[t]>"u"){var v=["Could not find a path from ",n," to ",t,"."].join("");throw new Error(v)}return e},extract_shortest_path_from_predecessor_list:function(i,n){for(var t=[],e=n;e;)t.push(e),e=i[e];return t.reverse(),t},find_path:function(i,n,t){var e=s.single_source_shortest_paths(i,n,t);return s.extract_shortest_path_from_predecessor_list(e,t)},PriorityQueue:{make:function(i){var e,n=s.PriorityQueue,t={};for(e in i=i||{},n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t.queue=[],t.sorter=i.sorter||n.default_sorter,t},default_sorter:function(i,n){return i.cost-n.cost},push:function(i,n){this.queue.push({value:i,cost:n}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};j.exports=s},3174:j=>{"use strict";j.exports=function(i){for(var n=[],t=i.length,e=0;e<t;e++){var o=i.charCodeAt(e);if(o>=55296&&o<=56319&&t>e+1){var a=i.charCodeAt(e+1);a>=56320&&a<=57343&&(o=1024*(o-55296)+a-56320+65536,e+=1)}o<128?n.push(o):o<2048?(n.push(o>>6|192),n.push(63&o|128)):o<55296||o>=57344&&o<65536?(n.push(o>>12|224),n.push(o>>6&63|128),n.push(63&o|128)):o>=65536&&o<=1114111?(n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(63&o|128)):n.push(239,191,189)}return new Uint8Array(n).buffer}},6182:(j,s,i)=>{"use strict";i.d(s,{B0:()=>o});var n=i(177),t=i(4438);class e{constructor(_,r){this._document=r;const g=this._textarea=this._document.createElement("textarea"),f=g.style;f.position="fixed",f.top=f.opacity="0",f.left="-999em",g.setAttribute("aria-hidden","true"),g.value=_,g.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(g)}copy(){const _=this._textarea;let r=!1;try{if(_){const g=this._document.activeElement;_.select(),_.setSelectionRange(0,_.value.length),r=this._document.execCommand("copy"),g&&g.focus()}}catch{}return r}destroy(){const _=this._textarea;_&&(_.remove(),this._textarea=void 0)}}let o=(()=>{class l{constructor(r){this._document=r}copy(r){const g=this.beginCopy(r),f=g.copy();return g.destroy(),f}beginCopy(r){return new e(r,this._document)}static{this.\u0275fac=function(g){return new(g||l)(t.KVO(n.qQ))}}static{this.\u0275prov=t.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})()},9454:(j,s,i)=>{"use strict";i.d(s,{MY:()=>C});var n=i(4438);let d=(()=>{class T{static{this.\u0275fac=function(u){return new(u||T)}}static{this.\u0275mod=n.$C({type:T})}static{this.\u0275inj=n.G2t({})}}return T})();var l=i(6939),_=i(6600);i(9969);let C=(()=>{class T{static{this.\u0275fac=function(u){return new(u||T)}}static{this.\u0275mod=n.$C({type:T})}static{this.\u0275inj=n.G2t({imports:[_.yE,d,l.jc]})}}return T})()},9183:(j,s,i)=>{"use strict";i.d(s,{D6:()=>f,LG:()=>r});var n=i(4438),t=i(177),e=i(6600);const o=["determinateSpinner"];function a(h,x){if(1&h&&(n.qSk(),n.j41(0,"svg",11),n.nrm(1,"circle",12),n.k0s()),2&h){const v=n.XpG();n.BMQ("viewBox",v._viewBox()),n.R7$(),n.xc7("stroke-dasharray",v._strokeCircumference(),"px")("stroke-dashoffset",v._strokeCircumference()/2,"px")("stroke-width",v._circleStrokeWidth(),"%"),n.BMQ("r",v._circleRadius())}}const c=new n.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function d(){return{diameter:l}}}),l=100;let r=(()=>{class h{get color(){return this._color||this._defaultColor}set color(v){this._color=v}constructor(v,B,b){this._elementRef=v,this._defaultColor="primary",this._value=0,this._diameter=l,this._noopAnimations="NoopAnimations"===B&&!!b&&!b._forceAnimations,this.mode="mat-spinner"===v.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",b&&(b.color&&(this.color=this._defaultColor=b.color),b.diameter&&(this.diameter=b.diameter),b.strokeWidth&&(this.strokeWidth=b.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(v){this._value=Math.max(0,Math.min(100,v||0))}get diameter(){return this._diameter}set diameter(v){this._diameter=v||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(v){this._strokeWidth=v||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const v=2*this._circleRadius()+this.strokeWidth;return`0 0 ${v} ${v}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static{this.\u0275fac=function(B){return new(B||h)(n.rXU(n.aKT),n.rXU(n.bc$,8),n.rXU(c))}}static{this.\u0275cmp=n.VBU({type:h,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(B,b){if(1&B&&n.GBs(o,5),2&B){let N;n.mGM(N=n.lsd())&&(b._determinateCircle=N.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(B,b){2&B&&(n.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===b.mode?b.value:null)("mode",b.mode),n.HbH("mat-"+b.color),n.xc7("width",b.diameter,"px")("height",b.diameter,"px")("--mdc-circular-progress-size",b.diameter+"px")("--mdc-circular-progress-active-indicator-width",b.diameter+"px"),n.AVh("_mat-animation-noopable",b._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===b.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",n.Udg],diameter:[2,"diameter","diameter",n.Udg],strokeWidth:[2,"strokeWidth","strokeWidth",n.Udg]},exportAs:["matProgressSpinner"],standalone:!0,features:[n.GFd,n.aNF],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(B,b){if(1&B&&(n.DNE(0,a,2,8,"ng-template",null,0,n.C5r),n.j41(2,"div",2,1),n.qSk(),n.j41(4,"svg",3),n.nrm(5,"circle",4),n.k0s()(),n.joV(),n.j41(6,"div",5)(7,"div",6)(8,"div",7),n.eu8(9,8),n.k0s(),n.j41(10,"div",9),n.eu8(11,8),n.k0s(),n.j41(12,"div",10),n.eu8(13,8),n.k0s()()()),2&B){const N=n.sdS(1);n.R7$(4),n.BMQ("viewBox",b._viewBox()),n.R7$(),n.xc7("stroke-dasharray",b._strokeCircumference(),"px")("stroke-dashoffset",b._strokeDashOffset(),"px")("stroke-width",b._circleStrokeWidth(),"%"),n.BMQ("r",b._circleRadius()),n.R7$(4),n.Y8G("ngTemplateOutlet",N),n.R7$(2),n.Y8G("ngTemplateOutlet",N),n.R7$(2),n.Y8G("ngTemplateOutlet",N)}},dependencies:[t.T3],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-app-primary))}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}}return h})(),f=(()=>{class h{static{this.\u0275fac=function(B){return new(B||h)}}static{this.\u0275mod=n.$C({type:h})}static{this.\u0275inj=n.G2t({imports:[t.MD,e.yE]})}}return h})()},5398:(j,s,i)=>{"use strict";i.d(s,{c:()=>c,f:()=>d});var n=i(467),t=i(4438),e=i(2577),o=i(345);const a=["qrcElement"];let c=(()=>{class l{constructor(r,g){this.renderer=r,this.sanitizer=g,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new t.bkB,this.context=null}ngOnChanges(){var r=this;return(0,n.A)(function*(){yield r.createQRCode()})()}isValidQrCodeText(r){return!1===this.allowEmptyString?!(typeof r>"u"||""===r||"null"===r||null===r):!(typeof r>"u")}toDataURL(r){return new Promise((g,f)=>{(0,e.dY)(this.qrdata,r,(h,x)=>{h?f(h):g(x)})})}toCanvas(r,g){return new Promise((f,h)=>{(0,e.mo)(r,this.qrdata,g,x=>{x?h(x):f("success")})})}toSVG(r){return new Promise((g,f)=>{(0,e.toString)(this.qrdata,r,(h,x)=>{h?f(h):g(x)})})}renderElement(r){for(const g of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,g);this.renderer.appendChild(this.qrcElement.nativeElement,r)}createQRCode(){var r=this;return(0,n.A)(function*(){r.version&&r.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),r.version=40):r.version&&r.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),r.version=1):void 0!==r.version&&isNaN(r.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),r.version=void 0);try{if(!r.isValidQrCodeText(r.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");r.isValidQrCodeText(r.qrdata)&&""===r.qrdata&&(r.qrdata=" ");const g={color:{dark:r.colorDark,light:r.colorLight},errorCorrectionLevel:r.errorCorrectionLevel,margin:r.margin,scale:r.scale,version:r.version,width:r.width},f=r.imageSrc,h=r.imageHeight||40,x=r.imageWidth||40;switch(r.elementType){case"canvas":{const v=r.renderer.createElement("canvas");r.context=v.getContext("2d"),r.toCanvas(v,g).then(()=>{if(r.ariaLabel&&r.renderer.setAttribute(v,"aria-label",`${r.ariaLabel}`),r.title&&r.renderer.setAttribute(v,"title",`${r.title}`),f&&r.context){r.centerImage=new Image(x,h),f!==r.centerImage.src&&(r.centerImage.crossOrigin="anonymous",r.centerImage.src=f),h!==r.centerImage.height&&(r.centerImage.height=h),x!==r.centerImage.width&&(r.centerImage.width=x);const B=r.centerImage;B&&(B.onload=()=>{r.context?.drawImage(B,v.width/2-x/2,v.height/2-h/2,x,h)})}r.renderElement(v),r.emitQRCodeURL(v)}).catch(B=>{console.error("[angularx-qrcode] canvas error:",B)});break}case"svg":{const v=r.renderer.createElement("div");r.toSVG(g).then(B=>{r.renderer.setProperty(v,"innerHTML",B);const b=v.firstChild;r.renderer.setAttribute(b,"height",`${r.width}`),r.renderer.setAttribute(b,"width",`${r.width}`),r.renderElement(b),r.emitQRCodeURL(b)}).catch(B=>{console.error("[angularx-qrcode] svg error:",B)});break}default:{const v=r.renderer.createElement("img");r.toDataURL(g).then(B=>{r.alt&&v.setAttribute("alt",r.alt),r.ariaLabel&&v.setAttribute("aria-label",r.ariaLabel),v.setAttribute("src",B),r.title&&v.setAttribute("title",r.title),r.renderElement(v),r.emitQRCodeURL(v)}).catch(B=>{console.error("[angularx-qrcode] img/url error:",B)})}}}catch(g){console.error("[angularx-qrcode] Error generating QR Code:",g.message)}})()}convertBase64ImageUrlToBlob(r){const g=r.split(";base64,"),f=g[0].split(":")[1],h=atob(g[1]),x=new Uint8Array(h.length);for(let v=0;v<h.length;++v)x[v]=h.charCodeAt(v);return new Blob([x],{type:f})}emitQRCodeURL(r){const g=r.constructor.name;if(g===SVGSVGElement.name){const b=new Blob([r.outerHTML],{type:"image/svg+xml"}),N=URL.createObjectURL(b),P=this.sanitizer.bypassSecurityTrustUrl(N);return void this.qrCodeURL.emit(P)}let f="";g===HTMLCanvasElement.name&&(f=r.toDataURL("image/png")),g===HTMLImageElement.name&&(f=r.src);const h=this.convertBase64ImageUrlToBlob(f),x=URL.createObjectURL(h),v=this.sanitizer.bypassSecurityTrustUrl(x);this.qrCodeURL.emit(v)}static{this.\u0275fac=function(g){return new(g||l)(t.rXU(t.sFG),t.rXU(o.up))}}static{this.\u0275cmp=t.VBU({type:l,selectors:[["qrcode"]],viewQuery:function(g,f){if(1&g&&t.GBs(a,7),2&g){let h;t.mGM(h=t.lsd())&&(f.qrcElement=h.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[t.OA$],decls:2,vars:2,consts:[["qrcElement",""]],template:function(g,f){1&g&&t.nrm(0,"div",null,0),2&g&&t.HbH(f.cssClass)},encapsulation:2,changeDetection:0})}}return l})(),d=(()=>{class l{static{this.\u0275fac=function(g){return new(g||l)}}static{this.\u0275mod=t.$C({type:l})}static{this.\u0275inj=t.G2t({})}}return l})()},7540:(j,s,i)=>{"use strict";i.d(s,{e:()=>G});var n=i(4438);let G=(()=>{class p{static{this.\u0275fac=function(H){return new(H||p)}}static{this.\u0275mod=n.$C({type:p})}static{this.\u0275inj=n.G2t({})}}return p})()}}]);