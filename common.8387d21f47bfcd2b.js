"use strict";(self.webpackChunkangor=self.webpackChunkangor||[]).push([[76],{5167:(b,y,a)=>{a.d(y,{n:()=>h});var f=a(1648),u=a(4085),r=a(4438);const l=[[["","angorCardFront",""]],[["","angorCardBack",""]],"*",[["","angorCardExpansion",""]]],n=["[angorCardFront]","[angorCardBack]","*","[angorCardExpansion]"];function s(i,d){1&i&&(r.j41(0,"div",0),r.SdG(1),r.k0s(),r.j41(2,"div",1),r.SdG(3,1),r.k0s())}function o(i,d){1&i&&(r.j41(0,"div",2),r.SdG(1,3),r.k0s()),2&i&&r.Y8G("@expandCollapse",void 0)}function g(i,d){if(1&i&&(r.SdG(0,2),r.DNE(1,o,2,1,"div",2)),2&i){const c=r.XpG();r.R7$(),r.vxM(c.expanded?1:-1)}}let h=(()=>{class i{constructor(){this.expanded=!1,this.face="front",this.flippable=!1}get classList(){return{"angor-card-expanded":this.expanded,"angor-card-face-back":this.flippable&&"back"===this.face,"angor-card-face-front":this.flippable&&"front"===this.face,"angor-card-flippable":this.flippable}}ngOnChanges(c){"expanded"in c&&(this.expanded=(0,u.he)(c.expanded.currentValue)),"flippable"in c&&(this.flippable=(0,u.he)(c.flippable.currentValue))}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=r.VBU({type:i,selectors:[["angor-card"]],hostVars:2,hostBindings:function(e,t){2&e&&r.HbH(t.classList)},inputs:{expanded:"expanded",face:"face",flippable:"flippable"},exportAs:["angorCard"],standalone:!0,features:[r.OA$,r.aNF],ngContentSelectors:n,decls:2,vars:2,consts:[[1,"angor-card-front"],[1,"angor-card-back"],[1,"angor-card-expansion"]],template:function(e,t){1&e&&(r.NAR(l),r.DNE(0,s,4,0)(1,g,2,1)),2&e&&(r.vxM(t.flippable?0:-1),r.R7$(),r.vxM(t.flippable?-1:1))},styles:["angor-card{position:relative;display:flex;overflow:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--angor-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}angor-card.angor-card-flippable{border-radius:0;overflow:visible;transform-style:preserve-3d;transition:transform 1s;perspective:600px;background:transparent;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}angor-card.angor-card-flippable.angor-card-face-back .angor-card-front{visibility:hidden;opacity:0;transform:rotateY(180deg)}angor-card.angor-card-flippable.angor-card-face-back .angor-card-back{visibility:visible;opacity:1;transform:rotateY(360deg)}angor-card.angor-card-flippable .angor-card-front,angor-card.angor-card-flippable .angor-card-back{display:flex;flex-direction:column;flex:1 1 auto;z-index:10;transition:transform .5s ease-out 0s,visibility 0s ease-in .2s,opacity 0s ease-in .2s;backface-visibility:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--angor-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}angor-card.angor-card-flippable .angor-card-front{position:relative;opacity:1;visibility:visible;transform:rotateY(0);overflow:hidden}angor-card.angor-card-flippable .angor-card-back{position:absolute;inset:0;opacity:0;visibility:hidden;transform:rotateY(180deg);overflow:hidden auto}\n"],encapsulation:2,data:{animation:f.F}})}}return i})()},833:(b,y,a)=>{a.d(y,{F:()=>u});var f=a(4438);let u=(()=>{class r{constructor(){this.mainnetLocalStorageKey="mainnetIndexers",this.testnetLocalStorageKey="testnetIndexers",this.mainnetPrimaryIndexerKey="mainnetPrimaryIndexer",this.testnetPrimaryIndexerKey="testnetPrimaryIndexer",this.networkStorageKey="selectedNetwork",this.defaultMainnetIndexer="https://btc.indexer.angor.io/",this.defaultTestnetIndexer="https://tbtc.indexer.angor.io/",this.initializeDefaultIndexers()}initializeDefaultIndexers(){0===this.getIndexers("mainnet").length&&(this.addIndexer(this.defaultMainnetIndexer,"mainnet"),this.setPrimaryIndexer(this.defaultMainnetIndexer,"mainnet")),0===this.getIndexers("testnet").length&&(this.addIndexer(this.defaultTestnetIndexer,"testnet"),this.setPrimaryIndexer(this.defaultTestnetIndexer,"testnet"))}addIndexer(n,s){let o=this.getIndexers(s);o.includes(n)||(o.push(n),this.saveIndexers(o,s))}getIndexers(n){return JSON.parse(localStorage.getItem("mainnet"===n?this.mainnetLocalStorageKey:this.testnetLocalStorageKey)||"[]")}saveIndexers(n,s){localStorage.setItem("mainnet"===s?this.mainnetLocalStorageKey:this.testnetLocalStorageKey,JSON.stringify(n))}setPrimaryIndexer(n,s){this.getIndexers(s).includes(n)&&localStorage.setItem("mainnet"===s?this.mainnetPrimaryIndexerKey:this.testnetPrimaryIndexerKey,n)}getPrimaryIndexer(n){return localStorage.getItem("mainnet"===n?this.mainnetPrimaryIndexerKey:this.testnetPrimaryIndexerKey)}removeIndexer(n,s){let o=this.getIndexers(s);const g=o.indexOf(n);-1!==g&&(o.splice(g,1),this.saveIndexers(o,s),n===this.getPrimaryIndexer(s))&&localStorage.removeItem("mainnet"===s?this.mainnetPrimaryIndexerKey:this.testnetPrimaryIndexerKey)}clearAllIndexers(n){const o="mainnet"===n?this.mainnetPrimaryIndexerKey:this.testnetPrimaryIndexerKey;localStorage.removeItem("mainnet"===n?this.mainnetLocalStorageKey:this.testnetLocalStorageKey),localStorage.removeItem(o)}setNetwork(n){localStorage.setItem(this.networkStorageKey,n)}getNetwork(){return localStorage.getItem(this.networkStorageKey)||"testnet"}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=f.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})()},2914:(b,y,a)=>{a.d(y,{m:()=>i});var f=a(719),u=a(4438),r=a(3813),l=a(5766),n=a(5416),s=a(345);let h=(()=>{class d{constructor(e,t){this.snackBar=e,this.sanitizer=t,this.defaultBackground="url(/assets/gradient.jpg)"}unsubscribe(e){if(e)for(let t=0;t<e.length;t++)e[t].unsubscribe()}now(){return Math.floor(Date.now()/1e3)}getBannerBackgroundStyle(e){if(!e)return this.defaultBackground;if("string"==typeof e){const t=this.sanitizeImageUrl(e);return t?`url(${t})`:this.defaultBackground}return`url(${this.bypassStyle(e)})`}millisatoshisToSatoshis(e){return Math.floor(e/1e3)}getRelayUrls(e){let t=e;if(Array.isArray(t)){t={};for(let m=0;m<e.length;m++)t[e[m]]={}}return Object.keys(t)}getNostrIdentifier(e){try{const t=this.hexToArray(e);return this.convertToBech32(t,"npub")}catch{return e}}copy(e){this.copyToClipboard(e),this.snackBar.open("Copied to clipboard","Hide",{duration:2500,horizontalPosition:"center",verticalPosition:"bottom"})}copyToClipboard(e){var t=document.createElement("textarea");t.style.position="fixed",t.style.top=0,t.style.left=0,t.style.width="2em",t.style.height="2em",t.style.padding=0,t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",t.value=e,document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch{console.error("Oops, unable to copy")}document.body.removeChild(t)}getHexIdentifier(e){const t=this.hexToArray(e);return this.convertToBech32(t,"npub")}getShortenedIdentifier(e){const t=this.getNostrIdentifier(e);return`${t.substring(5,13)}:${t.substring(t.length-8)}`}convertToBech32(e,t){const p=r.I.toWords(e);return r.I.encode(t,p)}hexToArray(e){return(0,l.aT)(e)}arrayToHex(e){return(0,l.My)(e)}keyToHex(e){return(0,l.My)(e)}sanitizeLUD06(e){if(e&&!e.startsWith("http"))return this.bypassUrl(e)}sanitizeUrlAndBypass(e){const t=this.sanitizeUrl(e);return this.bypassUrl(t)}sanitizeUrlAndBypassFrame(e){const t=this.sanitizeUrl(e);return this.bypassFrameUrl(t)}sanitizeUrl(e,t){if(!e)return"";if(!e?.startsWith("http")){if(!t)return e.startsWith("/assets")?e:"";e="https://"+e}return e}sanitizeImageUrl(e){if(!(e=this.sanitizeUrl(e)))return;let t=e.toLowerCase();return t=t.split("?")[0],t.endsWith("jpg")||t.endsWith("jpeg")||t.endsWith("png")||t.endsWith("webp")||t.endsWith("gif")?e:void 0}bypassUrl(e){return this.sanitizer.bypassSecurityTrustUrl(e)}bypassStyle(e){return this.sanitizer.bypassSecurityTrustStyle(e)}bypassFrameUrl(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}static{this.\u0275fac=function(t){return new(t||d)(u.KVO(n.UG),u.KVO(s.up))}}static{this.\u0275prov=u.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),i=(()=>{class d{constructor(e){this.utilities=e,this.imageExtensions=[".jpg",".jpeg",".gif",".png",".webp",".apng",".jfif",".svg"],this.videoExtensions=[".mp4",".m4v",".m4p",".mpg",".mpeg",".webm",".avif",".mov",".ogv"],this.audioExtensions=[".mp3",".m4a",".flac",".ogg",".wav"]}isImage(e){return this.imageExtensions.some(t=>e.includes(t))}isVideo(e){return this.videoExtensions.some(t=>e.includes(t))}isAudio(e){return this.audioExtensions.some(t=>e.includes(t))}isYouTube(e){return e.includes("youtu.be")||e.includes("youtube.com")}isSpotify(e){return e.includes("open.spotify.com")}isTidal(e){return e.includes("tidal.com")}parseContent(e){return e=e.replaceAll(new RegExp("\\p{Cf}","gu"),""),this.tokenizeText(e).map(p=>this.processToken(p))}tokenizeText(e){return e.split(/(\s|,|#\[[^\]]*\])/).filter(t=>""!==t)}processToken(e){return e.startsWith("nostr:")?this.processNostrToken(e):e.startsWith("@")?this.processUsernameToken(e):e.startsWith("http://")||e.startsWith("https://")?this.processLinkToken(e):e}processNostrToken(e){const t=f.Qe.decode(e.substring(6)),p=t.data;switch(t.type){case"nprofile":case"npub":case"note":case"nevent":return{safeWord:this.utilities.sanitizeUrlAndBypass(e),word:p,token:t.type};default:return e}}processUsernameToken(e){const t=e.substring(1),p=this.findNpubByUsername(t);if(p){const m=f.Qe.decode(p);return{safeWord:this.utilities.sanitizeUrlAndBypass(e),word:m.data,token:m.type}}return e}processLinkToken(e){return this.isImage(e)?{safeWord:this.utilities.sanitizeUrlAndBypass(e),word:e,token:"image"}:this.isVideo(e)?{safeWord:this.utilities.sanitizeUrlAndBypass(e),word:e,token:"video"}:this.isAudio(e)?{safeWord:this.utilities.sanitizeUrlAndBypass(e),word:e,token:"audio"}:this.isYouTube(e)?this.processYouTubeLink(e):this.isSpotify(e)?this.processSpotifyLink(e):this.isTidal(e)?this.processTidalLink(e):{word:e,token:"link"}}processYouTubeLink(e){const t=this.extractYouTubeId(e);return{safeWord:this.utilities.bypassFrameUrl(`https://www.youtube.com/embed/${t}`),word:`https://www.youtube.com/embed/${t}`,token:"youtube"}}processSpotifyLink(e){return{safeWord:this.utilities.sanitizeUrlAndBypassFrame(e.replace("open.spotify.com/","open.spotify.com/embed/")),word:e,token:"spotify"}}processTidalLink(e){const t=e.replace("tidal.com/browse/track/","embed.tidal.com/tracks/");return{safeWord:this.utilities.sanitizeUrlAndBypassFrame(t),word:e,token:"tidal"}}extractYouTubeId(e){const t=e.match(/(?:youtu\.be\/|youtube\.com\/watch\?v=)([^&]+)/);return t?t[1]:""}findNpubByUsername(e){}static{this.\u0275fac=function(t){return new(t||d)(u.KVO(h))}}static{this.\u0275prov=u.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})()},7106:(b,y,a)=>{function f(u,r){this.v=u,this.k=r}a.d(y,{A:()=>f})},6218:(b,y,a)=>{a.d(y,{A:()=>u});var f=a(7106);function u(r){return new f.A(r,0)}},600:(b,y,a)=>{a.d(y,{A:()=>u});var f=a(7106);function u(l){return function(){return new r(l.apply(this,arguments))}}function r(l){var n,s;function o(h,i){try{var d=l[h](i),c=d.value,e=c instanceof f.A;Promise.resolve(e?c.v:c).then(function(t){if(e){var p="return"===h?"return":"next";if(!c.k||t.done)return o(p,t);t=l[p](t).value}g(d.done?"return":"normal",t)},function(t){o("throw",t)})}catch(t){g("throw",t)}}function g(h,i){switch(h){case"return":n.resolve({value:i,done:!0});break;case"throw":n.reject(i);break;default:n.resolve({value:i,done:!1})}(n=n.next)?o(n.key,n.arg):s=null}this._invoke=function(h,i){return new Promise(function(d,c){var e={key:h,arg:i,resolve:d,reject:c,next:null};s?s=s.next=e:(n=s=e,o(h,i))})},"function"!=typeof l.return&&(this.return=void 0)}r.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},r.prototype.next=function(l){return this._invoke("next",l)},r.prototype.throw=function(l){return this._invoke("throw",l)},r.prototype.return=function(l){return this._invoke("return",l)}}}]);