import{B as cl,C as dl,E as qt,F as An,H as bt,I as hr,M as fr,N as hl,P as fl,Q as ul,S as ml,T as pl,U as gl,V as zo,W as vl,a as lt,b as Bo,c as ol,d as Gi,e as lr,f as Yi,h as cr,i as Vo,j as In,k as Ki,l as dr,m as No,n as Pe,o as Dn,p as sl,s as al,t as jo,v as ll}from"./chunk-OXX2SIMU.js";import{$ as et,$a as Za,$b as Wt,A as ii,Ab as Ai,B as Ut,Bb as En,C as wn,Cb as Cn,Da as ve,Ea as M,G as za,Ga as rr,Ha as or,Ia as qa,Ib as Ae,J as To,Ja as Lo,Jb as si,Ka as xn,N as Po,Na as qi,Oa as Ga,P as tr,Pa as st,Q as ir,Qa as Ht,R as He,Ra as Be,S as Ua,Ta as sr,Tb as Ja,U as Ha,Ua as Ya,Ub as el,V as Hi,Va as at,W as Tt,Wa as tt,Wb as tl,X as fe,Y as Me,Ya as $e,Yb as $t,Z as De,Zb as we,_ as ee,_a as Ka,_b as Sn,a as le,ac as It,b as _e,ba as $a,bb as Ve,c as vn,ca as ni,cc as Fo,da as Te,dc as Ne,e as $f,ea as ae,eb as ce,ec as il,f as Wf,fb as pe,fc as nl,g as qf,gb as it,h as q,i as Mt,ia as Wa,j as _n,ja as ot,jc as rl,k as he,ka as _t,kb as Ii,l as zt,la as yt,lb as Di,ma as nr,nb as We,o as Ba,oa as $i,oc as ar,p as Va,pa as Wi,pb as nt,q as Mo,qa as Si,qb as oi,ra as xe,rb as Ke,sa as ye,t as yn,ua as be,ub as Pt,vb as Ze,w as Na,wb as Ee,x as ja,xb as Ce,y as bn,ya as ri,yb as Xa,zb as Qa}from"./chunk-FUI3C4R4.js";var jc=$f((Nc,as)=>{(function(i){if(typeof Nc=="object"&&typeof as<"u")as.exports=i();else if(typeof define=="function"&&define.amd)define([],i);else{var e;typeof window<"u"?e=window:typeof global<"u"?e=global:typeof self<"u"?e=self:e=this,e.localforage=i()}})(function(){var i,e,n;return function t(r,o,s){function a(h,f){if(!o[h]){if(!r[h]){var m=typeof vn=="function"&&vn;if(!f&&m)return m(h,!0);if(l)return l(h,!0);var g=new Error("Cannot find module '"+h+"'");throw g.code="MODULE_NOT_FOUND",g}var v=o[h]={exports:{}};r[h][0].call(v.exports,function(p){var y=r[h][1][p];return a(y||p)},v,v.exports,t,r,o,s)}return o[h].exports}for(var l=typeof vn=="function"&&vn,c=0;c<s.length;c++)a(s[c]);return a}({1:[function(t,r,o){(function(s){"use strict";var a=s.MutationObserver||s.WebKitMutationObserver,l;if(a){var c=0,h=new a(p),f=s.document.createTextNode("");h.observe(f,{characterData:!0}),l=function(){f.data=c=++c%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var m=new s.MessageChannel;m.port1.onmessage=p,l=function(){m.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?l=function(){var E=s.document.createElement("script");E.onreadystatechange=function(){p(),E.onreadystatechange=null,E.parentNode.removeChild(E),E=null},s.document.documentElement.appendChild(E)}:l=function(){setTimeout(p,0)};var g,v=[];function p(){g=!0;for(var E,S,D=v.length;D;){for(S=v,v=[],E=-1;++E<D;)S[E]();D=v.length}g=!1}r.exports=y;function y(E){v.push(E)===1&&!g&&l()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(t,r,o){"use strict";var s=t(1);function a(){}var l={},c=["REJECTED"],h=["FULFILLED"],f=["PENDING"];r.exports=m;function m(C){if(typeof C!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,C!==a&&y(this,C)}m.prototype.catch=function(C){return this.then(null,C)},m.prototype.then=function(C,O){if(typeof C!="function"&&this.state===h||typeof O!="function"&&this.state===c)return this;var R=new this.constructor(a);if(this.state!==f){var j=this.state===h?C:O;v(R,j,this.outcome)}else this.queue.push(new g(R,C,O));return R};function g(C,O,R){this.promise=C,typeof O=="function"&&(this.onFulfilled=O,this.callFulfilled=this.otherCallFulfilled),typeof R=="function"&&(this.onRejected=R,this.callRejected=this.otherCallRejected)}g.prototype.callFulfilled=function(C){l.resolve(this.promise,C)},g.prototype.otherCallFulfilled=function(C){v(this.promise,this.onFulfilled,C)},g.prototype.callRejected=function(C){l.reject(this.promise,C)},g.prototype.otherCallRejected=function(C){v(this.promise,this.onRejected,C)};function v(C,O,R){s(function(){var j;try{j=O(R)}catch(z){return l.reject(C,z)}j===C?l.reject(C,new TypeError("Cannot resolve promise with itself")):l.resolve(C,j)})}l.resolve=function(C,O){var R=E(p,O);if(R.status==="error")return l.reject(C,R.value);var j=R.value;if(j)y(C,j);else{C.state=h,C.outcome=O;for(var z=-1,U=C.queue.length;++z<U;)C.queue[z].callFulfilled(O)}return C},l.reject=function(C,O){C.state=c,C.outcome=O;for(var R=-1,j=C.queue.length;++R<j;)C.queue[R].callRejected(O);return C};function p(C){var O=C&&C.then;if(C&&(typeof C=="object"||typeof C=="function")&&typeof O=="function")return function(){O.apply(C,arguments)}}function y(C,O){var R=!1;function j(X){R||(R=!0,l.reject(C,X))}function z(X){R||(R=!0,l.resolve(C,X))}function U(){O(z,j)}var Z=E(U);Z.status==="error"&&j(Z.value)}function E(C,O){var R={};try{R.value=C(O),R.status="success"}catch(j){R.status="error",R.value=j}return R}m.resolve=S;function S(C){return C instanceof this?C:l.resolve(new this(a),C)}m.reject=D;function D(C){var O=new this(a);return l.reject(O,C)}m.all=V;function V(C){var O=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=C.length,j=!1;if(!R)return this.resolve([]);for(var z=new Array(R),U=0,Z=-1,X=new this(a);++Z<R;)te(C[Z],Z);return X;function te(A,T){O.resolve(A).then(H,function(Y){j||(j=!0,l.reject(X,Y))});function H(Y){z[T]=Y,++U===R&&!j&&(j=!0,l.resolve(X,z))}}}m.race=N;function N(C){var O=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=C.length,j=!1;if(!R)return this.resolve([]);for(var z=-1,U=new this(a);++z<R;)Z(C[z]);return U;function Z(X){O.resolve(X).then(function(te){j||(j=!0,l.resolve(U,te))},function(te){j||(j=!0,l.reject(U,te))})}}},{1:1}],3:[function(t,r,o){(function(s){"use strict";typeof s.Promise!="function"&&(s.Promise=t(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(t,r,o){"use strict";var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};function a(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var c=l();function h(){try{if(!c||!c.open)return!1;var d=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),_=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!d||_)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function f(d,_){d=d||[],_=_||{};try{return new Blob(d,_)}catch(b){if(b.name!=="TypeError")throw b;for(var u=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,w=new u,x=0;x<d.length;x+=1)w.append(d[x]);return w.getBlob(_.type)}}typeof Promise>"u"&&t(3);var m=Promise;function g(d,_){_&&d.then(function(u){_(null,u)},function(u){_(u)})}function v(d,_,u){typeof _=="function"&&d.then(_),typeof u=="function"&&d.catch(u)}function p(d){return typeof d!="string"&&(console.warn(d+" used as a key, but it is not a string."),d=String(d)),d}function y(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var E="local-forage-detect-blob-support",S=void 0,D={},V=Object.prototype.toString,N="readonly",C="readwrite";function O(d){for(var _=d.length,u=new ArrayBuffer(_),w=new Uint8Array(u),x=0;x<_;x++)w[x]=d.charCodeAt(x);return u}function R(d){return new m(function(_){var u=d.transaction(E,C),w=f([""]);u.objectStore(E).put(w,"key"),u.onabort=function(x){x.preventDefault(),x.stopPropagation(),_(!1)},u.oncomplete=function(){var x=navigator.userAgent.match(/Chrome\/(\d+)/),b=navigator.userAgent.match(/Edge\//);_(b||!x||parseInt(x[1],10)>=43)}}).catch(function(){return!1})}function j(d){return typeof S=="boolean"?m.resolve(S):R(d).then(function(_){return S=_,S})}function z(d){var _=D[d.name],u={};u.promise=new m(function(w,x){u.resolve=w,u.reject=x}),_.deferredOperations.push(u),_.dbReady?_.dbReady=_.dbReady.then(function(){return u.promise}):_.dbReady=u.promise}function U(d){var _=D[d.name],u=_.deferredOperations.pop();if(u)return u.resolve(),u.promise}function Z(d,_){var u=D[d.name],w=u.deferredOperations.pop();if(w)return w.reject(_),w.promise}function X(d,_){return new m(function(u,w){if(D[d.name]=D[d.name]||ke(),d.db)if(_)z(d),d.db.close();else return u(d.db);var x=[d.name];_&&x.push(d.version);var b=c.open.apply(c,x);_&&(b.onupgradeneeded=function(I){var k=b.result;try{k.createObjectStore(d.storeName),I.oldVersion<=1&&k.createObjectStore(E)}catch(P){if(P.name==="ConstraintError")console.warn('The database "'+d.name+'" has been upgraded from version '+I.oldVersion+" to version "+I.newVersion+', but the storage "'+d.storeName+'" already exists.');else throw P}}),b.onerror=function(I){I.preventDefault(),w(b.error)},b.onsuccess=function(){var I=b.result;I.onversionchange=function(k){k.target.close()},u(I),U(d)}})}function te(d){return X(d,!1)}function A(d){return X(d,!0)}function T(d,_){if(!d.db)return!0;var u=!d.db.objectStoreNames.contains(d.storeName),w=d.version<d.db.version,x=d.version>d.db.version;if(w&&(d.version!==_&&console.warn('The database "'+d.name+`" can't be downgraded from version `+d.db.version+" to version "+d.version+"."),d.version=d.db.version),x||u){if(u){var b=d.db.version+1;b>d.version&&(d.version=b)}return!0}return!1}function H(d){return new m(function(_,u){var w=new FileReader;w.onerror=u,w.onloadend=function(x){var b=btoa(x.target.result||"");_({__local_forage_encoded_blob:!0,data:b,type:d.type})},w.readAsBinaryString(d)})}function Y(d){var _=O(atob(d.data));return f([_],{type:d.type})}function F(d){return d&&d.__local_forage_encoded_blob}function ie(d){var _=this,u=_._initReady().then(function(){var w=D[_._dbInfo.name];if(w&&w.dbReady)return w.dbReady});return v(u,d,d),u}function se(d){z(d);for(var _=D[d.name],u=_.forages,w=0;w<u.length;w++){var x=u[w];x._dbInfo.db&&(x._dbInfo.db.close(),x._dbInfo.db=null)}return d.db=null,te(d).then(function(b){return d.db=b,T(d)?A(d):b}).then(function(b){d.db=_.db=b;for(var I=0;I<u.length;I++)u[I]._dbInfo.db=b}).catch(function(b){throw Z(d,b),b})}function J(d,_,u,w){w===void 0&&(w=1);try{var x=d.db.transaction(d.storeName,_);u(null,x)}catch(b){if(w>0&&(!d.db||b.name==="InvalidStateError"||b.name==="NotFoundError"))return m.resolve().then(function(){if(!d.db||b.name==="NotFoundError"&&!d.db.objectStoreNames.contains(d.storeName)&&d.version<=d.db.version)return d.db&&(d.version=d.db.version+1),A(d)}).then(function(){return se(d).then(function(){J(d,_,u,w-1)})}).catch(u);u(b)}}function ke(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Ge(d){var _=this,u={db:null};if(d)for(var w in d)u[w]=d[w];var x=D[u.name];x||(x=ke(),D[u.name]=x),x.forages.push(_),_._initReady||(_._initReady=_.ready,_.ready=ie);var b=[];function I(){return m.resolve()}for(var k=0;k<x.forages.length;k++){var P=x.forages[k];P!==_&&b.push(P._initReady().catch(I))}var L=x.forages.slice(0);return m.all(b).then(function(){return u.db=x.db,te(u)}).then(function(B){return u.db=B,T(u,_._defaultConfig.version)?A(u):B}).then(function(B){u.db=x.db=B,_._dbInfo=u;for(var G=0;G<L.length;G++){var oe=L[G];oe!==_&&(oe._dbInfo.db=u.db,oe._dbInfo.version=u.version)}})}function rt(d,_){var u=this;d=p(d);var w=new m(function(x,b){u.ready().then(function(){J(u._dbInfo,N,function(I,k){if(I)return b(I);try{var P=k.objectStore(u._dbInfo.storeName),L=P.get(d);L.onsuccess=function(){var B=L.result;B===void 0&&(B=null),F(B)&&(B=Y(B)),x(B)},L.onerror=function(){b(L.error)}}catch(B){b(B)}})}).catch(b)});return g(w,_),w}function ht(d,_){var u=this,w=new m(function(x,b){u.ready().then(function(){J(u._dbInfo,N,function(I,k){if(I)return b(I);try{var P=k.objectStore(u._dbInfo.storeName),L=P.openCursor(),B=1;L.onsuccess=function(){var G=L.result;if(G){var oe=G.value;F(oe)&&(oe=Y(oe));var me=d(oe,G.key,B++);me!==void 0?x(me):G.continue()}else x()},L.onerror=function(){b(L.error)}}catch(G){b(G)}})}).catch(b)});return g(w,_),w}function Ye(d,_,u){var w=this;d=p(d);var x=new m(function(b,I){var k;w.ready().then(function(){return k=w._dbInfo,V.call(_)==="[object Blob]"?j(k.db).then(function(P){return P?_:H(_)}):_}).then(function(P){J(w._dbInfo,C,function(L,B){if(L)return I(L);try{var G=B.objectStore(w._dbInfo.storeName);P===null&&(P=void 0);var oe=G.put(P,d);B.oncomplete=function(){P===void 0&&(P=null),b(P)},B.onabort=B.onerror=function(){var me=oe.error?oe.error:oe.transaction.error;I(me)}}catch(me){I(me)}})}).catch(I)});return g(x,u),x}function pt(d,_){var u=this;d=p(d);var w=new m(function(x,b){u.ready().then(function(){J(u._dbInfo,C,function(I,k){if(I)return b(I);try{var P=k.objectStore(u._dbInfo.storeName),L=P.delete(d);k.oncomplete=function(){x()},k.onerror=function(){b(L.error)},k.onabort=function(){var B=L.error?L.error:L.transaction.error;b(B)}}catch(B){b(B)}})}).catch(b)});return g(w,_),w}function Je(d){var _=this,u=new m(function(w,x){_.ready().then(function(){J(_._dbInfo,C,function(b,I){if(b)return x(b);try{var k=I.objectStore(_._dbInfo.storeName),P=k.clear();I.oncomplete=function(){w()},I.onabort=I.onerror=function(){var L=P.error?P.error:P.transaction.error;x(L)}}catch(L){x(L)}})}).catch(x)});return g(u,d),u}function Jt(d){var _=this,u=new m(function(w,x){_.ready().then(function(){J(_._dbInfo,N,function(b,I){if(b)return x(b);try{var k=I.objectStore(_._dbInfo.storeName),P=k.count();P.onsuccess=function(){w(P.result)},P.onerror=function(){x(P.error)}}catch(L){x(L)}})}).catch(x)});return g(u,d),u}function Xn(d,_){var u=this,w=new m(function(x,b){if(d<0){x(null);return}u.ready().then(function(){J(u._dbInfo,N,function(I,k){if(I)return b(I);try{var P=k.objectStore(u._dbInfo.storeName),L=!1,B=P.openKeyCursor();B.onsuccess=function(){var G=B.result;if(!G){x(null);return}d===0||L?x(G.key):(L=!0,G.advance(d))},B.onerror=function(){b(B.error)}}catch(G){b(G)}})}).catch(b)});return g(w,_),w}function gt(d){var _=this,u=new m(function(w,x){_.ready().then(function(){J(_._dbInfo,N,function(b,I){if(b)return x(b);try{var k=I.objectStore(_._dbInfo.storeName),P=k.openKeyCursor(),L=[];P.onsuccess=function(){var B=P.result;if(!B){w(L);return}L.push(B.key),B.continue()},P.onerror=function(){x(P.error)}}catch(B){x(B)}})}).catch(x)});return g(u,d),u}function ei(d,_){_=y.apply(this,arguments);var u=this.config();d=typeof d!="function"&&d||{},d.name||(d.name=d.name||u.name,d.storeName=d.storeName||u.storeName);var w=this,x;if(!d.name)x=m.reject("Invalid arguments");else{var b=d.name===u.name&&w._dbInfo.db,I=b?m.resolve(w._dbInfo.db):te(d).then(function(k){var P=D[d.name],L=P.forages;P.db=k;for(var B=0;B<L.length;B++)L[B]._dbInfo.db=k;return k});d.storeName?x=I.then(function(k){if(k.objectStoreNames.contains(d.storeName)){var P=k.version+1;z(d);var L=D[d.name],B=L.forages;k.close();for(var G=0;G<B.length;G++){var oe=B[G];oe._dbInfo.db=null,oe._dbInfo.version=P}var me=new m(function(ge,Fe){var Oe=c.open(d.name,P);Oe.onerror=function(vt){var gn=Oe.result;gn.close(),Fe(vt)},Oe.onupgradeneeded=function(){var vt=Oe.result;vt.deleteObjectStore(d.storeName)},Oe.onsuccess=function(){var vt=Oe.result;vt.close(),ge(vt)}});return me.then(function(ge){L.db=ge;for(var Fe=0;Fe<B.length;Fe++){var Oe=B[Fe];Oe._dbInfo.db=ge,U(Oe._dbInfo)}}).catch(function(ge){throw(Z(d,ge)||m.resolve()).catch(function(){}),ge})}}):x=I.then(function(k){z(d);var P=D[d.name],L=P.forages;k.close();for(var B=0;B<L.length;B++){var G=L[B];G._dbInfo.db=null}var oe=new m(function(me,ge){var Fe=c.deleteDatabase(d.name);Fe.onerror=function(){var Oe=Fe.result;Oe&&Oe.close(),ge(Fe.error)},Fe.onblocked=function(){console.warn('dropInstance blocked for database "'+d.name+'" until all open connections are closed')},Fe.onsuccess=function(){var Oe=Fe.result;Oe&&Oe.close(),me(Oe)}});return oe.then(function(me){P.db=me;for(var ge=0;ge<L.length;ge++){var Fe=L[ge];U(Fe._dbInfo)}}).catch(function(me){throw(Z(d,me)||m.resolve()).catch(function(){}),me})})}return g(x,_),x}var zi={_driver:"asyncStorage",_initStorage:Ge,_support:h(),iterate:ht,getItem:rt,setItem:Ye,removeItem:pt,clear:Je,length:Jt,key:Xn,keys:gt,dropInstance:ei};function Qn(){return typeof openDatabase=="function"}var St="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",of="~~local_forage_type~",_a=/^~~local_forage_type~([^~]+)~/,Jn="__lfsc__:",Eo=Jn.length,Co="arbf",So="blob",ya="si08",ba="ui08",wa="uic8",xa="si16",Ea="si32",Ca="ur16",Sa="ui32",Ia="fl32",Da="fl64",Aa=Eo+Co.length,Ra=Object.prototype.toString;function ka(d){var _=d.length*.75,u=d.length,w,x=0,b,I,k,P;d[d.length-1]==="="&&(_--,d[d.length-2]==="="&&_--);var L=new ArrayBuffer(_),B=new Uint8Array(L);for(w=0;w<u;w+=4)b=St.indexOf(d[w]),I=St.indexOf(d[w+1]),k=St.indexOf(d[w+2]),P=St.indexOf(d[w+3]),B[x++]=b<<2|I>>4,B[x++]=(I&15)<<4|k>>2,B[x++]=(k&3)<<6|P&63;return L}function Io(d){var _=new Uint8Array(d),u="",w;for(w=0;w<_.length;w+=3)u+=St[_[w]>>2],u+=St[(_[w]&3)<<4|_[w+1]>>4],u+=St[(_[w+1]&15)<<2|_[w+2]>>6],u+=St[_[w+2]&63];return _.length%3===2?u=u.substring(0,u.length-1)+"=":_.length%3===1&&(u=u.substring(0,u.length-2)+"=="),u}function sf(d,_){var u="";if(d&&(u=Ra.call(d)),d&&(u==="[object ArrayBuffer]"||d.buffer&&Ra.call(d.buffer)==="[object ArrayBuffer]")){var w,x=Jn;d instanceof ArrayBuffer?(w=d,x+=Co):(w=d.buffer,u==="[object Int8Array]"?x+=ya:u==="[object Uint8Array]"?x+=ba:u==="[object Uint8ClampedArray]"?x+=wa:u==="[object Int16Array]"?x+=xa:u==="[object Uint16Array]"?x+=Ca:u==="[object Int32Array]"?x+=Ea:u==="[object Uint32Array]"?x+=Sa:u==="[object Float32Array]"?x+=Ia:u==="[object Float64Array]"?x+=Da:_(new Error("Failed to get type for BinaryArray"))),_(x+Io(w))}else if(u==="[object Blob]"){var b=new FileReader;b.onload=function(){var I=of+d.type+"~"+Io(this.result);_(Jn+So+I)},b.readAsArrayBuffer(d)}else try{_(JSON.stringify(d))}catch(I){console.error("Couldn't convert value into a JSON string: ",d),_(null,I)}}function af(d){if(d.substring(0,Eo)!==Jn)return JSON.parse(d);var _=d.substring(Aa),u=d.substring(Eo,Aa),w;if(u===So&&_a.test(_)){var x=_.match(_a);w=x[1],_=_.substring(x[0].length)}var b=ka(_);switch(u){case Co:return b;case So:return f([b],{type:w});case ya:return new Int8Array(b);case ba:return new Uint8Array(b);case wa:return new Uint8ClampedArray(b);case xa:return new Int16Array(b);case Ca:return new Uint16Array(b);case Ea:return new Int32Array(b);case Sa:return new Uint32Array(b);case Ia:return new Float32Array(b);case Da:return new Float64Array(b);default:throw new Error("Unkown type: "+u)}}var Do={serialize:sf,deserialize:af,stringToBuffer:ka,bufferToString:Io};function Oa(d,_,u,w){d.executeSql("CREATE TABLE IF NOT EXISTS "+_.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],u,w)}function lf(d){var _=this,u={db:null};if(d)for(var w in d)u[w]=typeof d[w]!="string"?d[w].toString():d[w];var x=new m(function(b,I){try{u.db=openDatabase(u.name,String(u.version),u.description,u.size)}catch(k){return I(k)}u.db.transaction(function(k){Oa(k,u,function(){_._dbInfo=u,b()},function(P,L){I(L)})},I)});return u.serializer=Do,x}function ti(d,_,u,w,x,b){d.executeSql(u,w,x,function(I,k){k.code===k.SYNTAX_ERR?I.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[_.storeName],function(P,L){L.rows.length?b(P,k):Oa(P,_,function(){P.executeSql(u,w,x,b)},b)},b):b(I,k)},b)}function cf(d,_){var u=this;d=p(d);var w=new m(function(x,b){u.ready().then(function(){var I=u._dbInfo;I.db.transaction(function(k){ti(k,I,"SELECT * FROM "+I.storeName+" WHERE key = ? LIMIT 1",[d],function(P,L){var B=L.rows.length?L.rows.item(0).value:null;B&&(B=I.serializer.deserialize(B)),x(B)},function(P,L){b(L)})})}).catch(b)});return g(w,_),w}function df(d,_){var u=this,w=new m(function(x,b){u.ready().then(function(){var I=u._dbInfo;I.db.transaction(function(k){ti(k,I,"SELECT * FROM "+I.storeName,[],function(P,L){for(var B=L.rows,G=B.length,oe=0;oe<G;oe++){var me=B.item(oe),ge=me.value;if(ge&&(ge=I.serializer.deserialize(ge)),ge=d(ge,me.key,oe+1),ge!==void 0){x(ge);return}}x()},function(P,L){b(L)})})}).catch(b)});return g(w,_),w}function Ma(d,_,u,w){var x=this;d=p(d);var b=new m(function(I,k){x.ready().then(function(){_===void 0&&(_=null);var P=_,L=x._dbInfo;L.serializer.serialize(_,function(B,G){G?k(G):L.db.transaction(function(oe){ti(oe,L,"INSERT OR REPLACE INTO "+L.storeName+" (key, value) VALUES (?, ?)",[d,B],function(){I(P)},function(me,ge){k(ge)})},function(oe){if(oe.code===oe.QUOTA_ERR){if(w>0){I(Ma.apply(x,[d,P,u,w-1]));return}k(oe)}})})}).catch(k)});return g(b,u),b}function hf(d,_,u){return Ma.apply(this,[d,_,u,1])}function ff(d,_){var u=this;d=p(d);var w=new m(function(x,b){u.ready().then(function(){var I=u._dbInfo;I.db.transaction(function(k){ti(k,I,"DELETE FROM "+I.storeName+" WHERE key = ?",[d],function(){x()},function(P,L){b(L)})})}).catch(b)});return g(w,_),w}function uf(d){var _=this,u=new m(function(w,x){_.ready().then(function(){var b=_._dbInfo;b.db.transaction(function(I){ti(I,b,"DELETE FROM "+b.storeName,[],function(){w()},function(k,P){x(P)})})}).catch(x)});return g(u,d),u}function mf(d){var _=this,u=new m(function(w,x){_.ready().then(function(){var b=_._dbInfo;b.db.transaction(function(I){ti(I,b,"SELECT COUNT(key) as c FROM "+b.storeName,[],function(k,P){var L=P.rows.item(0).c;w(L)},function(k,P){x(P)})})}).catch(x)});return g(u,d),u}function pf(d,_){var u=this,w=new m(function(x,b){u.ready().then(function(){var I=u._dbInfo;I.db.transaction(function(k){ti(k,I,"SELECT key FROM "+I.storeName+" WHERE id = ? LIMIT 1",[d+1],function(P,L){var B=L.rows.length?L.rows.item(0).key:null;x(B)},function(P,L){b(L)})})}).catch(b)});return g(w,_),w}function gf(d){var _=this,u=new m(function(w,x){_.ready().then(function(){var b=_._dbInfo;b.db.transaction(function(I){ti(I,b,"SELECT key FROM "+b.storeName,[],function(k,P){for(var L=[],B=0;B<P.rows.length;B++)L.push(P.rows.item(B).key);w(L)},function(k,P){x(P)})})}).catch(x)});return g(u,d),u}function vf(d){return new m(function(_,u){d.transaction(function(w){w.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(x,b){for(var I=[],k=0;k<b.rows.length;k++)I.push(b.rows.item(k).name);_({db:d,storeNames:I})},function(x,b){u(b)})},function(w){u(w)})})}function _f(d,_){_=y.apply(this,arguments);var u=this.config();d=typeof d!="function"&&d||{},d.name||(d.name=d.name||u.name,d.storeName=d.storeName||u.storeName);var w=this,x;return d.name?x=new m(function(b){var I;d.name===u.name?I=w._dbInfo.db:I=openDatabase(d.name,"","",0),d.storeName?b({db:I,storeNames:[d.storeName]}):b(vf(I))}).then(function(b){return new m(function(I,k){b.db.transaction(function(P){function L(me){return new m(function(ge,Fe){P.executeSql("DROP TABLE IF EXISTS "+me,[],function(){ge()},function(Oe,vt){Fe(vt)})})}for(var B=[],G=0,oe=b.storeNames.length;G<oe;G++)B.push(L(b.storeNames[G]));m.all(B).then(function(){I()}).catch(function(me){k(me)})},function(P){k(P)})})}):x=m.reject("Invalid arguments"),g(x,_),x}var yf={_driver:"webSQLStorage",_initStorage:lf,_support:Qn(),iterate:df,getItem:cf,setItem:hf,removeItem:ff,clear:uf,length:mf,key:pf,keys:gf,dropInstance:_f};function bf(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Ta(d,_){var u=d.name+"/";return d.storeName!==_.storeName&&(u+=d.storeName+"/"),u}function wf(){var d="_localforage_support_test";try{return localStorage.setItem(d,!0),localStorage.removeItem(d),!1}catch{return!0}}function xf(){return!wf()||localStorage.length>0}function Ef(d){var _=this,u={};if(d)for(var w in d)u[w]=d[w];return u.keyPrefix=Ta(d,_._defaultConfig),xf()?(_._dbInfo=u,u.serializer=Do,m.resolve()):m.reject()}function Cf(d){var _=this,u=_.ready().then(function(){for(var w=_._dbInfo.keyPrefix,x=localStorage.length-1;x>=0;x--){var b=localStorage.key(x);b.indexOf(w)===0&&localStorage.removeItem(b)}});return g(u,d),u}function Sf(d,_){var u=this;d=p(d);var w=u.ready().then(function(){var x=u._dbInfo,b=localStorage.getItem(x.keyPrefix+d);return b&&(b=x.serializer.deserialize(b)),b});return g(w,_),w}function If(d,_){var u=this,w=u.ready().then(function(){for(var x=u._dbInfo,b=x.keyPrefix,I=b.length,k=localStorage.length,P=1,L=0;L<k;L++){var B=localStorage.key(L);if(B.indexOf(b)===0){var G=localStorage.getItem(B);if(G&&(G=x.serializer.deserialize(G)),G=d(G,B.substring(I),P++),G!==void 0)return G}}});return g(w,_),w}function Df(d,_){var u=this,w=u.ready().then(function(){var x=u._dbInfo,b;try{b=localStorage.key(d)}catch{b=null}return b&&(b=b.substring(x.keyPrefix.length)),b});return g(w,_),w}function Af(d){var _=this,u=_.ready().then(function(){for(var w=_._dbInfo,x=localStorage.length,b=[],I=0;I<x;I++){var k=localStorage.key(I);k.indexOf(w.keyPrefix)===0&&b.push(k.substring(w.keyPrefix.length))}return b});return g(u,d),u}function Rf(d){var _=this,u=_.keys().then(function(w){return w.length});return g(u,d),u}function kf(d,_){var u=this;d=p(d);var w=u.ready().then(function(){var x=u._dbInfo;localStorage.removeItem(x.keyPrefix+d)});return g(w,_),w}function Of(d,_,u){var w=this;d=p(d);var x=w.ready().then(function(){_===void 0&&(_=null);var b=_;return new m(function(I,k){var P=w._dbInfo;P.serializer.serialize(_,function(L,B){if(B)k(B);else try{localStorage.setItem(P.keyPrefix+d,L),I(b)}catch(G){(G.name==="QuotaExceededError"||G.name==="NS_ERROR_DOM_QUOTA_REACHED")&&k(G),k(G)}})})});return g(x,u),x}function Mf(d,_){if(_=y.apply(this,arguments),d=typeof d!="function"&&d||{},!d.name){var u=this.config();d.name=d.name||u.name,d.storeName=d.storeName||u.storeName}var w=this,x;return d.name?x=new m(function(b){d.storeName?b(Ta(d,w._defaultConfig)):b(d.name+"/")}).then(function(b){for(var I=localStorage.length-1;I>=0;I--){var k=localStorage.key(I);k.indexOf(b)===0&&localStorage.removeItem(k)}}):x=m.reject("Invalid arguments"),g(x,_),x}var Tf={_driver:"localStorageWrapper",_initStorage:Ef,_support:bf(),iterate:If,getItem:Sf,setItem:Of,removeItem:kf,clear:Cf,length:Rf,key:Df,keys:Af,dropInstance:Mf},Pf=function(_,u){return _===u||typeof _=="number"&&typeof u=="number"&&isNaN(_)&&isNaN(u)},Lf=function(_,u){for(var w=_.length,x=0;x<w;){if(Pf(_[x],u))return!0;x++}return!1},Pa=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"},pn={},La={},Ui={INDEXEDDB:zi,WEBSQL:yf,LOCALSTORAGE:Tf},Ff=[Ui.INDEXEDDB._driver,Ui.WEBSQL._driver,Ui.LOCALSTORAGE._driver],er=["dropInstance"],Ao=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(er),Bf={description:"",driver:Ff.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Vf(d,_){d[_]=function(){var u=arguments;return d.ready().then(function(){return d[_].apply(d,u)})}}function Ro(){for(var d=1;d<arguments.length;d++){var _=arguments[d];if(_)for(var u in _)_.hasOwnProperty(u)&&(Pa(_[u])?arguments[0][u]=_[u].slice():arguments[0][u]=_[u])}return arguments[0]}var Nf=function(){function d(_){a(this,d);for(var u in Ui)if(Ui.hasOwnProperty(u)){var w=Ui[u],x=w._driver;this[u]=x,pn[x]||this.defineDriver(w)}this._defaultConfig=Ro({},Bf),this._config=Ro({},this._defaultConfig,_),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return d.prototype.config=function(u){if((typeof u>"u"?"undefined":s(u))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var w in u){if(w==="storeName"&&(u[w]=u[w].replace(/\W/g,"_")),w==="version"&&typeof u[w]!="number")return new Error("Database version must be a number.");this._config[w]=u[w]}return"driver"in u&&u.driver?this.setDriver(this._config.driver):!0}else return typeof u=="string"?this._config[u]:this._config},d.prototype.defineDriver=function(u,w,x){var b=new m(function(I,k){try{var P=u._driver,L=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!u._driver){k(L);return}for(var B=Ao.concat("_initStorage"),G=0,oe=B.length;G<oe;G++){var me=B[G],ge=!Lf(er,me);if((ge||u[me])&&typeof u[me]!="function"){k(L);return}}var Fe=function(){for(var gn=function(Uf){return function(){var Hf=new Error("Method "+Uf+" is not implemented by the current driver"),Fa=m.reject(Hf);return g(Fa,arguments[arguments.length-1]),Fa}},ko=0,zf=er.length;ko<zf;ko++){var Oo=er[ko];u[Oo]||(u[Oo]=gn(Oo))}};Fe();var Oe=function(gn){pn[P]&&console.info("Redefining LocalForage driver: "+P),pn[P]=u,La[P]=gn,I()};"_support"in u?u._support&&typeof u._support=="function"?u._support().then(Oe,k):Oe(!!u._support):Oe(!0)}catch(vt){k(vt)}});return v(b,w,x),b},d.prototype.driver=function(){return this._driver||null},d.prototype.getDriver=function(u,w,x){var b=pn[u]?m.resolve(pn[u]):m.reject(new Error("Driver not found."));return v(b,w,x),b},d.prototype.getSerializer=function(u){var w=m.resolve(Do);return v(w,u),w},d.prototype.ready=function(u){var w=this,x=w._driverSet.then(function(){return w._ready===null&&(w._ready=w._initDriver()),w._ready});return v(x,u,u),x},d.prototype.setDriver=function(u,w,x){var b=this;Pa(u)||(u=[u]);var I=this._getSupportedDrivers(u);function k(){b._config.driver=b.driver()}function P(G){return b._extend(G),k(),b._ready=b._initStorage(b._config),b._ready}function L(G){return function(){var oe=0;function me(){for(;oe<G.length;){var ge=G[oe];return oe++,b._dbInfo=null,b._ready=null,b.getDriver(ge).then(P).catch(me)}k();var Fe=new Error("No available storage method found.");return b._driverSet=m.reject(Fe),b._driverSet}return me()}}var B=this._driverSet!==null?this._driverSet.catch(function(){return m.resolve()}):m.resolve();return this._driverSet=B.then(function(){var G=I[0];return b._dbInfo=null,b._ready=null,b.getDriver(G).then(function(oe){b._driver=oe._driver,k(),b._wrapLibraryMethodsWithReady(),b._initDriver=L(I)})}).catch(function(){k();var G=new Error("No available storage method found.");return b._driverSet=m.reject(G),b._driverSet}),v(this._driverSet,w,x),this._driverSet},d.prototype.supports=function(u){return!!La[u]},d.prototype._extend=function(u){Ro(this,u)},d.prototype._getSupportedDrivers=function(u){for(var w=[],x=0,b=u.length;x<b;x++){var I=u[x];this.supports(I)&&w.push(I)}return w},d.prototype._wrapLibraryMethodsWithReady=function(){for(var u=0,w=Ao.length;u<w;u++)Vf(this,Ao[u])},d.prototype.createInstance=function(u){return new d(u)},d}(),jf=new Nf;r.exports=jf},{3:3}]},{},[4])(4)})});var ur=class{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,n,t=!0,r){this._multiple=e,this._emitChanges=t,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new he,n&&n.length&&(e?n.forEach(o=>this._markSelected(o)):this._markSelected(n[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t));let n=this._hasQueuedChanges();return this._emitChangeEvent(),n}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t));let n=this._hasQueuedChanges();return this._emitChangeEvent(),n}setSelection(...e){this._verifyValueAssignment(e);let n=this.selected,t=new Set(e);e.forEach(o=>this._markSelected(o)),n.filter(o=>!t.has(this._getConcreteValue(o,t))).forEach(o=>this._unmarkSelected(o));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();let n=this._hasQueuedChanges();return e&&this._emitChangeEvent(),n}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){e.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(e,n){if(this.compareWith){n=n??this._selection;for(let t of n)if(this.compareWith(e,t))return t;return e}else return e}};var yy=(()=>{let e=class e{constructor(){this._listeners=[]}notify(t,r){for(let o of this._listeners)o(t,r)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(r=>t!==r)}}ngOnDestroy(){this._listeners=[]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Yf=20,gr=(()=>{let e=class e{constructor(t,r,o){this._ngZone=t,this._platform=r,this._scrolled=new he,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=Yf){return this._platform.isBrowser?new _n(r=>{this._globalSubscription||this._addGlobalListener();let o=t>0?this._scrolled.pipe(wn(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Mo()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){let o=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Ut(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(t){let r=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let o=Dn(r),s=t.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let t=this._getWindow();return bn(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(ee(ye),ee(lt),ee(Ne,8))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Kf=(()=>{let e=class e{constructor(t,r,o,s){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=o,this.dir=s,this._destroyed=new he,this._elementScrolled=new _n(a=>this.ngZone.runOutsideAngular(()=>bn(this.elementRef.nativeElement,"scroll").pipe(He(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){let r=this.elementRef.nativeElement,o=this.dir&&this.dir.value=="rtl";t.left==null&&(t.left=o?t.end:t.start),t.right==null&&(t.right=o?t.start:t.end),t.bottom!=null&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),o&&Yi()!=Gi.NORMAL?(t.left!=null&&(t.right=r.scrollWidth-r.clientWidth-t.left),Yi()==Gi.INVERTED?t.left=t.right:Yi()==Gi.NEGATED&&(t.left=t.right?-t.right:t.right)):t.right!=null&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){let r=this.elementRef.nativeElement;lr()?r.scrollTo(t):(t.top!=null&&(r.scrollTop=t.top),t.left!=null&&(r.scrollLeft=t.left))}measureScrollOffset(t){let r="left",o="right",s=this.elementRef.nativeElement;if(t=="top")return s.scrollTop;if(t=="bottom")return s.scrollHeight-s.clientHeight-s.scrollTop;let a=this.dir&&this.dir.value=="rtl";return t=="start"?t=a?o:r:t=="end"&&(t=a?r:o),a&&Yi()==Gi.INVERTED?t==r?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:a&&Yi()==Gi.NEGATED?t==r?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==r?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}};e.\u0275fac=function(r){return new(r||e)(M(be),M(gr),M(ye),M(qt,8))},e.\u0275dir=ae({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0});let i=e;return i})(),Zf=20,Zi=(()=>{let e=class e{constructor(t,r,o){this._platform=t,this._change=new he,this._changeListener=s=>{this._change.next(s)},this._document=o,r.runOutsideAngular(()=>{if(t.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+o,right:t.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),o=t.documentElement,s=o.getBoundingClientRect(),a=-s.top||t.body.scrollTop||r.scrollY||o.scrollTop||0,l=-s.left||t.body.scrollLeft||r.scrollX||o.scrollLeft||0;return{top:a,left:l}}change(t=Zf){return t>0?this._change.pipe(wn(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(r){return new(r||e)(ee(lt),ee(ye),ee(Ne,8))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var mr=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({});let i=e;return i})(),Ho=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({imports:[An,mr,An,mr]});let i=e;return i})();var $o=class{constructor(e){this._box=e,this._destroyed=new he,this._resizeSubject=new he,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(n=>this._resizeSubject.next(n)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new _n(n=>{let t=this._resizeSubject.subscribe(n);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),t.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Ut(n=>n.some(t=>t.target===e)),Po({bufferSize:1,refCount:!0}),He(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},yl=(()=>{let e=class e{constructor(){this._observers=new Map,this._ngZone=et(ye),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(t,r){let o=r?.box||"content-box";return this._observers.has(o)||this._observers.set(o,new $o(o)),this._observers.get(o).observe(t)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Dt=function(i){return i[i.State=0]="State",i[i.Transition=1]="Transition",i[i.Sequence=2]="Sequence",i[i.Group=3]="Group",i[i.Animate=4]="Animate",i[i.Keyframes=5]="Keyframes",i[i.Style=6]="Style",i[i.Trigger=7]="Trigger",i[i.Reference=8]="Reference",i[i.AnimateChild=9]="AnimateChild",i[i.AnimateRef=10]="AnimateRef",i[i.Query=11]="Query",i[i.Stagger=12]="Stagger",i}(Dt||{}),zy="*";function ue(i,e){return{type:Dt.Trigger,name:i,definitions:e,options:{}}}function de(i,e=null){return{type:Dt.Animate,styles:e,timings:i}}function Uy(i,e=null){return{type:Dt.Group,steps:i,options:e}}function Xf(i,e=null){return{type:Dt.Sequence,steps:i,options:e}}function W(i){return{type:Dt.Style,styles:i,offset:null}}function Q(i,e,n){return{type:Dt.State,name:i,styles:e,options:n}}function xl(i){return{type:Dt.Keyframes,steps:i}}function K(i,e,n=null){return{type:Dt.Transition,expr:i,animation:e,options:n}}function El(i=null){return{type:Dt.AnimateChild,options:i}}function Cl(i,e,n=null){return{type:Dt.Query,selector:i,animation:e,options:n}}var Qf=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:()=>et(Jf),providedIn:"root"});let i=e;return i})(),Wo=class{},Jf=(()=>{let e=class e extends Qf{constructor(t,r){super(),this.animationModuleType=et(ri,{optional:!0}),this._nextAnimationId=0;let o={id:"0",encapsulation:$a.None,styles:[],data:{animation:[]}};if(this._renderer=t.createRenderer(r.body,o),this.animationModuleType===null&&!tu(this._renderer))throw new Hi(3600,!1)}build(t){let r=this._nextAnimationId;this._nextAnimationId++;let o=Array.isArray(t)?Xf(t):t;return Sl(this._renderer,null,r,"register",[o]),new qo(r,this._renderer)}};e.\u0275fac=function(r){return new(r||e)(ee(qa),ee(Ne))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),qo=class extends Wo{constructor(e,n){super(),this._id=e,this._renderer=n}create(e,n){return new Go(this._id,e,n||{},this._renderer)}},Go=class{constructor(e,n,t,r){this.id=e,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",t)}_listen(e,n){return this._renderer.listen(this.element,`@@${this.id}:${e}`,n)}_command(e,...n){Sl(this._renderer,this.element,this.id,e,n)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return eu(this._renderer)?.engine?.players[this.id]?.getPosition()??0}};function Sl(i,e,n,t,r){i.setProperty(e,`@@${n}:${t}`,r)}function eu(i){let e=i.\u0275type;return e===0?i:e===1?i.animationRenderer:null}function tu(i){let e=i.\u0275type;return e===0||e===1}var bl=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(t=>t()),n.length=0}},wl=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,t=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++t==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(t=>{let r=t.totalTime?Math.min(1,n/t.totalTime):1;t.setPosition(r)})}getPosition(){let e=this.players.reduce((n,t)=>n===null||t.totalTime>n.totalTime?t:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(t=>t()),n.length=0}},Hy="!";var iu=["notch"],nu=["matFormFieldNotchedOutline",""],ru=["*"],ou=["textField"],su=["iconPrefixContainer"],au=["textPrefixContainer"],lu=["iconSuffixContainer"],cu=["textSuffixContainer"],du=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],hu=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function fu(i,e){i&1&&it(0,"span",21)}function uu(i,e){if(i&1&&(ce(0,"label",20),Ke(1,1),Be(2,fu,1,0,"span",21),pe()),i&2){let n=nt(2);tt("floating",n._shouldLabelFloat())("monitorResize",n._hasOutline())("id",n._labelId),at("for",n._control.disableAutomaticLabeling?null:n._control.id),ve(2),Ve(!n.hideRequiredMarker&&n._control.required?2:-1)}}function mu(i,e){if(i&1&&Be(0,uu,3,5,"label",20),i&2){let n=nt();Ve(n._hasFloatingLabel()?0:-1)}}function pu(i,e){i&1&&it(0,"div",7)}function gu(i,e){}function vu(i,e){if(i&1&&Be(0,gu,0,0,"ng-template",13),i&2){nt(2);let n=Ai(1);tt("ngTemplateOutlet",n)}}function _u(i,e){if(i&1&&(ce(0,"div",9),Be(1,vu,1,1,null,13),pe()),i&2){let n=nt();tt("matFormFieldNotchedOutlineOpen",n._shouldLabelFloat()),ve(),Ve(n._forceDisplayInfixLabel()?-1:1)}}function yu(i,e){i&1&&(ce(0,"div",10,2),Ke(2,2),pe())}function bu(i,e){i&1&&(ce(0,"div",11,3),Ke(2,3),pe())}function wu(i,e){}function xu(i,e){if(i&1&&Be(0,wu,0,0,"ng-template",13),i&2){nt();let n=Ai(1);tt("ngTemplateOutlet",n)}}function Eu(i,e){i&1&&(ce(0,"div",14,4),Ke(2,4),pe())}function Cu(i,e){i&1&&(ce(0,"div",15,5),Ke(2,5),pe())}function Su(i,e){i&1&&it(0,"div",16)}function Iu(i,e){if(i&1&&(ce(0,"div",18),Ke(1,6),pe()),i&2){let n=nt();tt("@transitionMessages",n._subscriptAnimationState)}}function Du(i,e){if(i&1&&(ce(0,"mat-hint",22),En(1),pe()),i&2){let n=nt(2);tt("id",n._hintLabelId),ve(),Cn(n.hintLabel)}}function Au(i,e){if(i&1&&(ce(0,"div",19),Be(1,Du,2,2,"mat-hint",22),Ke(2,7),it(3,"div",23),Ke(4,8),pe()),i&2){let n=nt();tt("@transitionMessages",n._subscriptAnimationState),ve(),Ve(n.hintLabel?1:-1)}}var Il=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ae({type:e,selectors:[["mat-label"]],standalone:!0});let i=e;return i})(),Ru=0,Ll=new De("MatError"),f0=(()=>{let e=class e{constructor(t,r){this.id=`mat-mdc-error-${Ru++}`,t||r.nativeElement.setAttribute("aria-live","polite")}};e.\u0275fac=function(r){return new(r||e)(Wi("aria-live"),M(be))},e.\u0275dir=ae({type:e,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(r,o){r&2&&Di("id",o.id)},inputs:{id:"id"},standalone:!0,features:[Ae([{provide:Ll,useExisting:e}])]});let i=e;return i})(),ku=0,Dl=(()=>{let e=class e{constructor(){this.align="start",this.id=`mat-mdc-hint-${ku++}`}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ae({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,o){r&2&&(Di("id",o.id),at("align",null),$e("mat-mdc-form-field-hint-end",o.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0});let i=e;return i})(),Fl=new De("MatPrefix"),u0=(()=>{let e=class e{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ae({type:e,selectors:[["","matPrefix",""],["","matIconPrefix",""],["","matTextPrefix",""]],inputs:{_isTextSelector:[0,"matTextPrefix","_isTextSelector"]},standalone:!0,features:[Ae([{provide:Fl,useExisting:e}])]});let i=e;return i})(),Bl=new De("MatSuffix"),m0=(()=>{let e=class e{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ae({type:e,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[Ae([{provide:Bl,useExisting:e}])]});let i=e;return i})(),Vl=new De("FloatingLabelParent"),Al=(()=>{let e=class e{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=et(yl),this._ngZone=et(ye),this._parent=et(Vl),this._resizeSubscription=new Mt}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return Ou(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};e.\u0275fac=function(r){return new(r||e)(M(be))},e.\u0275dir=ae({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,o){r&2&&$e("mdc-floating-label--float-above",o.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0});let i=e;return i})();function Ou(i){let e=i;if(e.offsetParent!==null)return e.scrollWidth;let n=e.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);let t=n.scrollWidth;return n.remove(),t}var Rl="mdc-line-ripple--active",vr="mdc-line-ripple--deactivating",kl=(()=>{let e=class e{constructor(t,r){this._elementRef=t,this._handleTransitionEnd=o=>{let s=this._elementRef.nativeElement.classList,a=s.contains(vr);o.propertyName==="opacity"&&a&&s.remove(Rl,vr)},r.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let t=this._elementRef.nativeElement.classList;t.remove(vr),t.add(Rl)}deactivate(){this._elementRef.nativeElement.classList.add(vr)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};e.\u0275fac=function(r){return new(r||e)(M(be),M(ye))},e.\u0275dir=ae({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0});let i=e;return i})(),Ol=(()=>{let e=class e{constructor(t,r){this._elementRef=t,this._ngZone=r,this.open=!1}ngAfterViewInit(){let t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){!this.open||!t?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}};e.\u0275fac=function(r){return new(r||e)(M(be),M(ye))},e.\u0275cmp=ni({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,o){if(r&1&&Ze(iu,5),r&2){let s;Ee(s=Ce())&&(o._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,o){r&2&&$e("mdc-notched-outline--notched",o.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[si],attrs:nu,ngContentSelectors:ru,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(r,o){r&1&&(oi(),it(0,"div",1),ce(1,"div",2,0),Ke(3),pe(),it(4,"div",3))},encapsulation:2,changeDetection:0});let i=e;return i})(),Mu={transitionMessages:ue("transitionMessages",[Q("enter",W({opacity:1,transform:"translateY(0%)"})),K("void => enter",[W({opacity:0,transform:"translateY(-5px)"}),de("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Rn=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ae({type:e});let i=e;return i})();var kn=new De("MatFormField"),Tu=new De("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Ml=0,Tl="fill",Pu="auto",Pl="fixed",Lu="translateY(-50%)",p0=(()=>{let e=class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Ki(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||Pu}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){let r=this._appearance,o=t||this._defaults?.appearance||Tl;this._appearance=o,this._appearance==="outline"&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||Pl}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||Pl}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,r,o,s,a,l,c,h){this._elementRef=t,this._changeDetectorRef=r,this._dir=s,this._platform=a,this._defaults=l,this._animationMode=c,this._labelChild=Ga(Il),this._hideRequiredMarker=!1,this.color="primary",this._appearance=Tl,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${Ml++}`,this._hintLabelId=`mat-mdc-hint-${Ml++}`,this._subscriptAnimationState="",this._destroyed=new he,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=et(Si),this.getLabelId=Wt(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=Wt(()=>!!this._labelChild()),l&&(l.appearance&&(this.appearance=l.appearance),this._hideRequiredMarker=!!l?.hideRequiredMarker,l.color&&(this.color=l.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(t){let r=this._control,o="mat-mdc-form-field-type-";t&&this._elementRef.nativeElement.classList.remove(o+t.controlType),r.controlType&&this._elementRef.nativeElement.classList.add(o+r.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=r.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),r.ngControl&&r.ngControl.valueChanges&&(this._valueChanges=r.ngControl.valueChanges.pipe(He(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),ii(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),sr(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(He(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(t){let r=this._control?this._control.ngControl:null;return r&&r[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&t.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let r=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,o=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),o&&t.push(o.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let t=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){t.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let r=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,s=this._iconSuffixContainer?.nativeElement,a=this._textSuffixContainer?.nativeElement,l=r?.getBoundingClientRect().width??0,c=o?.getBoundingClientRect().width??0,h=s?.getBoundingClientRect().width??0,f=a?.getBoundingClientRect().width??0,m=this._dir.value==="rtl"?"-1":"1",g=`${l+c}px`,p=`calc(${m} * (${g} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;t.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${Lu} translateX(${p})
    )`;let y=l+c+h+f;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${y}px)`)}_isAttachedToDom(){let t=this._elementRef.nativeElement;if(t.getRootNode){let r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}};e.\u0275fac=function(r){return new(r||e)(M(be),M($t),M(ye),M(qt),M(lt),M(Tu,8),M(ri,8),M(Ne))},e.\u0275cmp=ni({type:e,selectors:[["mat-form-field"]],contentQueries:function(r,o,s){if(r&1&&(Xa(s,o._labelChild,Il,5),Pt(s,Rn,5),Pt(s,Fl,5),Pt(s,Bl,5),Pt(s,Ll,5),Pt(s,Dl,5)),r&2){Qa();let a;Ee(a=Ce())&&(o._formFieldControl=a.first),Ee(a=Ce())&&(o._prefixChildren=a),Ee(a=Ce())&&(o._suffixChildren=a),Ee(a=Ce())&&(o._errorChildren=a),Ee(a=Ce())&&(o._hintChildren=a)}},viewQuery:function(r,o){if(r&1&&(Ze(ou,5),Ze(su,5),Ze(au,5),Ze(lu,5),Ze(cu,5),Ze(Al,5),Ze(Ol,5),Ze(kl,5)),r&2){let s;Ee(s=Ce())&&(o._textField=s.first),Ee(s=Ce())&&(o._iconPrefixContainer=s.first),Ee(s=Ce())&&(o._textPrefixContainer=s.first),Ee(s=Ce())&&(o._iconSuffixContainer=s.first),Ee(s=Ce())&&(o._textSuffixContainer=s.first),Ee(s=Ce())&&(o._floatingLabel=s.first),Ee(s=Ce())&&(o._notchedOutline=s.first),Ee(s=Ce())&&(o._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,o){r&2&&$e("mat-mdc-form-field-label-always-float",o._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",o._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",o._hasIconSuffix)("mat-form-field-invalid",o._control.errorState)("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-form-field-no-animations",o._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",o.appearance=="fill")("mat-form-field-appearance-outline",o.appearance=="outline")("mat-form-field-hide-placeholder",o._hasFloatingLabel()&&!o._shouldLabelFloat())("mat-focused",o._control.focused)("mat-primary",o.color!=="accent"&&o.color!=="warn")("mat-accent",o.color==="accent")("mat-warn",o.color==="warn")("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[Ae([{provide:kn,useExisting:e},{provide:Vl,useExisting:e}]),si],ngContentSelectors:hu,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,o){if(r&1){let s=Ii();oi(du),Be(0,mu,1,1,"ng-template",null,0,Ja),ce(2,"div",6,1),We("click",function(l){return _t(s),yt(o._control.onContainerClick(l))}),Be(4,pu,1,0,"div",7),ce(5,"div",8),Be(6,_u,2,2,"div",9)(7,yu,3,0,"div",10)(8,bu,3,0,"div",11),ce(9,"div",12),Be(10,xu,1,1,null,13),Ke(11),pe(),Be(12,Eu,3,0,"div",14)(13,Cu,3,0,"div",15),pe(),Be(14,Su,1,0,"div",16),pe(),ce(15,"div",17),Be(16,Iu,2,1,"div",18)(17,Au,5,2,"div",19),pe()}if(r&2){let s;ve(2),$e("mdc-text-field--filled",!o._hasOutline())("mdc-text-field--outlined",o._hasOutline())("mdc-text-field--no-label",!o._hasFloatingLabel())("mdc-text-field--disabled",o._control.disabled)("mdc-text-field--invalid",o._control.errorState),ve(2),Ve(!o._hasOutline()&&!o._control.disabled?4:-1),ve(2),Ve(o._hasOutline()?6:-1),ve(),Ve(o._hasIconPrefix?7:-1),ve(),Ve(o._hasTextPrefix?8:-1),ve(2),Ve(!o._hasOutline()||o._forceDisplayInfixLabel()?10:-1),ve(2),Ve(o._hasTextSuffix?12:-1),ve(),Ve(o._hasIconSuffix?13:-1),ve(),Ve(o._hasOutline()?-1:14),ve(),$e("mat-mdc-form-field-subscript-dynamic-size",o.subscriptSizing==="dynamic"),ve(),Ve((s=o._getDisplayedMessages())==="error"?16:s==="hint"?17:-1)}},dependencies:[Al,Ol,rl,kl,Dl],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Mu.transitionMessages]},changeDetection:0});let i=e;return i})(),On=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({imports:[bt,ar,sl,bt]});let i=e;return i})();var Se=(()=>{let e=class e{};e.standard="cubic-bezier(0.4, 0.0, 0.2, 1)",e.deceleration="cubic-bezier(0.0, 0.0, 0.2, 1)",e.acceleration="cubic-bezier(0.4, 0.0, 1, 1)",e.sharp="cubic-bezier(0.4, 0.0, 0.6, 1)";let i=e;return i})(),Ie=(()=>{let e=class e{};e.complex="375ms",e.entering="225ms",e.exiting="195ms";let i=e;return i})();var Nl=ue("expandCollapse",[Q("void, collapsed",W({height:"0"})),Q("*, expanded",W("*")),K("void <=> false, collapsed <=> false, expanded <=> false",[]),K("void <=> *, collapsed <=> expanded",de("{{timings}}"),{params:{timings:`${Ie.entering} ${Se.deceleration}`}})]);var jl=ue("fadeIn",[Q("void",W({opacity:0})),Q("*",W({opacity:1})),K("void => false",[]),K("void => *",de("{{timings}}"),{params:{timings:`${Ie.entering} ${Se.deceleration}`}})]),zl=ue("fadeInTop",[Q("void",W({opacity:0,transform:"translate3d(0, -100%, 0)"})),Q("*",W({opacity:1,transform:"translate3d(0, 0, 0)"})),K("void => false",[]),K("void => *",de("{{timings}}"),{params:{timings:`${Ie.entering} ${Se.deceleration}`}})]),Ul=ue("fadeInBottom",[Q("void",W({opacity:0,transform:"translate3d(0, 100%, 0)"})),Q("*",W({opacity:1,transform:"translate3d(0, 0, 0)"})),K("void => false",[]),K("void => *",de("{{timings}}"),{params:{timings:`${Ie.entering} ${Se.deceleration}`}})]),Hl=ue("fadeInLeft",[Q("void",W({opacity:0,transform:"translate3d(-100%, 0, 0)"})),Q("*",W({opacity:1,transform:"translate3d(0, 0, 0)"})),K("void => false",[]),K("void => *",de("{{timings}}"),{params:{timings:`${Ie.entering} ${Se.deceleration}`}})]),$l=ue("fadeInRight",[Q("void",W({opacity:0,transform:"translate3d(100%, 0, 0)"})),Q("*",W({opacity:1,transform:"translate3d(0, 0, 0)"})),K("void => false",[]),K("void => *",de("{{timings}}"),{params:{timings:`${Ie.entering} ${Se.deceleration}`}})]),Wl=ue("fadeOut",[Q("*",W({opacity:1})),Q("void",W({opacity:0})),K("false => void",[]),K("* => void",de("{{timings}}"),{params:{timings:`${Ie.exiting} ${Se.acceleration}`}})]),ql=ue("fadeOutTop",[Q("*",W({opacity:1,transform:"translate3d(0, 0, 0)"})),Q("void",W({opacity:0,transform:"translate3d(0, -100%, 0)"})),K("false => void",[]),K("* => void",de("{{timings}}"),{params:{timings:`${Ie.exiting} ${Se.acceleration}`}})]),Gl=ue("fadeOutBottom",[Q("*",W({opacity:1,transform:"translate3d(0, 0, 0)"})),Q("void",W({opacity:0,transform:"translate3d(0, 100%, 0)"})),K("false => void",[]),K("* => void",de("{{timings}}"),{params:{timings:`${Ie.exiting} ${Se.acceleration}`}})]),Yl=ue("fadeOutLeft",[Q("*",W({opacity:1,transform:"translate3d(0, 0, 0)"})),Q("void",W({opacity:0,transform:"translate3d(-100%, 0, 0)"})),K("false => void",[]),K("* => void",de("{{timings}}"),{params:{timings:`${Ie.exiting} ${Se.acceleration}`}})]),Kl=ue("fadeOutRight",[Q("*",W({opacity:1,transform:"translate3d(0, 0, 0)"})),Q("void",W({opacity:0,transform:"translate3d(100%, 0, 0)"})),K("false => void",[]),K("* => void",de("{{timings}}"),{params:{timings:`${Ie.exiting} ${Se.acceleration}`}})]);var Zl=ue("shake",[K("void => false",[]),K("void => *, * => true",[de("{{timings}}",xl([W({transform:"translate3d(0, 0, 0)",offset:0}),W({transform:"translate3d(-10px, 0, 0)",offset:.1}),W({transform:"translate3d(10px, 0, 0)",offset:.2}),W({transform:"translate3d(-10px, 0, 0)",offset:.3}),W({transform:"translate3d(10px, 0, 0)",offset:.4}),W({transform:"translate3d(-10px, 0, 0)",offset:.5}),W({transform:"translate3d(10px, 0, 0)",offset:.6}),W({transform:"translate3d(-10px, 0, 0)",offset:.7}),W({transform:"translate3d(10px, 0, 0)",offset:.8}),W({transform:"translate3d(-10px, 0, 0)",offset:.9}),W({transform:"translate3d(0, 0, 0)",offset:1})]))],{params:{timings:"0.8s cubic-bezier(0.455, 0.03, 0.515, 0.955)"}})]);var Xl=ue("slideInTop",[Q("void",W({transform:"translate3d(0, -100%, 0)"})),Q("*",W({transform:"translate3d(0, 0, 0)"})),K("void => false",[]),K("void => *",de("{{timings}}"),{params:{timings:`${Ie.entering} ${Se.deceleration}`}})]),Ql=ue("slideInBottom",[Q("void",W({transform:"translate3d(0, 100%, 0)"})),Q("*",W({transform:"translate3d(0, 0, 0)"})),K("void => false",[]),K("void => *",de("{{timings}}"),{params:{timings:`${Ie.entering} ${Se.deceleration}`}})]),Jl=ue("slideInLeft",[Q("void",W({transform:"translate3d(-100%, 0, 0)"})),Q("*",W({transform:"translate3d(0, 0, 0)"})),K("void => false",[]),K("void => *",de("{{timings}}"),{params:{timings:`${Ie.entering} ${Se.deceleration}`}})]),ec=ue("slideInRight",[Q("void",W({transform:"translate3d(100%, 0, 0)"})),Q("*",W({transform:"translate3d(0, 0, 0)"})),K("void => false",[]),K("void => *",de("{{timings}}"),{params:{timings:`${Ie.entering} ${Se.deceleration}`}})]),tc=ue("slideOutTop",[Q("*",W({transform:"translate3d(0, 0, 0)"})),Q("void",W({transform:"translate3d(0, -100%, 0)"})),K("false => void",[]),K("* => void",de("{{timings}}"),{params:{timings:`${Ie.exiting} ${Se.acceleration}`}})]),ic=ue("slideOutBottom",[Q("*",W({transform:"translate3d(0, 0, 0)"})),Q("void",W({transform:"translate3d(0, 100%, 0)"})),K("false => void",[]),K("* => void",de("{{timings}}"),{params:{timings:`${Ie.exiting} ${Se.acceleration}`}})]),nc=ue("slideOutLeft",[Q("*",W({transform:"translate3d(0, 0, 0)"})),Q("void",W({transform:"translate3d(-100%, 0, 0)"})),K("false => void",[]),K("* => void",de("{{timings}}"),{params:{timings:`${Ie.exiting} ${Se.acceleration}`}})]),rc=ue("slideOutRight",[Q("*",W({transform:"translate3d(0, 0, 0)"})),Q("void",W({transform:"translate3d(100%, 0, 0)"})),K("false => void",[]),K("* => void",de("{{timings}}"),{params:{timings:`${Ie.exiting} ${Se.acceleration}`}})]);var oc=(i,e,n,t,r=`${Ie.entering} ${Se.deceleration}`,o=`${Ie.exiting} ${Se.acceleration}`)=>ue(i,[Q("void",W(e)),Q("*",W(n)),K("void => false, * => false",[]),K("void => *",de(t||r),{params:{timings:r}}),K("* => void",de(t||o),{params:{timings:o}})]),sc=oc("zoomIn",{opacity:0,transform:"scale(0.5)"},{opacity:1,transform:"scale(1)"},""),ac=oc("zoomOut",{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.5)"},"");var B0=[Nl,jl,zl,Ul,Hl,$l,Wl,ql,Gl,Yl,Kl,Zl,Xl,Ql,Jl,ec,tc,ic,nc,rc,sc,ac];var lc=ol({passive:!0}),cc=(()=>{let e=class e{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ba;let r=Dn(t),o=this._monitoredElements.get(r);if(o)return o.subject;let s=new he,a="cdk-text-field-autofilled",l=c=>{c.animationName==="cdk-text-field-autofill-start"&&!r.classList.contains(a)?(r.classList.add(a),this._ngZone.run(()=>s.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&r.classList.contains(a)&&(r.classList.remove(a),this._ngZone.run(()=>s.next({target:c.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",l,lc),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",l,lc)}}),s}stopMonitoring(t){let r=Dn(t),o=this._monitoredElements.get(r);o&&(o.unlisten(),o.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}};e.\u0275fac=function(r){return new(r||e)(ee(lt),ee(ye))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var eb=(()=>{let e=class e{get minRows(){return this._minRows}set minRows(t){this._minRows=dr(t),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(t){this._maxRows=dr(t),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(t){this._enabled!==t&&((this._enabled=t)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(t){this._cachedPlaceholderHeight=void 0,t?this._textareaElement.setAttribute("placeholder",t):this._textareaElement.removeAttribute("placeholder"),this._cacheTextareaPlaceholderHeight()}constructor(t,r,o,s){this._elementRef=t,this._platform=r,this._ngZone=o,this._destroyed=new he,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=a=>{this._hasFocus=a.type==="focus"},this._document=s,this._textareaElement=this._elementRef.nativeElement}_setMinHeight(){let t=this.minRows&&this._cachedLineHeight?`${this.minRows*this._cachedLineHeight}px`:null;t&&(this._textareaElement.style.minHeight=t)}_setMaxHeight(){let t=this.maxRows&&this._cachedLineHeight?`${this.maxRows*this._cachedLineHeight}px`:null;t&&(this._textareaElement.style.maxHeight=t)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{let t=this._getWindow();bn(t,"resize").pipe(wn(16),He(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let t=this._textareaElement.cloneNode(!1);t.rows=1,t.style.position="absolute",t.style.visibility="hidden",t.style.border="none",t.style.padding="0",t.style.height="",t.style.minHeight="",t.style.maxHeight="",t.style.overflow="hidden",this._textareaElement.parentNode.appendChild(t),this._cachedLineHeight=t.clientHeight,t.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){let t=this._textareaElement,r=t.style.marginBottom||"",o=this._platform.FIREFOX,s=o&&this._hasFocus,a=o?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";s&&(t.style.marginBottom=`${t.clientHeight}px`),t.classList.add(a);let l=t.scrollHeight-4;return t.classList.remove(a),s&&(t.style.marginBottom=r),l}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||this._cachedPlaceholderHeight!=null)return;if(!this.placeholder){this._cachedPlaceholderHeight=0;return}let t=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=t}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(t=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;let r=this._elementRef.nativeElement,o=r.value;if(!t&&this._minRows===this._previousMinRows&&o===this._previousValue)return;let s=this._measureScrollHeight(),a=Math.max(s,this._cachedPlaceholderHeight||0);r.style.height=`${a}px`,this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame<"u"?requestAnimationFrame(()=>this._scrollToCaretPosition(r)):setTimeout(()=>this._scrollToCaretPosition(r))}),this._previousValue=o,this._previousMinRows=this._minRows}reset(){this._initialHeight!==void 0&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(t){let{selectionStart:r,selectionEnd:o}=t;!this._destroyed.isStopped&&this._hasFocus&&t.setSelectionRange(r,o)}};e.\u0275fac=function(r){return new(r||e)(M(be),M(lt),M(ye),M(Ne,8))},e.\u0275dir=ae({type:e,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(r,o){r&1&&We("input",function(){return o._noopInputHandler()})},inputs:{minRows:[0,"cdkAutosizeMinRows","minRows"],maxRows:[0,"cdkAutosizeMaxRows","maxRows"],enabled:[2,"cdkTextareaAutosize","enabled",we],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"],standalone:!0,features:[Ht]});let i=e;return i})(),dc=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({});let i=e;return i})();var _c=(()=>{let e=class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}};e.\u0275fac=function(r){return new(r||e)(M(Lo),M(be))},e.\u0275dir=ae({type:e});let i=e;return i})(),Bu=(()=>{let e=class e extends _c{};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=$i(e)))(o||e)}})(),e.\u0275dir=ae({type:e,features:[st]});let i=e;return i})(),rn=new De("");var Vu={provide:rn,useExisting:Tt(()=>yc),multi:!0};function Nu(){let i=Fo()?Fo().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var ju=new De(""),yc=(()=>{let e=class e extends _c{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Nu())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}};e.\u0275fac=function(r){return new(r||e)(M(Lo),M(be),M(ju,8))},e.\u0275dir=ae({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&We("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Ae([Vu]),st]});let i=e;return i})();function ai(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function bc(i){return i!=null&&typeof i.length=="number"}var ci=new De(""),Vn=new De(""),zu=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,en=class{static min(e){return Uu(e)}static max(e){return Hu(e)}static required(e){return wc(e)}static requiredTrue(e){return $u(e)}static email(e){return Wu(e)}static minLength(e){return qu(e)}static maxLength(e){return Gu(e)}static pattern(e){return Yu(e)}static nullValidator(e){return yr(e)}static compose(e){return Dc(e)}static composeAsync(e){return Ac(e)}};function Uu(i){return e=>{if(ai(e.value)||ai(i))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<i?{min:{min:i,actual:e.value}}:null}}function Hu(i){return e=>{if(ai(e.value)||ai(i))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>i?{max:{max:i,actual:e.value}}:null}}function wc(i){return ai(i.value)?{required:!0}:null}function $u(i){return i.value===!0?null:{required:!0}}function Wu(i){return ai(i.value)||zu.test(i.value)?null:{email:!0}}function qu(i){return e=>ai(e.value)||!bc(e.value)?null:e.value.length<i?{minlength:{requiredLength:i,actualLength:e.value.length}}:null}function Gu(i){return e=>bc(e.value)&&e.value.length>i?{maxlength:{requiredLength:i,actualLength:e.value.length}}:null}function Yu(i){if(!i)return yr;let e,n;return typeof i=="string"?(n="",i.charAt(0)!=="^"&&(n+="^"),n+=i,i.charAt(i.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=i.toString(),e=i),t=>{if(ai(t.value))return null;let r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function yr(i){return null}function xc(i){return i!=null}function Ec(i){return el(i)?Va(i):i}function Cc(i){let e={};return i.forEach(n=>{e=n!=null?le(le({},e),n):e}),Object.keys(e).length===0?null:e}function Sc(i,e){return e.map(n=>n(i))}function Ku(i){return!i.validate}function Ic(i){return i.map(e=>Ku(e)?e:n=>e.validate(n))}function Dc(i){if(!i)return null;let e=i.filter(xc);return e.length==0?null:function(n){return Cc(Sc(n,e))}}function Jo(i){return i!=null?Dc(Ic(i)):null}function Ac(i){if(!i)return null;let e=i.filter(xc);return e.length==0?null:function(n){let t=Sc(n,e).map(Ec);return ja(t).pipe(yn(Cc))}}function es(i){return i!=null?Ac(Ic(i)):null}function hc(i,e){return i===null?[e]:Array.isArray(i)?[...i,e]:[i,e]}function Rc(i){return i._rawValidators}function kc(i){return i._rawAsyncValidators}function Yo(i){return i?Array.isArray(i)?i:[i]:[]}function br(i,e){return Array.isArray(i)?i.includes(e):i===e}function fc(i,e){let n=Yo(e);return Yo(i).forEach(r=>{br(n,r)||n.push(r)}),n}function uc(i,e){return Yo(e).filter(n=>!br(i,n))}var wr=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Jo(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=es(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Gt=class extends wr{get formDirective(){return null}get path(){return null}},ft=class extends wr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},xr=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Zu={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},vb=_e(le({},Zu),{"[class.ng-submitted]":"isSubmitted"}),_b=(()=>{let e=class e extends xr{constructor(t){super(t)}};e.\u0275fac=function(r){return new(r||e)(M(ft,2))},e.\u0275dir=ae({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&$e("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[st]});let i=e;return i})(),yb=(()=>{let e=class e extends xr{constructor(t){super(t)}};e.\u0275fac=function(r){return new(r||e)(M(Gt,10))},e.\u0275dir=ae({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&$e("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[st]});let i=e;return i})();var Mn="VALID",_r="INVALID",Xi="PENDING",Tn="DISABLED",li=class{},Er=class extends li{constructor(e,n){super(),this.value=e,this.source=n}},Ln=class extends li{constructor(e,n){super(),this.pristine=e,this.source=n}},Fn=class extends li{constructor(e,n){super(),this.touched=e,this.source=n}},Qi=class extends li{constructor(e,n){super(),this.status=e,this.source=n}},Ko=class extends li{constructor(e){super(),this.source=e}},Zo=class extends li{constructor(e){super(),this.source=e}};function ts(i){return(Dr(i)?i.validators:i)||null}function Xu(i){return Array.isArray(i)?Jo(i):i||null}function is(i,e){return(Dr(e)?e.asyncValidators:i)||null}function Qu(i){return Array.isArray(i)?es(i):i||null}function Dr(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function Oc(i,e,n){let t=i.controls;if(!(e?Object.keys(t):t).length)throw new Hi(1e3,"");if(!t[n])throw new Hi(1001,"")}function Mc(i,e,n){i._forEachChild((t,r)=>{if(n[r]===void 0)throw new Hi(1002,"")})}var tn=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Wt(()=>this.statusReactive()),this.statusReactive=qi(void 0),this._pristine=Wt(()=>this.pristineReactive()),this.pristineReactive=qi(!0),this._touched=Wt(()=>this.touchedReactive()),this.touchedReactive=qi(!1),this._events=new he,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return It(this.statusReactive)}set status(e){It(()=>this.statusReactive.set(e))}get valid(){return this.status===Mn}get invalid(){return this.status===_r}get pending(){return this.status==Xi}get disabled(){return this.status===Tn}get enabled(){return this.status!==Tn}get pristine(){return It(this.pristineReactive)}set pristine(e){It(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return It(this.touchedReactive)}set touched(e){It(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(fc(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(fc(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(uc(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(uc(e,this._rawAsyncValidators))}hasValidator(e){return br(this._rawValidators,e)}hasAsyncValidator(e){return br(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(_e(le({},e),{sourceControl:t})),n&&e.emitEvent!==!1&&this._events.next(new Fn(!0,t))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let t=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:t})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t),n&&e.emitEvent!==!1&&this._events.next(new Fn(!1,t))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(_e(le({},e),{sourceControl:t})),n&&e.emitEvent!==!1&&this._events.next(new Ln(!1,t))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let t=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),n&&e.emitEvent!==!1&&this._events.next(new Ln(!0,t))}markAsPending(e={}){this.status=Xi;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qi(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(_e(le({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Tn,this.errors=null,this._forEachChild(r=>{r.disable(_e(le({},e),{onlySelf:!0}))}),this._updateValue();let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Er(this.value,t)),this._events.next(new Qi(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(_e(le({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Mn,this._forEachChild(t=>{t.enable(_e(le({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(_e(le({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let t=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mn||this.status===Xi)&&this._runAsyncValidator(t,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Er(this.value,n)),this._events.next(new Qi(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(_e(le({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tn:Mn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Xi,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let t=Ec(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((t,r)=>t&&t._find(r),this)}getError(e,n){let t=n?this.get(n):this;return t&&t.errors?t.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,t){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||t)&&this._events.next(new Qi(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,t)}_initObservables(){this.valueChanges=new xe,this.statusChanges=new xe}_calculateStatus(){return this._allControlsDisabled()?Tn:this.errors?_r:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xi)?Xi:this._anyControlsHaveStatus(_r)?_r:Mn}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let t=!this._anyControlsDirty(),r=this.pristine!==t;this.pristine=t,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),r&&this._events.next(new Ln(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Fn(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Dr(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Xu(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Qu(this._rawAsyncValidators)}},nn=class extends tn{constructor(e,n,t){super(ts(n),is(t,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,t={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Mc(this,!0,e),Object.keys(e).forEach(t=>{Oc(this,!0,t),this.controls[t].setValue(e[t],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(t=>{let r=this.controls[t];r&&r.patchValue(e[t],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((t,r)=>{t.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,t)=>(e[t]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,t)=>t._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let t=this.controls[n];t&&e(t,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,t]of Object.entries(this.controls))if(this.contains(n)&&e(t))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,t,r)=>((t.enabled||this.disabled)&&(n[r]=t.value),n))}_reduceChildren(e,n){let t=e;return this._forEachChild((r,o)=>{t=n(t,r,o)}),t}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Xo=class extends nn{};var on=new De("CallSetDisabledState",{providedIn:"root",factory:()=>Ar}),Ar="always";function Tc(i,e){return[...e.path,i]}function Bn(i,e,n=Ar){ns(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(i.disabled),em(i,e),im(i,e),tm(i,e),Ju(i,e)}function Cr(i,e,n=!0){let t=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(t),e.valueAccessor.registerOnTouched(t)),Ir(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Sr(i,e){i.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Ju(i,e){if(e.valueAccessor.setDisabledState){let n=t=>{e.valueAccessor.setDisabledState(t)};i.registerOnDisabledChange(n),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(n)})}}function ns(i,e){let n=Rc(i);e.validator!==null?i.setValidators(hc(n,e.validator)):typeof n=="function"&&i.setValidators([n]);let t=kc(i);e.asyncValidator!==null?i.setAsyncValidators(hc(t,e.asyncValidator)):typeof t=="function"&&i.setAsyncValidators([t]);let r=()=>i.updateValueAndValidity();Sr(e._rawValidators,r),Sr(e._rawAsyncValidators,r)}function Ir(i,e){let n=!1;if(i!==null){if(e.validator!==null){let r=Rc(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(n=!0,i.setValidators(o))}}if(e.asyncValidator!==null){let r=kc(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(n=!0,i.setAsyncValidators(o))}}}let t=()=>{};return Sr(e._rawValidators,t),Sr(e._rawAsyncValidators,t),n}function em(i,e){e.valueAccessor.registerOnChange(n=>{i._pendingValue=n,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&Pc(i,e)})}function tm(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&Pc(i,e),i.updateOn!=="submit"&&i.markAsTouched()})}function Pc(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function im(i,e){let n=(t,r)=>{e.valueAccessor.writeValue(t),r&&e.viewToModelUpdate(t)};i.registerOnChange(n),e._registerOnDestroy(()=>{i._unregisterOnChange(n)})}function Lc(i,e){i==null,ns(i,e)}function nm(i,e){return Ir(i,e)}function rs(i,e){if(!i.hasOwnProperty("model"))return!1;let n=i.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function rm(i){return Object.getPrototypeOf(i.constructor)===Bu}function Fc(i,e){i._syncPendingControls(),e.forEach(n=>{let t=n.control;t.updateOn==="submit"&&t._pendingChange&&(n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function os(i,e){if(!e)return null;Array.isArray(e);let n,t,r;return e.forEach(o=>{o.constructor===yc?n=o:rm(o)?t=o:r=o}),r||t||n||null}function om(i,e){let n=i.indexOf(e);n>-1&&i.splice(n,1)}var sm={provide:Gt,useExisting:Tt(()=>Nn)},Pn=Promise.resolve(),Nn=(()=>{let e=class e extends Gt{get submitted(){return It(this.submittedReactive)}constructor(t,r,o){super(),this.callSetDisabledState=o,this._submitted=Wt(()=>this.submittedReactive()),this.submittedReactive=qi(!1),this._directives=new Set,this.ngSubmit=new xe,this.form=new nn({},Jo(t),es(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Pn.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Bn(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Pn.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Pn.then(()=>{let r=this._findContainer(t.path),o=new nn({});Lc(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Pn.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Pn.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Fc(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}};e.\u0275fac=function(r){return new(r||e)(M(ci,10),M(Vn,10),M(on,8))},e.\u0275dir=ae({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&We("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ae([sm]),st]});let i=e;return i})();function mc(i,e){let n=i.indexOf(e);n>-1&&i.splice(n,1)}function pc(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var Ji=class extends tn{constructor(e=null,n,t){super(ts(n),is(t,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Dr(n)&&(n.nonNullable||n.initialValueIsDefault)&&(pc(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){mc(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){mc(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){pc(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},wb=Ji,am=i=>i instanceof Ji;var lm={provide:ft,useExisting:Tt(()=>cm)},gc=Promise.resolve(),cm=(()=>{let e=class e extends ft{constructor(t,r,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new Ji,this._registered=!1,this.name="",this.update=new xe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=os(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),rs(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Bn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){gc.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,o=r!==0&&we(r);gc.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Tc(t,this._parent):[t]}};e.\u0275fac=function(r){return new(r||e)(M(Gt,9),M(ci,10),M(Vn,10),M(rn,10),M($t,8),M(on,8))},e.\u0275dir=ae({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ae([lm]),st,ot]});let i=e;return i})(),xb=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ae({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let i=e;return i})();var ss=new De(""),dm={provide:ft,useExisting:Tt(()=>hm)},hm=(()=>{let e=class e extends ft{set isDisabled(t){}constructor(t,r,o,s,a){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=a,this.update=new xe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=os(this,o)}ngOnChanges(t){if(this._isControlChanged(t)){let r=t.form.previousValue;r&&Cr(r,this,!1),Bn(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}rs(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Cr(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(M(ci,10),M(Vn,10),M(rn,10),M(ss,8),M(on,8))},e.\u0275dir=ae({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Ae([dm]),st,ot]});let i=e;return i})(),fm={provide:Gt,useExisting:Tt(()=>jn)},jn=(()=>{let e=class e extends Gt{get submitted(){return It(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,o){super(),this.callSetDisabledState=o,this._submitted=Wt(()=>this._submittedReactive()),this._submittedReactive=qi(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new xe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ir(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Bn(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Cr(t.control||null,t,!1),om(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),Fc(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Ko(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Zo(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,o=this.form.get(t.path);r!==o&&(Cr(r||null,t),am(o)&&(Bn(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);Lc(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&nm(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ns(this.form,this),this._oldForm&&Ir(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(M(ci,10),M(Vn,10),M(on,8))},e.\u0275dir=ae({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&We("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ae([fm]),st,ot]});let i=e;return i})();var um={provide:ft,useExisting:Tt(()=>mm)},mm=(()=>{let e=class e extends ft{set isDisabled(t){}constructor(t,r,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new xe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=os(this,s)}ngOnChanges(t){this._added||this._setUpControl(),rs(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Tc(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(M(Gt,13),M(ci,10),M(Vn,10),M(rn,10),M(ss,8))},e.\u0275dir=ae({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ae([um]),st,ot]});let i=e;return i})();var pm=(()=>{let e=class e{constructor(){this._validator=yr}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):yr,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ae({type:e,features:[ot]});let i=e;return i})();var gm={provide:ci,useExisting:Tt(()=>vm),multi:!0};var vm=(()=>{let e=class e extends pm{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=we,this.createValidator=t=>wc}enabled(t){return t}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=$i(e)))(o||e)}})(),e.\u0275dir=ae({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&at("required",o._enabled?"":null)},inputs:{required:"required"},features:[Ae([gm]),st]});let i=e;return i})();var Bc=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({});let i=e;return i})(),Qo=class extends tn{constructor(e,n,t){super(ts(n),is(t,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,t={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent})}removeAt(e,n={}){let t=this._adjustIndex(e);t<0&&(t=0),this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){Mc(this,!1,e),e.forEach((t,r)=>{Oc(this,!1,r),this.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((t,r)=>{this.at(r)&&this.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((t,r)=>{t.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,t)=>t._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,t)=>{e(n,t)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function vc(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var _m=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new e;return t.useNonNullable=!0,t}group(t,r=null){let o=this._reduceControls(t),s={};return vc(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new nn(o,s)}record(t,r=null){let o=this._reduceControls(t);return new Xo(o,r)}control(t,r,o){let s={};return this.useNonNullable?(vc(r)?s=r:(s.validators=r,s.asyncValidators=o),new Ji(t,_e(le({},s),{nonNullable:!0}))):new Ji(t,r,o)}array(t,r,o){let s=t.map(a=>this._createControl(a));return new Qo(s,r,o)}_reduceControls(t){let r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){if(t instanceof Ji)return t;if(t instanceof tn)return t;if(Array.isArray(t)){let r=t[0],o=t.length>1?t[1]:null,s=t.length>2?t[2]:null;return this.control(r,o,s)}else return this.control(t)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Eb=(()=>{let e=class e extends _m{group(t,r=null){return super.group(t,r)}control(t,r,o){return super.control(t,r,o)}array(t,r,o){return super.array(t,r,o)}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=$i(e)))(o||e)}})(),e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Cb=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:on,useValue:t.callSetDisabledState??Ar}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({imports:[Bc]});let i=e;return i})(),Sb=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:ss,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:on,useValue:t.callSetDisabledState??Ar}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({imports:[Bc]});let i=e;return i})();var bm=new De("MAT_INPUT_VALUE_ACCESSOR"),wm=["button","checkbox","file","hidden","image","radio","range","reset","submit"],xm=0,zb=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(t){this._disabled=Ki(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(en.required)??!1}set required(t){this._required=Ki(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Bo().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Ki(t)}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,r,o,s,a,l,c,h,f,m){this._elementRef=t,this._platform=r,this.ngControl=o,this._autofillMonitor=h,this._ngZone=f,this._formField=m,this._uid=`mat-input-${xm++}`,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new he,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(p=>Bo().has(p)),this._iOSKeyupListener=p=>{let y=p.target;!y.value&&y.selectionStart===0&&y.selectionEnd===0&&(y.setSelectionRange(1,1),y.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};let g=this._elementRef.nativeElement,v=g.nodeName.toLowerCase();this._inputValueAccessor=c||g,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&f.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new hr(l,o,a,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=v==="select",this._isTextarea=v==="textarea",this._isInFormField=!!m,this._isNativeSelect&&(this.controlType=g.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){let t=this._getPlaceholder();if(t!==this._previousPlaceholder){let r=this._elementRef.nativeElement;this._previousPlaceholder=t,t?r.setAttribute("placeholder",t):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){wm.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}else return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}};e.\u0275fac=function(r){return new(r||e)(M(be),M(lt),M(ft,10),M(Nn,8),M(jn,8),M(fr),M(bm,10),M(cc),M(ye),M(kn,8))},e.\u0275dir=ae({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,o){r&1&&We("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),r&2&&(Di("id",o.id)("disabled",o.disabled)("required",o.required),at("name",o.name||null)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required)("id",o.id),$e("mat-input-server",o._isServer)("mat-mdc-form-field-textarea-control",o._isInFormField&&o._isTextarea)("mat-mdc-form-field-input-control",o._isInFormField)("mdc-text-field__input",o._isInFormField)("mat-mdc-native-select-inline",o._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[Ae([{provide:Rn,useExisting:e}]),ot]});let i=e;return i})(),Ub=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({imports:[bt,On,On,dc,bt]});let i=e;return i})();var Ri=qf(jc());var zc=(()=>{let e=class e{constructor(){this.metadataSubject=new zt(null),this.projectsSubject=new zt([]),this.projectStatsSubject=new zt({}),this.userStore=Ri.default.createInstance({driver:Ri.default.INDEXEDDB,name:"angor-hub",version:1,storeName:"users",description:"Store for user metadata"}),this.projectsStore=Ri.default.createInstance({driver:Ri.default.INDEXEDDB,name:"angor-hub",version:1,storeName:"projects",description:"Store for projects"}),this.projectStatsStore=Ri.default.createInstance({driver:Ri.default.INDEXEDDB,name:"angor-hub",version:1,storeName:"projectStats",description:"Store for project statistics"}),this.loadAllProjectsFromDB(),this.loadAllProjectStatsFromDB()}getProjectsObservable(){return this.projectsSubject.asObservable()}saveProject(t){return q(this,null,function*(){try{yield this.projectsStore.setItem(t.projectIdentifier,t);let r=yield this.getAllProjects();this.projectsSubject.next(r)}catch(r){console.error(`Error saving project ${t.projectIdentifier} to IndexedDB:`,r)}})}getProject(t){return q(this,null,function*(){try{return(yield this.projectsStore.getItem(t))||null}catch(r){return console.error(`Error getting project ${t} from IndexedDB:`,r),null}})}getAllProjects(){return q(this,null,function*(){try{let t=[];return yield this.projectsStore.iterate(r=>{t.push(r)}),t}catch(t){return console.error("Error getting all projects from IndexedDB:",t),[]}})}getProjectStatsObservable(){return this.projectStatsSubject.asObservable()}saveProjectStats(t,r){return q(this,null,function*(){try{yield this.projectStatsStore.setItem(t,r);let o=yield this.getAllProjectStats();this.projectStatsSubject.next(o)}catch(o){console.error(`Error saving project stats for ${t} to IndexedDB:`,o)}})}getProjectStats(t){return q(this,null,function*(){try{return(yield this.projectStatsStore.getItem(t))||null}catch(r){return console.error(`Error getting project stats for ${t} from IndexedDB:`,r),null}})}getMetadataStream(){return this.metadataSubject.asObservable()}getUserMetadata(t){return q(this,null,function*(){try{return yield this.userStore.getItem(t)}catch(r){return console.error("Error getting metadata from IndexedDB:",r),null}})}saveUserMetadata(t,r){return q(this,null,function*(){try{r.pubKey=t,yield this.userStore.setItem(t,r),this.metadataSubject.next({pubKey:t,metadata:r})}catch(o){console.error("Error saving metadata to IndexedDB:",o)}})}removeUserMetadata(t){return q(this,null,function*(){try{yield this.userStore.removeItem(t),this.metadataSubject.next({pubkey:t,metadata:null})}catch(r){console.error("Error removing metadata from IndexedDB:",r)}})}loadAllProjectsFromDB(){return q(this,null,function*(){try{let t=yield this.getAllProjects();this.projectsSubject.next(t)}catch(t){console.error("Error loading projects from IndexedDB:",t)}})}getAllProjectStats(){return q(this,null,function*(){try{let t={};return yield this.projectStatsStore.iterate((r,o)=>{t[o]=r}),t}catch(t){return console.error("Error getting all project stats from IndexedDB:",t),{}}})}loadAllProjectStatsFromDB(){return q(this,null,function*(){try{let t=yield this.getAllProjectStats();this.projectStatsSubject.next(t)}catch(t){console.error("Error loading project stats from IndexedDB:",t)}})}getAllUsers(){return q(this,null,function*(){try{let t=[];return yield this.userStore.iterate(r=>{t.push(r)}),t}catch(t){return console.error("Error getting all users from IndexedDB:",t),[]}})}clearAllMetadata(){return q(this,null,function*(){try{yield this.userStore.clear(),this.metadataSubject.next(null)}catch(t){console.error("Error clearing all metadata:",t)}})}searchUsersByMetadata(t){return q(this,null,function*(){try{let r=[],o=t.toLowerCase();return yield this.userStore.iterate((s,a)=>{JSON.stringify(s).toLowerCase().includes(o)&&r.push({pubkey:a,user:s})}),r}catch(r){return console.error("Error searching users by metadata from IndexedDB:",r),[]}})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Uc(i){if(!Number.isSafeInteger(i)||i<0)throw new Error(`Wrong positive integer: ${i}`)}function ls(i,...e){if(!(i instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(i.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${i.length}`)}function Hc(i){if(typeof i!="function"||typeof i.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Uc(i.outputLen),Uc(i.blockLen)}function sn(i,e=!0){if(i.destroyed)throw new Error("Hash instance has been destroyed");if(e&&i.finished)throw new Error("Hash#digest() has already been called")}function $c(i,e){ls(i);let n=e.outputLen;if(i.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}var Rr=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var Wc=i=>i instanceof Uint8Array;var kr=i=>new DataView(i.buffer,i.byteOffset,i.byteLength),At=(i,e)=>i<<32-e|i>>>e,Cm=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Cm)throw new Error("Non little-endian hardware is not supported");function Sm(i){if(typeof i!="string")throw new Error(`utf8ToBytes expected string, got ${typeof i}`);return new Uint8Array(new TextEncoder().encode(i))}function zn(i){if(typeof i=="string"&&(i=Sm(i)),!Wc(i))throw new Error(`expected Uint8Array, got ${typeof i}`);return i}function qc(...i){let e=new Uint8Array(i.reduce((t,r)=>t+r.length,0)),n=0;return i.forEach(t=>{if(!Wc(t))throw new Error("Uint8Array expected");e.set(t,n),n+=t.length}),e}var an=class{clone(){return this._cloneInto()}},Zb={}.toString;function Gc(i){let e=t=>i().update(zn(t)).digest(),n=i();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>i(),e}function Or(i=32){if(Rr&&typeof Rr.getRandomValues=="function")return Rr.getRandomValues(new Uint8Array(i));throw new Error("crypto.getRandomValues must be defined")}function Im(i,e,n,t){if(typeof i.setBigUint64=="function")return i.setBigUint64(e,n,t);let r=BigInt(32),o=BigInt(4294967295),s=Number(n>>r&o),a=Number(n&o),l=t?4:0,c=t?0:4;i.setUint32(e+l,s,t),i.setUint32(e+c,a,t)}var Mr=class extends an{constructor(e,n,t,r){super(),this.blockLen=e,this.outputLen=n,this.padOffset=t,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=kr(this.buffer)}update(e){sn(this);let{view:n,buffer:t,blockLen:r}=this;e=zn(e);let o=e.length;for(let s=0;s<o;){let a=Math.min(r-this.pos,o-s);if(a===r){let l=kr(e);for(;r<=o-s;s+=r)this.process(l,s);continue}t.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){sn(this),$c(e,this),this.finished=!0;let{buffer:n,view:t,blockLen:r,isLE:o}=this,{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(t,0),s=0);for(let f=s;f<r;f++)n[f]=0;Im(t,r-8,BigInt(this.length*8),o),this.process(t,0);let a=kr(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=l/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,h[f],o)}digest(){let{buffer:e,outputLen:n}=this;this.digestInto(e);let t=e.slice(0,n);return this.destroy(),t}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:n,buffer:t,length:r,finished:o,destroyed:s,pos:a}=this;return e.length=r,e.pos=a,e.finished=o,e.destroyed=s,r%n&&e.buffer.set(t),e}};var Dm=(i,e,n)=>i&e^~i&n,Am=(i,e,n)=>i&e^i&n^e&n,Rm=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),di=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),hi=new Uint32Array(64),cs=class extends Mr{constructor(){super(64,32,8,!1),this.A=di[0]|0,this.B=di[1]|0,this.C=di[2]|0,this.D=di[3]|0,this.E=di[4]|0,this.F=di[5]|0,this.G=di[6]|0,this.H=di[7]|0}get(){let{A:e,B:n,C:t,D:r,E:o,F:s,G:a,H:l}=this;return[e,n,t,r,o,s,a,l]}set(e,n,t,r,o,s,a,l){this.A=e|0,this.B=n|0,this.C=t|0,this.D=r|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(e,n){for(let f=0;f<16;f++,n+=4)hi[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){let m=hi[f-15],g=hi[f-2],v=At(m,7)^At(m,18)^m>>>3,p=At(g,17)^At(g,19)^g>>>10;hi[f]=p+hi[f-7]+v+hi[f-16]|0}let{A:t,B:r,C:o,D:s,E:a,F:l,G:c,H:h}=this;for(let f=0;f<64;f++){let m=At(a,6)^At(a,11)^At(a,25),g=h+m+Dm(a,l,c)+Rm[f]+hi[f]|0,p=(At(t,2)^At(t,13)^At(t,22))+Am(t,r,o)|0;h=c,c=l,l=a,a=s+g|0,s=o,o=r,r=t,t=g+p|0}t=t+this.A|0,r=r+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,h=h+this.H|0,this.set(t,r,o,s,a,l,c,h)}roundClean(){hi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var Tr=Gc(()=>new cs);var us={};Wf(us,{bitGet:()=>Fm,bitLen:()=>Lm,bitMask:()=>Un,bitSet:()=>Bm,bytesToHex:()=>ki,bytesToNumberBE:()=>Xe,bytesToNumberLE:()=>Fr,concatBytes:()=>Yt,createHmacDrbg:()=>fs,ensureBytes:()=>je,equalBytes:()=>Tm,hexToBytes:()=>Oi,hexToNumber:()=>hs,numberToBytesBE:()=>Rt,numberToBytesLE:()=>Br,numberToHexUnpadded:()=>Zc,numberToVarBytesBE:()=>Mm,utf8ToBytes:()=>Pm,validateObject:()=>fi});var Kc=BigInt(0),Pr=BigInt(1),km=BigInt(2),Lr=i=>i instanceof Uint8Array,Om=Array.from({length:256},(i,e)=>e.toString(16).padStart(2,"0"));function ki(i){if(!Lr(i))throw new Error("Uint8Array expected");let e="";for(let n=0;n<i.length;n++)e+=Om[i[n]];return e}function Zc(i){let e=i.toString(16);return e.length&1?`0${e}`:e}function hs(i){if(typeof i!="string")throw new Error("hex string expected, got "+typeof i);return BigInt(i===""?"0":`0x${i}`)}function Oi(i){if(typeof i!="string")throw new Error("hex string expected, got "+typeof i);let e=i.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(e/2);for(let t=0;t<n.length;t++){let r=t*2,o=i.slice(r,r+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");n[t]=s}return n}function Xe(i){return hs(ki(i))}function Fr(i){if(!Lr(i))throw new Error("Uint8Array expected");return hs(ki(Uint8Array.from(i).reverse()))}function Rt(i,e){return Oi(i.toString(16).padStart(e*2,"0"))}function Br(i,e){return Rt(i,e).reverse()}function Mm(i){return Oi(Zc(i))}function je(i,e,n){let t;if(typeof e=="string")try{t=Oi(e)}catch(o){throw new Error(`${i} must be valid hex string, got "${e}". Cause: ${o}`)}else if(Lr(e))t=Uint8Array.from(e);else throw new Error(`${i} must be hex string or Uint8Array`);let r=t.length;if(typeof n=="number"&&r!==n)throw new Error(`${i} expected ${n} bytes, got ${r}`);return t}function Yt(...i){let e=new Uint8Array(i.reduce((t,r)=>t+r.length,0)),n=0;return i.forEach(t=>{if(!Lr(t))throw new Error("Uint8Array expected");e.set(t,n),n+=t.length}),e}function Tm(i,e){if(i.length!==e.length)return!1;for(let n=0;n<i.length;n++)if(i[n]!==e[n])return!1;return!0}function Pm(i){if(typeof i!="string")throw new Error(`utf8ToBytes expected string, got ${typeof i}`);return new Uint8Array(new TextEncoder().encode(i))}function Lm(i){let e;for(e=0;i>Kc;i>>=Pr,e+=1);return e}function Fm(i,e){return i>>BigInt(e)&Pr}var Bm=(i,e,n)=>i|(n?Pr:Kc)<<BigInt(e),Un=i=>(km<<BigInt(i-1))-Pr,ds=i=>new Uint8Array(i),Yc=i=>Uint8Array.from(i);function fs(i,e,n){if(typeof i!="number"||i<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let t=ds(i),r=ds(i),o=0,s=()=>{t.fill(1),r.fill(0),o=0},a=(...f)=>n(r,t,...f),l=(f=ds())=>{r=a(Yc([0]),f),t=a(),f.length!==0&&(r=a(Yc([1]),f),t=a())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,m=[];for(;f<e;){t=a();let g=t.slice();m.push(g),f+=t.length}return Yt(...m)};return(f,m)=>{s(),l(f);let g;for(;!(g=m(c()));)l();return s(),g}}var Vm={bigint:i=>typeof i=="bigint",function:i=>typeof i=="function",boolean:i=>typeof i=="boolean",string:i=>typeof i=="string",stringOrUint8Array:i=>typeof i=="string"||i instanceof Uint8Array,isSafeInteger:i=>Number.isSafeInteger(i),array:i=>Array.isArray(i),field:(i,e)=>e.Fp.isValid(i),hash:i=>typeof i=="function"&&Number.isSafeInteger(i.outputLen)};function fi(i,e,n={}){let t=(r,o,s)=>{let a=Vm[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);let l=i[r];if(!(s&&l===void 0)&&!a(l,i))throw new Error(`Invalid param ${String(r)}=${l} (${typeof l}), expected ${o}`)};for(let[r,o]of Object.entries(e))t(r,o,!1);for(let[r,o]of Object.entries(n))t(r,o,!0);return i}var Ue=BigInt(0),Re=BigInt(1),Mi=BigInt(2),Nm=BigInt(3),ms=BigInt(4),Xc=BigInt(5),Qc=BigInt(8),jm=BigInt(9),zm=BigInt(16);function ze(i,e){let n=i%e;return n>=Ue?n:e+n}function Um(i,e,n){if(n<=Ue||e<Ue)throw new Error("Expected power/modulo > 0");if(n===Re)return Ue;let t=Re;for(;e>Ue;)e&Re&&(t=t*i%n),i=i*i%n,e>>=Re;return t}function ut(i,e,n){let t=i;for(;e-- >Ue;)t*=t,t%=n;return t}function Vr(i,e){if(i===Ue||e<=Ue)throw new Error(`invert: expected positive integers, got n=${i} mod=${e}`);let n=ze(i,e),t=e,r=Ue,o=Re,s=Re,a=Ue;for(;n!==Ue;){let c=t/n,h=t%n,f=r-s*c,m=o-a*c;t=n,n=h,r=s,o=a,s=f,a=m}if(t!==Re)throw new Error("invert: does not exist");return ze(r,e)}function Hm(i){let e=(i-Re)/Mi,n,t,r;for(n=i-Re,t=0;n%Mi===Ue;n/=Mi,t++);for(r=Mi;r<i&&Um(r,e,i)!==i-Re;r++);if(t===1){let s=(i+Re)/ms;return function(l,c){let h=l.pow(c,s);if(!l.eql(l.sqr(h),c))throw new Error("Cannot find square root");return h}}let o=(n+Re)/Mi;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=t,h=a.pow(a.mul(a.ONE,r),n),f=a.pow(l,o),m=a.pow(l,n);for(;!a.eql(m,a.ONE);){if(a.eql(m,a.ZERO))return a.ZERO;let g=1;for(let p=a.sqr(m);g<c&&!a.eql(p,a.ONE);g++)p=a.sqr(p);let v=a.pow(h,Re<<BigInt(c-g-1));h=a.sqr(v),f=a.mul(f,v),m=a.mul(m,h),c=g}return f}}function $m(i){if(i%ms===Nm){let e=(i+Re)/ms;return function(t,r){let o=t.pow(r,e);if(!t.eql(t.sqr(o),r))throw new Error("Cannot find square root");return o}}if(i%Qc===Xc){let e=(i-Xc)/Qc;return function(t,r){let o=t.mul(r,Mi),s=t.pow(o,e),a=t.mul(r,s),l=t.mul(t.mul(a,Mi),s),c=t.mul(a,t.sub(l,t.ONE));if(!t.eql(t.sqr(c),r))throw new Error("Cannot find square root");return c}}return i%zm,Hm(i)}var Wm=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ps(i){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Wm.reduce((t,r)=>(t[r]="function",t),e);return fi(i,n)}function qm(i,e,n){if(n<Ue)throw new Error("Expected power > 0");if(n===Ue)return i.ONE;if(n===Re)return e;let t=i.ONE,r=e;for(;n>Ue;)n&Re&&(t=i.mul(t,r)),r=i.sqr(r),n>>=Re;return t}function Gm(i,e){let n=new Array(e.length),t=e.reduce((o,s,a)=>i.is0(s)?o:(n[a]=o,i.mul(o,s)),i.ONE),r=i.inv(t);return e.reduceRight((o,s,a)=>i.is0(s)?o:(n[a]=i.mul(o,n[a]),i.mul(o,s)),r),n}function gs(i,e){let n=e!==void 0?e:i.toString(2).length,t=Math.ceil(n/8);return{nBitLength:n,nByteLength:t}}function Jc(i,e,n=!1,t={}){if(i<=Ue)throw new Error(`Expected Field ORDER > 0, got ${i}`);let{nBitLength:r,nByteLength:o}=gs(i,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=$m(i),a=Object.freeze({ORDER:i,BITS:r,BYTES:o,MASK:Un(r),ZERO:Ue,ONE:Re,create:l=>ze(l,i),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Ue<=l&&l<i},is0:l=>l===Ue,isOdd:l=>(l&Re)===Re,neg:l=>ze(-l,i),eql:(l,c)=>l===c,sqr:l=>ze(l*l,i),add:(l,c)=>ze(l+c,i),sub:(l,c)=>ze(l-c,i),mul:(l,c)=>ze(l*c,i),pow:(l,c)=>qm(a,l,c),div:(l,c)=>ze(l*Vr(c,i),i),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>Vr(l,i),sqrt:t.sqrt||(l=>s(a,l)),invertBatch:l=>Gm(a,l),cmov:(l,c,h)=>h?c:l,toBytes:l=>n?Br(l,o):Rt(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return n?Fr(l):Xe(l)}});return Object.freeze(a)}function ed(i){if(typeof i!="bigint")throw new Error("field order must be bigint");let e=i.toString(2).length;return Math.ceil(e/8)}function vs(i){let e=ed(i);return e+Math.ceil(e/2)}function td(i,e,n=!1){let t=i.length,r=ed(e),o=vs(e);if(t<16||t<o||t>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${t}`);let s=n?Xe(i):Fr(i),a=ze(s,e-Re)+Re;return n?Br(a,r):Rt(a,r)}var Km=BigInt(0),_s=BigInt(1);function id(i,e){let n=(r,o)=>{let s=o.negate();return r?s:o},t=r=>{let o=Math.ceil(e/r)+1,s=2**(r-1);return{windows:o,windowSize:s}};return{constTimeNegate:n,unsafeLadder(r,o){let s=i.ZERO,a=r;for(;o>Km;)o&_s&&(s=s.add(a)),a=a.double(),o>>=_s;return s},precomputeWindow(r,o){let{windows:s,windowSize:a}=t(o),l=[],c=r,h=c;for(let f=0;f<s;f++){h=c,l.push(h);for(let m=1;m<a;m++)h=h.add(c),l.push(h);c=h.double()}return l},wNAF(r,o,s){let{windows:a,windowSize:l}=t(r),c=i.ZERO,h=i.BASE,f=BigInt(2**r-1),m=2**r,g=BigInt(r);for(let v=0;v<a;v++){let p=v*l,y=Number(s&f);s>>=g,y>l&&(y-=m,s+=_s);let E=p,S=p+Math.abs(y)-1,D=v%2!==0,V=y<0;y===0?h=h.add(n(D,o[E])):c=c.add(n(V,o[S]))}return{p:c,f:h}},wNAFCached(r,o,s,a){let l=r._WINDOW_SIZE||1,c=o.get(r);return c||(c=this.precomputeWindow(r,l),l!==1&&o.set(r,a(c))),this.wNAF(l,c,s)}}}function ys(i){return ps(i.Fp),fi(i,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(_e(le(le({},gs(i.n,i.nBitLength)),i),{p:i.Fp.ORDER}))}function Zm(i){let e=ys(i);fi(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:n,Fp:t,a:r}=e;if(n){if(!t.eql(r,t.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze(le({},e))}var{bytesToNumberBE:Xm,hexToBytes:Qm}=us,Ti={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(i){let{Err:e}=Ti;if(i.length<2||i[0]!==2)throw new e("Invalid signature integer tag");let n=i[1],t=i.subarray(2,n+2);if(!n||t.length!==n)throw new e("Invalid signature integer: wrong length");if(t[0]&128)throw new e("Invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Xm(t),l:i.subarray(n+2)}},toSig(i){let{Err:e}=Ti,n=typeof i=="string"?Qm(i):i;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let t=n.length;if(t<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==t-2)throw new e("Invalid signature: incorrect length");let{d:r,l:o}=Ti._parseInt(n.subarray(2)),{d:s,l:a}=Ti._parseInt(o);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r,s}},hexFromSig(i){let e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{let h=c.toString(16);return h.length&1?`0${h}`:h},t=e(n(i.s)),r=e(n(i.r)),o=t.length/2,s=r.length/2,a=n(o),l=n(s);return`30${n(s+o+4)}02${l}${r}02${a}${t}`}},Kt=BigInt(0),wt=BigInt(1),uw=BigInt(2),nd=BigInt(3),mw=BigInt(4);function Jm(i){let e=Zm(i),{Fp:n}=e,t=e.toBytes||((v,p,y)=>{let E=p.toAffine();return Yt(Uint8Array.from([4]),n.toBytes(E.x),n.toBytes(E.y))}),r=e.fromBytes||(v=>{let p=v.subarray(1),y=n.fromBytes(p.subarray(0,n.BYTES)),E=n.fromBytes(p.subarray(n.BYTES,2*n.BYTES));return{x:y,y:E}});function o(v){let{a:p,b:y}=e,E=n.sqr(v),S=n.mul(E,v);return n.add(n.add(S,n.mul(v,p)),y)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(v){return typeof v=="bigint"&&Kt<v&&v<e.n}function a(v){if(!s(v))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(v){let{allowedPrivateKeyLengths:p,nByteLength:y,wrapPrivateKey:E,n:S}=e;if(p&&typeof v!="bigint"){if(v instanceof Uint8Array&&(v=ki(v)),typeof v!="string"||!p.includes(v.length))throw new Error("Invalid key");v=v.padStart(y*2,"0")}let D;try{D=typeof v=="bigint"?v:Xe(je("private key",v,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof v}`)}return E&&(D=ze(D,S)),a(D),D}let c=new Map;function h(v){if(!(v instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(p,y,E){if(this.px=p,this.py=y,this.pz=E,p==null||!n.isValid(p))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(E==null||!n.isValid(E))throw new Error("z required")}static fromAffine(p){let{x:y,y:E}=p||{};if(!p||!n.isValid(y)||!n.isValid(E))throw new Error("invalid affine point");if(p instanceof f)throw new Error("projective point not allowed");let S=D=>n.eql(D,n.ZERO);return S(y)&&S(E)?f.ZERO:new f(y,E,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(p){let y=n.invertBatch(p.map(E=>E.pz));return p.map((E,S)=>E.toAffine(y[S])).map(f.fromAffine)}static fromHex(p){let y=f.fromAffine(r(je("pointHex",p)));return y.assertValidity(),y}static fromPrivateKey(p){return f.BASE.multiply(l(p))}_setWindowSize(p){this._WINDOW_SIZE=p,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:p,y}=this.toAffine();if(!n.isValid(p)||!n.isValid(y))throw new Error("bad point: x or y not FE");let E=n.sqr(y),S=o(p);if(!n.eql(E,S))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:p}=this.toAffine();if(n.isOdd)return!n.isOdd(p);throw new Error("Field doesn't support isOdd")}equals(p){h(p);let{px:y,py:E,pz:S}=this,{px:D,py:V,pz:N}=p,C=n.eql(n.mul(y,N),n.mul(D,S)),O=n.eql(n.mul(E,N),n.mul(V,S));return C&&O}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){let{a:p,b:y}=e,E=n.mul(y,nd),{px:S,py:D,pz:V}=this,N=n.ZERO,C=n.ZERO,O=n.ZERO,R=n.mul(S,S),j=n.mul(D,D),z=n.mul(V,V),U=n.mul(S,D);return U=n.add(U,U),O=n.mul(S,V),O=n.add(O,O),N=n.mul(p,O),C=n.mul(E,z),C=n.add(N,C),N=n.sub(j,C),C=n.add(j,C),C=n.mul(N,C),N=n.mul(U,N),O=n.mul(E,O),z=n.mul(p,z),U=n.sub(R,z),U=n.mul(p,U),U=n.add(U,O),O=n.add(R,R),R=n.add(O,R),R=n.add(R,z),R=n.mul(R,U),C=n.add(C,R),z=n.mul(D,V),z=n.add(z,z),R=n.mul(z,U),N=n.sub(N,R),O=n.mul(z,j),O=n.add(O,O),O=n.add(O,O),new f(N,C,O)}add(p){h(p);let{px:y,py:E,pz:S}=this,{px:D,py:V,pz:N}=p,C=n.ZERO,O=n.ZERO,R=n.ZERO,j=e.a,z=n.mul(e.b,nd),U=n.mul(y,D),Z=n.mul(E,V),X=n.mul(S,N),te=n.add(y,E),A=n.add(D,V);te=n.mul(te,A),A=n.add(U,Z),te=n.sub(te,A),A=n.add(y,S);let T=n.add(D,N);return A=n.mul(A,T),T=n.add(U,X),A=n.sub(A,T),T=n.add(E,S),C=n.add(V,N),T=n.mul(T,C),C=n.add(Z,X),T=n.sub(T,C),R=n.mul(j,A),C=n.mul(z,X),R=n.add(C,R),C=n.sub(Z,R),R=n.add(Z,R),O=n.mul(C,R),Z=n.add(U,U),Z=n.add(Z,U),X=n.mul(j,X),A=n.mul(z,A),Z=n.add(Z,X),X=n.sub(U,X),X=n.mul(j,X),A=n.add(A,X),U=n.mul(Z,A),O=n.add(O,U),U=n.mul(T,A),C=n.mul(te,C),C=n.sub(C,U),U=n.mul(te,Z),R=n.mul(T,R),R=n.add(R,U),new f(C,O,R)}subtract(p){return this.add(p.negate())}is0(){return this.equals(f.ZERO)}wNAF(p){return g.wNAFCached(this,c,p,y=>{let E=n.invertBatch(y.map(S=>S.pz));return y.map((S,D)=>S.toAffine(E[D])).map(f.fromAffine)})}multiplyUnsafe(p){let y=f.ZERO;if(p===Kt)return y;if(a(p),p===wt)return this;let{endo:E}=e;if(!E)return g.unsafeLadder(this,p);let{k1neg:S,k1:D,k2neg:V,k2:N}=E.splitScalar(p),C=y,O=y,R=this;for(;D>Kt||N>Kt;)D&wt&&(C=C.add(R)),N&wt&&(O=O.add(R)),R=R.double(),D>>=wt,N>>=wt;return S&&(C=C.negate()),V&&(O=O.negate()),O=new f(n.mul(O.px,E.beta),O.py,O.pz),C.add(O)}multiply(p){a(p);let y=p,E,S,{endo:D}=e;if(D){let{k1neg:V,k1:N,k2neg:C,k2:O}=D.splitScalar(y),{p:R,f:j}=this.wNAF(N),{p:z,f:U}=this.wNAF(O);R=g.constTimeNegate(V,R),z=g.constTimeNegate(C,z),z=new f(n.mul(z.px,D.beta),z.py,z.pz),E=R.add(z),S=j.add(U)}else{let{p:V,f:N}=this.wNAF(y);E=V,S=N}return f.normalizeZ([E,S])[0]}multiplyAndAddUnsafe(p,y,E){let S=f.BASE,D=(N,C)=>C===Kt||C===wt||!N.equals(S)?N.multiplyUnsafe(C):N.multiply(C),V=D(this,y).add(D(p,E));return V.is0()?void 0:V}toAffine(p){let{px:y,py:E,pz:S}=this,D=this.is0();p==null&&(p=D?n.ONE:n.inv(S));let V=n.mul(y,p),N=n.mul(E,p),C=n.mul(S,p);if(D)return{x:n.ZERO,y:n.ZERO};if(!n.eql(C,n.ONE))throw new Error("invZ was invalid");return{x:V,y:N}}isTorsionFree(){let{h:p,isTorsionFree:y}=e;if(p===wt)return!0;if(y)return y(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:p,clearCofactor:y}=e;return p===wt?this:y?y(f,this):this.multiplyUnsafe(e.h)}toRawBytes(p=!0){return this.assertValidity(),t(f,this,p)}toHex(p=!0){return ki(this.toRawBytes(p))}}f.BASE=new f(e.Gx,e.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);let m=e.nBitLength,g=id(f,e.endo?Math.ceil(m/2):m);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:s}}function ep(i){let e=ys(i);return fi(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(le({lowS:!0},e))}function rd(i){let e=ep(i),{Fp:n,n:t}=e,r=n.BYTES+1,o=2*n.BYTES+1;function s(A){return Kt<A&&A<n.ORDER}function a(A){return ze(A,t)}function l(A){return Vr(A,t)}let{ProjectivePoint:c,normPrivateKeyToScalar:h,weierstrassEquation:f,isWithinCurveOrder:m}=Jm(_e(le({},e),{toBytes(A,T,H){let Y=T.toAffine(),F=n.toBytes(Y.x),ie=Yt;return H?ie(Uint8Array.from([T.hasEvenY()?2:3]),F):ie(Uint8Array.from([4]),F,n.toBytes(Y.y))},fromBytes(A){let T=A.length,H=A[0],Y=A.subarray(1);if(T===r&&(H===2||H===3)){let F=Xe(Y);if(!s(F))throw new Error("Point is not on curve");let ie=f(F),se=n.sqrt(ie),J=(se&wt)===wt;return(H&1)===1!==J&&(se=n.neg(se)),{x:F,y:se}}else if(T===o&&H===4){let F=n.fromBytes(Y.subarray(0,n.BYTES)),ie=n.fromBytes(Y.subarray(n.BYTES,2*n.BYTES));return{x:F,y:ie}}else throw new Error(`Point of length ${T} was invalid. Expected ${r} compressed bytes or ${o} uncompressed bytes`)}})),g=A=>ki(Rt(A,e.nByteLength));function v(A){let T=t>>wt;return A>T}function p(A){return v(A)?a(-A):A}let y=(A,T,H)=>Xe(A.slice(T,H));class E{constructor(T,H,Y){this.r=T,this.s=H,this.recovery=Y,this.assertValidity()}static fromCompact(T){let H=e.nByteLength;return T=je("compactSignature",T,H*2),new E(y(T,0,H),y(T,H,2*H))}static fromDER(T){let{r:H,s:Y}=Ti.toSig(je("DER",T));return new E(H,Y)}assertValidity(){if(!m(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!m(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(T){return new E(this.r,this.s,T)}recoverPublicKey(T){let{r:H,s:Y,recovery:F}=this,ie=O(je("msgHash",T));if(F==null||![0,1,2,3].includes(F))throw new Error("recovery id invalid");let se=F===2||F===3?H+e.n:H;if(se>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");let J=F&1?"03":"02",ke=c.fromHex(J+g(se)),Ge=l(se),rt=a(-ie*Ge),ht=a(Y*Ge),Ye=c.BASE.multiplyAndAddUnsafe(ke,rt,ht);if(!Ye)throw new Error("point at infinify");return Ye.assertValidity(),Ye}hasHighS(){return v(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Oi(this.toDERHex())}toDERHex(){return Ti.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Oi(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}let S={isValidPrivateKey(A){try{return h(A),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{let A=vs(e.n);return td(e.randomBytes(A),e.n)},precompute(A=8,T=c.BASE){return T._setWindowSize(A),T.multiply(BigInt(3)),T}};function D(A,T=!0){return c.fromPrivateKey(A).toRawBytes(T)}function V(A){let T=A instanceof Uint8Array,H=typeof A=="string",Y=(T||H)&&A.length;return T?Y===r||Y===o:H?Y===2*r||Y===2*o:A instanceof c}function N(A,T,H=!0){if(V(A))throw new Error("first arg must be private key");if(!V(T))throw new Error("second arg must be public key");return c.fromHex(T).multiply(h(A)).toRawBytes(H)}let C=e.bits2int||function(A){let T=Xe(A),H=A.length*8-e.nBitLength;return H>0?T>>BigInt(H):T},O=e.bits2int_modN||function(A){return a(C(A))},R=Un(e.nBitLength);function j(A){if(typeof A!="bigint")throw new Error("bigint expected");if(!(Kt<=A&&A<R))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Rt(A,e.nByteLength)}function z(A,T,H=U){if(["recovered","canonical"].some(Je=>Je in H))throw new Error("sign() legacy options not supported");let{hash:Y,randomBytes:F}=e,{lowS:ie,prehash:se,extraEntropy:J}=H;ie==null&&(ie=!0),A=je("msgHash",A),se&&(A=je("prehashed msgHash",Y(A)));let ke=O(A),Ge=h(T),rt=[j(Ge),j(ke)];if(J!=null){let Je=J===!0?F(n.BYTES):J;rt.push(je("extraEntropy",Je))}let ht=Yt(...rt),Ye=ke;function pt(Je){let Jt=C(Je);if(!m(Jt))return;let Xn=l(Jt),gt=c.BASE.multiply(Jt).toAffine(),ei=a(gt.x);if(ei===Kt)return;let zi=a(Xn*a(Ye+ei*Ge));if(zi===Kt)return;let Qn=(gt.x===ei?0:2)|Number(gt.y&wt),St=zi;return ie&&v(zi)&&(St=p(zi),Qn^=1),new E(ei,St,Qn)}return{seed:ht,k2sig:pt}}let U={lowS:e.lowS,prehash:!1},Z={lowS:e.lowS,prehash:!1};function X(A,T,H=U){let{seed:Y,k2sig:F}=z(A,T,H),ie=e;return fs(ie.hash.outputLen,ie.nByteLength,ie.hmac)(Y,F)}c.BASE._setWindowSize(8);function te(A,T,H,Y=Z){let F=A;if(T=je("msgHash",T),H=je("publicKey",H),"strict"in Y)throw new Error("options.strict was renamed to lowS");let{lowS:ie,prehash:se}=Y,J,ke;try{if(typeof F=="string"||F instanceof Uint8Array)try{J=E.fromDER(F)}catch(gt){if(!(gt instanceof Ti.Err))throw gt;J=E.fromCompact(F)}else if(typeof F=="object"&&typeof F.r=="bigint"&&typeof F.s=="bigint"){let{r:gt,s:ei}=F;J=new E(gt,ei)}else throw new Error("PARSE");ke=c.fromHex(H)}catch(gt){if(gt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ie&&J.hasHighS())return!1;se&&(T=e.hash(T));let{r:Ge,s:rt}=J,ht=O(T),Ye=l(rt),pt=a(ht*Ye),Je=a(Ge*Ye),Jt=c.BASE.multiplyAndAddUnsafe(ke,pt,Je)?.toAffine();return Jt?a(Jt.x)===Ge:!1}return{CURVE:e,getPublicKey:D,getSharedSecret:N,sign:X,verify:te,ProjectivePoint:c,Signature:E,utils:S}}var Nr=class extends an{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Hc(e);let t=zn(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let r=this.blockLen,o=new Uint8Array(r);o.set(t.length>r?e.create().update(t).digest():t);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return sn(this),this.iHash.update(e),this}digestInto(e){sn(this),ls(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:n,iHash:t,finished:r,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=r,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=t._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},bs=(i,e,n)=>new Nr(i,e).update(n).digest();bs.create=(i,e)=>new Nr(i,e);function tp(i){return{hash:i,hmac:(e,...n)=>bs(i,e,qc(...n)),randomBytes:Or}}function od(i,e){let n=t=>rd(le(le({},i),tp(t)));return Object.freeze(_e(le({},n(e)),{create:n}))}var Hr=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),jr=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ld=BigInt(1),zr=BigInt(2),sd=(i,e)=>(i+e/zr)/e;function cd(i){let e=Hr,n=BigInt(3),t=BigInt(6),r=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),c=i*i*i%e,h=c*c*i%e,f=ut(h,n,e)*h%e,m=ut(f,n,e)*h%e,g=ut(m,zr,e)*c%e,v=ut(g,r,e)*g%e,p=ut(v,o,e)*v%e,y=ut(p,a,e)*p%e,E=ut(y,l,e)*y%e,S=ut(E,a,e)*p%e,D=ut(S,n,e)*h%e,V=ut(D,s,e)*v%e,N=ut(V,t,e)*c%e,C=ut(N,zr,e);if(!xs.eql(xs.sqr(C),i))throw new Error("Cannot find square root");return C}var xs=Jc(Hr,void 0,void 0,{sqrt:cd}),ui=od({a:BigInt(0),b:BigInt(7),Fp:xs,n:jr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:i=>{let e=jr,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),t=-ld*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),r=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=sd(o*i,e),l=sd(-t*i,e),c=ze(i-a*n-l*r,e),h=ze(-a*t-l*o,e),f=c>s,m=h>s;if(f&&(c=e-c),m&&(h=e-h),c>s||h>s)throw new Error("splitScalar: Endomorphism failed, k="+i);return{k1neg:f,k1:c,k2neg:m,k2:h}}}},Tr),$r=BigInt(0),dd=i=>typeof i=="bigint"&&$r<i&&i<Hr,ip=i=>typeof i=="bigint"&&$r<i&&i<jr,ad={};function Ur(i,...e){let n=ad[i];if(n===void 0){let t=Tr(Uint8Array.from(i,r=>r.charCodeAt(0)));n=Yt(t,t),ad[i]=n}return Tr(Yt(n,...e))}var Ss=i=>i.toRawBytes(!0).slice(1),Es=i=>Rt(i,32),ws=i=>ze(i,Hr),Hn=i=>ze(i,jr),Is=ui.ProjectivePoint,np=(i,e,n)=>Is.BASE.multiplyAndAddUnsafe(i,e,n);function Cs(i){let e=ui.utils.normPrivateKeyToScalar(i),n=Is.fromPrivateKey(e);return{scalar:n.hasEvenY()?e:Hn(-e),bytes:Ss(n)}}function hd(i){if(!dd(i))throw new Error("bad x: need 0 < x < p");let e=ws(i*i),n=ws(e*i+BigInt(7)),t=cd(n);t%zr!==$r&&(t=ws(-t));let r=new Is(i,t,ld);return r.assertValidity(),r}function fd(...i){return Hn(Xe(Ur("BIP0340/challenge",...i)))}function rp(i){return Cs(i).bytes}function op(i,e,n=Or(32)){let t=je("message",i),{bytes:r,scalar:o}=Cs(e),s=je("auxRand",n,32),a=Es(o^Xe(Ur("BIP0340/aux",s))),l=Ur("BIP0340/nonce",a,r,t),c=Hn(Xe(l));if(c===$r)throw new Error("sign failed: k is zero");let{bytes:h,scalar:f}=Cs(c),m=fd(h,r,t),g=new Uint8Array(64);if(g.set(h,0),g.set(Es(Hn(f+m*o)),32),!ud(g,t,r))throw new Error("sign: Invalid signature produced");return g}function ud(i,e,n){let t=je("signature",i,64),r=je("message",e),o=je("publicKey",n,32);try{let s=hd(Xe(o)),a=Xe(t.subarray(0,32));if(!dd(a))return!1;let l=Xe(t.subarray(32,64));if(!ip(l))return!1;let c=fd(Es(a),Ss(s),r),h=np(s,l,Hn(-c));return!(!h||!h.hasEvenY()||h.toAffine().x!==a)}catch{return!1}}var ln={getPublicKey:rp,sign:op,verify:ud,utils:{randomPrivateKey:ui.utils.randomPrivateKey,lift_x:hd,pointToBytes:Ss,numberToBytesBE:Rt,bytesToNumberBE:Xe,taggedHash:Ur,mod:ze}};var Wr=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var Ds=i=>i instanceof Uint8Array;var qr=i=>new DataView(i.buffer,i.byteOffset,i.byteLength),kt=(i,e)=>i<<32-e|i>>>e,sp=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!sp)throw new Error("Non little-endian hardware is not supported");var ap=Array.from({length:256},(i,e)=>e.toString(16).padStart(2,"0"));function qe(i){if(!Ds(i))throw new Error("Uint8Array expected");let e="";for(let n=0;n<i.length;n++)e+=ap[i[n]];return e}function Pi(i){if(typeof i!="string")throw new Error("hex string expected, got "+typeof i);let e=i.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(e/2);for(let t=0;t<n.length;t++){let r=t*2,o=i.slice(r,r+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");n[t]=s}return n}function lp(i){if(typeof i!="string")throw new Error(`utf8ToBytes expected string, got ${typeof i}`);return new Uint8Array(new TextEncoder().encode(i))}function mi(i){if(typeof i=="string"&&(i=lp(i)),!Ds(i))throw new Error(`expected Uint8Array, got ${typeof i}`);return i}function dn(...i){let e=new Uint8Array(i.reduce((t,r)=>t+r.length,0)),n=0;return i.forEach(t=>{if(!Ds(t))throw new Error("Uint8Array expected");e.set(t,n),n+=t.length}),e}var cn=class{clone(){return this._cloneInto()}};function As(i){let e=t=>i().update(mi(t)).digest(),n=i();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>i(),e}function Gr(i=32){if(Wr&&typeof Wr.getRandomValues=="function")return Wr.getRandomValues(new Uint8Array(i));throw new Error("crypto.getRandomValues must be defined")}function Rs(i){if(!Number.isSafeInteger(i)||i<0)throw new Error(`Wrong positive integer: ${i}`)}function cp(i){if(typeof i!="boolean")throw new Error(`Expected boolean, not ${i}`)}function md(i,...e){if(!(i instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(i.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${i.length}`)}function dp(i){if(typeof i!="function"||typeof i.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Rs(i.outputLen),Rs(i.blockLen)}function hp(i,e=!0){if(i.destroyed)throw new Error("Hash instance has been destroyed");if(e&&i.finished)throw new Error("Hash#digest() has already been called")}function fp(i,e){md(i);let n=e.outputLen;if(i.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}var up={number:Rs,bool:cp,bytes:md,hash:dp,exists:hp,output:fp},mt=up;function mp(i,e,n,t){if(typeof i.setBigUint64=="function")return i.setBigUint64(e,n,t);let r=BigInt(32),o=BigInt(4294967295),s=Number(n>>r&o),a=Number(n&o),l=t?4:0,c=t?0:4;i.setUint32(e+l,s,t),i.setUint32(e+c,a,t)}var Yr=class extends cn{constructor(e,n,t,r){super(),this.blockLen=e,this.outputLen=n,this.padOffset=t,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=qr(this.buffer)}update(e){mt.exists(this);let{view:n,buffer:t,blockLen:r}=this;e=mi(e);let o=e.length;for(let s=0;s<o;){let a=Math.min(r-this.pos,o-s);if(a===r){let l=qr(e);for(;r<=o-s;s+=r)this.process(l,s);continue}t.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){mt.exists(this),mt.output(e,this),this.finished=!0;let{buffer:n,view:t,blockLen:r,isLE:o}=this,{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(t,0),s=0);for(let f=s;f<r;f++)n[f]=0;mp(t,r-8,BigInt(this.length*8),o),this.process(t,0);let a=qr(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=l/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,h[f],o)}digest(){let{buffer:e,outputLen:n}=this;this.digestInto(e);let t=e.slice(0,n);return this.destroy(),t}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:n,buffer:t,length:r,finished:o,destroyed:s,pos:a}=this;return e.length=r,e.pos=a,e.finished=o,e.destroyed=s,r%n&&e.buffer.set(t),e}};var pp=(i,e,n)=>i&e^~i&n,gp=(i,e,n)=>i&e^i&n^e&n,vp=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),pi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),gi=new Uint32Array(64),Kr=class extends Yr{constructor(){super(64,32,8,!1),this.A=pi[0]|0,this.B=pi[1]|0,this.C=pi[2]|0,this.D=pi[3]|0,this.E=pi[4]|0,this.F=pi[5]|0,this.G=pi[6]|0,this.H=pi[7]|0}get(){let{A:e,B:n,C:t,D:r,E:o,F:s,G:a,H:l}=this;return[e,n,t,r,o,s,a,l]}set(e,n,t,r,o,s,a,l){this.A=e|0,this.B=n|0,this.C=t|0,this.D=r|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(e,n){for(let f=0;f<16;f++,n+=4)gi[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){let m=gi[f-15],g=gi[f-2],v=kt(m,7)^kt(m,18)^m>>>3,p=kt(g,17)^kt(g,19)^g>>>10;gi[f]=p+gi[f-7]+v+gi[f-16]|0}let{A:t,B:r,C:o,D:s,E:a,F:l,G:c,H:h}=this;for(let f=0;f<64;f++){let m=kt(a,6)^kt(a,11)^kt(a,25),g=h+m+pp(a,l,c)+vp[f]+gi[f]|0,p=(kt(t,2)^kt(t,13)^kt(t,22))+gp(t,r,o)|0;h=c,c=l,l=a,a=s+g|0,s=o,o=r,r=t,t=g+p|0}t=t+this.A|0,r=r+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,h=h+this.H|0,this.set(t,r,o,s,a,l,c,h)}roundClean(){gi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},ks=class extends Kr{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},vi=As(()=>new Kr),zw=As(()=>new ks);function Li(i){if(!Number.isSafeInteger(i))throw new Error(`Wrong integer: ${i}`)}function Lt(...i){let e=(r,o)=>s=>r(o(s)),n=Array.from(i).reverse().reduce((r,o)=>r?e(r,o.encode):o.encode,void 0),t=i.reduce((r,o)=>r?e(r,o.decode):o.decode,void 0);return{encode:n,decode:t}}function Zt(i){return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(n=>{if(Li(n),n<0||n>=i.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${i.length})`);return i[n]})},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);let t=i.indexOf(n);if(t===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${i}`);return t})}}}function Xt(i=""){if(typeof i!="string")throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of e)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return e.join(i)},decode:e=>{if(typeof e!="string")throw new Error("join.decode input should be string");return e.split(i)}}}function Qr(i,e="="){if(Li(i),typeof e!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let t of n)if(typeof t!="string")throw new Error(`padding.encode: non-string input=${t}`);for(;n.length*i%8;)n.push(e);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.decode: non-string input=${r}`);let t=n.length;if(t*i%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;t>0&&n[t-1]===e;t--)if(!((t-1)*i%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,t)}}}function bd(i){if(typeof i!="function")throw new Error("normalize fn should be function");return{encode:e=>e,decode:e=>i(e)}}function pd(i,e,n){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(i))throw new Error("convertRadix: data should be array");if(!i.length)return[];let t=0,r=[],o=Array.from(i);for(o.forEach(s=>{if(Li(s),s<0||s>=e)throw new Error(`Wrong integer: ${s}`)});;){let s=0,a=!0;for(let l=t;l<o.length;l++){let c=o[l],h=e*s+c;if(!Number.isSafeInteger(h)||e*s/e!==s||h-c!==e*s)throw new Error("convertRadix: carry overflow");if(s=h%n,o[l]=Math.floor(h/n),!Number.isSafeInteger(o[l])||o[l]*n+s!==h)throw new Error("convertRadix: carry overflow");if(a)o[l]?a=!1:t=l;else continue}if(r.push(s),a)break}for(let s=0;s<i.length-1&&i[s]===0;s++)r.push(0);return r.reverse()}var wd=(i,e)=>e?wd(e,i%e):i,Zr=(i,e)=>i+(e-wd(i,e));function Os(i,e,n,t){if(!Array.isArray(i))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Zr(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${Zr(e,n)}`);let r=0,o=0,s=2**n-1,a=[];for(let l of i){if(Li(l),l>=2**e)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(r=r<<e|l,o+e>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${e}`);for(o+=e;o>=n;o-=n)a.push((r>>o-n&s)>>>0);r&=2**o-1}if(r=r<<n-o&s,!t&&o>=e)throw new Error("Excess padding");if(!t&&r)throw new Error(`Non-zero padding: ${r}`);return t&&o>0&&a.push(r>>>0),a}function _p(i){return Li(i),{encode:e=>{if(!(e instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return pd(Array.from(e),2**8,i)},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(pd(e,i,2**8))}}}function _i(i,e=!1){if(Li(i),i<=0||i>32)throw new Error("radix2: bits should be in (0..32]");if(Zr(8,i)>32||Zr(i,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Os(Array.from(n),8,i,!e)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Os(n,i,8,e))}}}function gd(i){if(typeof i!="function")throw new Error("unsafeWrapper fn should be function");return function(...e){try{return i.apply(null,e)}catch{}}}function yp(i,e){if(Li(i),typeof e!="function")throw new Error("checksum fn should be function");return{encode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");let t=e(n).slice(0,i),r=new Uint8Array(n.length+i);return r.set(n),r.set(t,n.length),r},decode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");let t=n.slice(0,-i),r=e(t).slice(0,i),o=n.slice(-i);for(let s=0;s<i;s++)if(r[s]!==o[s])throw new Error("Invalid checksum");return t}}}var bp=Lt(_i(4),Zt("0123456789ABCDEF"),Xt("")),wp=Lt(_i(5),Zt("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Qr(5),Xt("")),Hw=Lt(_i(5),Zt("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Qr(5),Xt("")),$w=Lt(_i(5),Zt("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Xt(""),bd(i=>i.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),xt=Lt(_i(6),Zt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Qr(6),Xt("")),xp=Lt(_i(6),Zt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Qr(6),Xt("")),Ts=i=>Lt(_p(58),Zt(i),Xt("")),Xr=Ts("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Ww=Ts("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),qw=Ts("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),vd=[0,2,3,5,6,7,9,10,11],Ep={encode(i){let e="";for(let n=0;n<i.length;n+=8){let t=i.subarray(n,n+8);e+=Xr.encode(t).padStart(vd[t.length],"1")}return e},decode(i){let e=[];for(let n=0;n<i.length;n+=11){let t=i.slice(n,n+11),r=vd.indexOf(t.length),o=Xr.decode(t);for(let s=0;s<o.length-r;s++)if(o[s]!==0)throw new Error("base58xmr: wrong padding");e=e.concat(Array.from(o.slice(o.length-r)))}return Uint8Array.from(e)}},Gw=i=>Lt(yp(4,e=>i(i(e))),Xr),Ms=Lt(Zt("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Xt("")),_d=[996825010,642813549,513874426,1027748829,705979059];function $n(i){let e=i>>25,n=(i&33554431)<<5;for(let t=0;t<_d.length;t++)(e>>t&1)===1&&(n^=_d[t]);return n}function yd(i,e,n=1){let t=i.length,r=1;for(let o=0;o<t;o++){let s=i.charCodeAt(o);if(s<33||s>126)throw new Error(`Invalid prefix (${i})`);r=$n(r)^s>>5}r=$n(r);for(let o=0;o<t;o++)r=$n(r)^i.charCodeAt(o)&31;for(let o of e)r=$n(r)^o;for(let o=0;o<6;o++)r=$n(r);return r^=n,Ms.encode(Os([r%2**30],30,5,!1))}function xd(i){let e=i==="bech32"?1:734539939,n=_i(5),t=n.decode,r=n.encode,o=gd(t);function s(h,f,m=90){if(typeof h!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof h}`);if(!Array.isArray(f)||f.length&&typeof f[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof f}`);let g=h.length+7+f.length;if(m!==!1&&g>m)throw new TypeError(`Length ${g} exceeds limit ${m}`);return h=h.toLowerCase(),`${h}1${Ms.encode(f)}${yd(h,f,e)}`}function a(h,f=90){if(typeof h!="string")throw new Error(`bech32.decode input should be string, not ${typeof h}`);if(h.length<8||f!==!1&&h.length>f)throw new TypeError(`Wrong string length: ${h.length} (${h}). Expected (8..${f})`);let m=h.toLowerCase();if(h!==m&&h!==h.toUpperCase())throw new Error("String must be lowercase or uppercase");h=m;let g=h.lastIndexOf("1");if(g===0||g===-1)throw new Error('Letter "1" must be present between prefix and data only');let v=h.slice(0,g),p=h.slice(g+1);if(p.length<6)throw new Error("Data must be at least 6 characters long");let y=Ms.decode(p).slice(0,-6),E=yd(v,y,e);if(!p.endsWith(E))throw new Error(`Invalid checksum in ${h}: expected "${E}"`);return{prefix:v,words:y}}let l=gd(a);function c(h){let{prefix:f,words:m}=a(h,!1);return{prefix:f,words:m,bytes:t(m)}}return{encode:s,decode:a,decodeToBytes:c,decodeUnsafe:l,fromWords:t,fromWordsUnsafe:o,toWords:r}}var yi=xd("bech32"),Yw=xd("bech32m"),Cp={encode:i=>new TextDecoder().decode(i),decode:i=>new TextEncoder().encode(i)},Sp=Lt(_i(4),Zt("0123456789abcdef"),Xt(""),bd(i=>{if(typeof i!="string"||i.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof i} with length ${i.length}`);return i.toLowerCase()})),Ip={utf8:Cp,hex:Sp,base16:bp,base32:wp,base64:xt,base64url:xp,base58:Xr,base58xmr:Ep},Kw=`Invalid encoding type. Available types: ${Object.keys(Ip).join(", ")}`;function Jr(i){if(!Number.isSafeInteger(i)||i<0)throw new Error(`positive integer expected, not ${i}`)}function Ps(i){if(typeof i!="boolean")throw new Error(`boolean expected, not ${i}`)}function Ls(i){return i instanceof Uint8Array||i!=null&&typeof i=="object"&&i.constructor.name==="Uint8Array"}function ne(i,...e){if(!Ls(i))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(i.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${i.length}`)}function bi(i,e=!0){if(i.destroyed)throw new Error("Hash instance has been destroyed");if(e&&i.finished)throw new Error("Hash#digest() has already been called")}function Wn(i,e){ne(i);let n=e.outputLen;if(i.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}var eo=i=>new Uint8Array(i.buffer,i.byteOffset,i.byteLength);var re=i=>new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4)),wi=i=>new DataView(i.buffer,i.byteOffset,i.byteLength),Dp=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Dp)throw new Error("Non little-endian hardware is not supported");function Ap(i){if(typeof i!="string")throw new Error(`string expected, got ${typeof i}`);return new Uint8Array(new TextEncoder().encode(i))}function Ft(i){if(typeof i=="string")i=Ap(i);else if(Ls(i))i=i.slice();else throw new Error(`Uint8Array expected, got ${typeof i}`);return i}function Ed(i,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(i,e)}function Fi(i,e){if(i.length!==e.length)return!1;let n=0;for(let t=0;t<i.length;t++)n|=i[t]^e[t];return n===0}var Bt=(i,e)=>(Object.assign(e,i),e);function Bi(i,e,n,t){if(typeof i.setBigUint64=="function")return i.setBigUint64(e,n,t);let r=BigInt(32),o=BigInt(4294967295),s=Number(n>>r&o),a=Number(n&o),l=t?4:0,c=t?0:4;i.setUint32(e+l,s,t),i.setUint32(e+c,a,t)}var Qt=16,Bs=new Uint8Array(16),Vt=re(Bs),Rp=225,kp=(i,e,n,t)=>{let r=t&1;return{s3:n<<31|t>>>1,s2:e<<31|n>>>1,s1:i<<31|e>>>1,s0:i>>>1^Rp<<24&-(r&1)}},Et=i=>(i>>>0&255)<<24|(i>>>8&255)<<16|(i>>>16&255)<<8|i>>>24&255|0;function Op(i){i.reverse();let e=i[15]&1,n=0;for(let t=0;t<i.length;t++){let r=i[t];i[t]=r>>>1|n,n=(r&1)<<7}return i[0]^=-e&225,i}var Mp=i=>i>64*1024?8:i>1024?4:2,to=class{constructor(e,n){this.blockLen=Qt,this.outputLen=Qt,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,e=Ft(e),ne(e,16);let t=wi(e),r=t.getUint32(0,!1),o=t.getUint32(4,!1),s=t.getUint32(8,!1),a=t.getUint32(12,!1),l=[];for(let v=0;v<128;v++)l.push({s0:Et(r),s1:Et(o),s2:Et(s),s3:Et(a)}),{s0:r,s1:o,s2:s,s3:a}=kp(r,o,s,a);let c=Mp(n||1024);if(![1,2,4,8].includes(c))throw new Error(`ghash: wrong window size=${c}, should be 2, 4 or 8`);this.W=c;let f=128/c,m=this.windowSize=2**c,g=[];for(let v=0;v<f;v++)for(let p=0;p<m;p++){let y=0,E=0,S=0,D=0;for(let V=0;V<c;V++){if(!(p>>>c-V-1&1))continue;let{s0:C,s1:O,s2:R,s3:j}=l[c*v+V];y^=C,E^=O,S^=R,D^=j}g.push({s0:y,s1:E,s2:S,s3:D})}this.t=g}_updateBlock(e,n,t,r){e^=this.s0,n^=this.s1,t^=this.s2,r^=this.s3;let{W:o,t:s,windowSize:a}=this,l=0,c=0,h=0,f=0,m=(1<<o)-1,g=0;for(let v of[e,n,t,r])for(let p=0;p<4;p++){let y=v>>>8*p&255;for(let E=8/o-1;E>=0;E--){let S=y>>>o*E&m,{s0:D,s1:V,s2:N,s3:C}=s[g*a+S];l^=D,c^=V,h^=N,f^=C,g+=1}}this.s0=l,this.s1=c,this.s2=h,this.s3=f}update(e){e=Ft(e),bi(this);let n=re(e),t=Math.floor(e.length/Qt),r=e.length%Qt;for(let o=0;o<t;o++)this._updateBlock(n[o*4+0],n[o*4+1],n[o*4+2],n[o*4+3]);return r&&(Bs.set(e.subarray(t*Qt)),this._updateBlock(Vt[0],Vt[1],Vt[2],Vt[3]),Vt.fill(0)),this}destroy(){let{t:e}=this;for(let n of e)n.s0=0,n.s1=0,n.s2=0,n.s3=0}digestInto(e){bi(this),Wn(e,this),this.finished=!0;let{s0:n,s1:t,s2:r,s3:o}=this,s=re(e);return s[0]=n,s[1]=t,s[2]=r,s[3]=o,e}digest(){let e=new Uint8Array(Qt);return this.digestInto(e),this.destroy(),e}},Fs=class extends to{constructor(e,n){e=Ft(e);let t=Op(e.slice());super(t,n),t.fill(0)}update(e){e=Ft(e),bi(this);let n=re(e),t=e.length%Qt,r=Math.floor(e.length/Qt);for(let o=0;o<r;o++)this._updateBlock(Et(n[o*4+3]),Et(n[o*4+2]),Et(n[o*4+1]),Et(n[o*4+0]));return t&&(Bs.set(e.subarray(r*Qt)),this._updateBlock(Et(Vt[3]),Et(Vt[2]),Et(Vt[1]),Et(Vt[0])),Vt.fill(0)),this}digestInto(e){bi(this),Wn(e,this),this.finished=!0;let{s0:n,s1:t,s2:r,s3:o}=this,s=re(e);return s[0]=n,s[1]=t,s[2]=r,s[3]=o,e.reverse()}};function Cd(i){let e=(t,r)=>i(r,t.length).update(Ft(t)).digest(),n=i(new Uint8Array(16),0);return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=(t,r)=>i(t,r),e}var Vs=Cd((i,e)=>new to(i,e)),Sd=Cd((i,e)=>new Fs(i,e));var dt=16,zs=4,io=new Uint8Array(dt),Tp=283;function Us(i){return i<<1^Tp&-(i>>7)}function hn(i,e){let n=0;for(;e>0;e>>=1)n^=i&-(e&1),i=Us(i);return n}var js=(()=>{let i=new Uint8Array(256);for(let n=0,t=1;n<256;n++,t^=Us(t))i[n]=t;let e=new Uint8Array(256);e[0]=99;for(let n=0;n<255;n++){let t=i[255-n];t|=t<<8,e[i[n]]=(t^t>>4^t>>5^t>>6^t>>7^99)&255}return e})(),Pp=js.map((i,e)=>js.indexOf(e)),Lp=i=>i<<24|i>>>8,Ns=i=>i<<8|i>>>24;function Id(i,e){if(i.length!==256)throw new Error("Wrong sbox length");let n=new Uint32Array(256).map((c,h)=>e(i[h])),t=n.map(Ns),r=t.map(Ns),o=r.map(Ns),s=new Uint32Array(256*256),a=new Uint32Array(256*256),l=new Uint16Array(256*256);for(let c=0;c<256;c++)for(let h=0;h<256;h++){let f=c*256+h;s[f]=n[c]^t[h],a[f]=r[c]^o[h],l[f]=i[c]<<8|i[h]}return{sbox:i,sbox2:l,T0:n,T1:t,T2:r,T3:o,T01:s,T23:a}}var Hs=Id(js,i=>hn(i,3)<<24|i<<16|i<<8|hn(i,2)),Dd=Id(Pp,i=>hn(i,11)<<24|hn(i,13)<<16|hn(i,9)<<8|hn(i,14)),Fp=(()=>{let i=new Uint8Array(16);for(let e=0,n=1;e<16;e++,n=Us(n))i[e]=n;return i})();function Ei(i){ne(i);let e=i.length;if(![16,24,32].includes(e))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${e}`);let{sbox2:n}=Hs,t=re(i),r=t.length,o=a=>Nt(n,a,a,a,a),s=new Uint32Array(e+28);s.set(t);for(let a=r;a<s.length;a++){let l=s[a-1];a%r===0?l=o(Lp(l))^Fp[a/r-1]:r>6&&a%r===4&&(l=o(l)),s[a]=s[a-r]^l}return s}function Ad(i){let e=Ei(i),n=e.slice(),t=e.length,{sbox2:r}=Hs,{T0:o,T1:s,T2:a,T3:l}=Dd;for(let c=0;c<t;c+=4)for(let h=0;h<4;h++)n[c+h]=e[t-c-4+h];e.fill(0);for(let c=4;c<t-4;c++){let h=n[c],f=Nt(r,h,h,h,h);n[c]=o[f&255]^s[f>>>8&255]^a[f>>>16&255]^l[f>>>24]}return n}function xi(i,e,n,t,r,o){return i[n<<8&65280|t>>>8&255]^e[r>>>8&65280|o>>>24&255]}function Nt(i,e,n,t,r){return i[e&255|n&65280]|i[t>>>16&255|r>>>16&65280]<<16}function Ct(i,e,n,t,r){let{sbox2:o,T01:s,T23:a}=Hs,l=0;e^=i[l++],n^=i[l++],t^=i[l++],r^=i[l++];let c=i.length/4-2;for(let v=0;v<c;v++){let p=i[l++]^xi(s,a,e,n,t,r),y=i[l++]^xi(s,a,n,t,r,e),E=i[l++]^xi(s,a,t,r,e,n),S=i[l++]^xi(s,a,r,e,n,t);e=p,n=y,t=E,r=S}let h=i[l++]^Nt(o,e,n,t,r),f=i[l++]^Nt(o,n,t,r,e),m=i[l++]^Nt(o,t,r,e,n),g=i[l++]^Nt(o,r,e,n,t);return{s0:h,s1:f,s2:m,s3:g}}function Rd(i,e,n,t,r){let{sbox2:o,T01:s,T23:a}=Dd,l=0;e^=i[l++],n^=i[l++],t^=i[l++],r^=i[l++];let c=i.length/4-2;for(let v=0;v<c;v++){let p=i[l++]^xi(s,a,e,r,t,n),y=i[l++]^xi(s,a,n,e,r,t),E=i[l++]^xi(s,a,t,n,e,r),S=i[l++]^xi(s,a,r,t,n,e);e=p,n=y,t=E,r=S}let h=i[l++]^Nt(o,e,r,t,n),f=i[l++]^Nt(o,n,e,r,t),m=i[l++]^Nt(o,t,n,e,r),g=i[l++]^Nt(o,r,t,n,e);return{s0:h,s1:f,s2:m,s3:g}}function fn(i,e){if(!e)return new Uint8Array(i);if(ne(e),e.length<i)throw new Error(`aes: wrong destination length, expected at least ${i}, got: ${e.length}`);return e}function Bp(i,e,n,t){ne(e,dt),ne(n);let r=n.length;t=fn(r,t);let o=e,s=re(o),{s0:a,s1:l,s2:c,s3:h}=Ct(i,s[0],s[1],s[2],s[3]),f=re(n),m=re(t);for(let v=0;v+4<=f.length;v+=4){m[v+0]=f[v+0]^a,m[v+1]=f[v+1]^l,m[v+2]=f[v+2]^c,m[v+3]=f[v+3]^h;let p=1;for(let y=o.length-1;y>=0;y--)p=p+(o[y]&255)|0,o[y]=p&255,p>>>=8;({s0:a,s1:l,s2:c,s3:h}=Ct(i,s[0],s[1],s[2],s[3]))}let g=dt*Math.floor(f.length/zs);if(g<r){let v=new Uint32Array([a,l,c,h]),p=eo(v);for(let y=g,E=0;y<r;y++,E++)t[y]=n[y]^p[E]}return t}function qn(i,e,n,t,r){ne(n,dt),ne(t),r=fn(t.length,r);let o=n,s=re(o),a=wi(o),l=re(t),c=re(r),h=e?0:12,f=t.length,m=a.getUint32(h,e),{s0:g,s1:v,s2:p,s3:y}=Ct(i,s[0],s[1],s[2],s[3]);for(let S=0;S+4<=l.length;S+=4)c[S+0]=l[S+0]^g,c[S+1]=l[S+1]^v,c[S+2]=l[S+2]^p,c[S+3]=l[S+3]^y,m=m+1>>>0,a.setUint32(h,m,e),{s0:g,s1:v,s2:p,s3:y}=Ct(i,s[0],s[1],s[2],s[3]);let E=dt*Math.floor(l.length/zs);if(E<f){let S=new Uint32Array([g,v,p,y]),D=eo(S);for(let V=E,N=0;V<f;V++,N++)r[V]=t[V]^D[N]}return r}var ax=Bt({blockSize:16,nonceLength:16},function(e,n){ne(e),ne(n,dt);function t(r,o){let s=Ei(e),a=n.slice(),l=Bp(s,a,r,o);return s.fill(0),a.fill(0),l}return{encrypt:(r,o)=>t(r,o),decrypt:(r,o)=>t(r,o)}});function kd(i){if(ne(i),i.length%dt!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${dt}`)}function Od(i,e,n){let t=i.length,r=t%dt;if(!e&&r!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");let o=re(i);if(e){let l=dt-r;l||(l=dt),t=t+l}let s=fn(t,n),a=re(s);return{b:o,o:a,out:s}}function Md(i,e){if(!e)return i;let n=i.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");let t=i[n-1];if(t<=0||t>16)throw new Error(`aes/pcks5: wrong padding byte: ${t}`);let r=i.subarray(0,-t);for(let o=0;o<t;o++)if(i[n-o-1]!==t)throw new Error("aes/pcks5: wrong padding");return r}function Td(i){let e=new Uint8Array(16),n=re(e);e.set(i);let t=dt-i.length;for(let r=dt-t;r<dt;r++)e[r]=t;return n}var lx=Bt({blockSize:16},function(e,n={}){ne(e);let t=!n.disablePadding;return{encrypt:(r,o)=>{ne(r);let{b:s,o:a,out:l}=Od(r,t,o),c=Ei(e),h=0;for(;h+4<=s.length;){let{s0:f,s1:m,s2:g,s3:v}=Ct(c,s[h+0],s[h+1],s[h+2],s[h+3]);a[h++]=f,a[h++]=m,a[h++]=g,a[h++]=v}if(t){let f=Td(r.subarray(h*4)),{s0:m,s1:g,s2:v,s3:p}=Ct(c,f[0],f[1],f[2],f[3]);a[h++]=m,a[h++]=g,a[h++]=v,a[h++]=p}return c.fill(0),l},decrypt:(r,o)=>{kd(r);let s=Ad(e),a=fn(r.length,o),l=re(r),c=re(a);for(let h=0;h+4<=l.length;){let{s0:f,s1:m,s2:g,s3:v}=Rd(s,l[h+0],l[h+1],l[h+2],l[h+3]);c[h++]=f,c[h++]=m,c[h++]=g,c[h++]=v}return s.fill(0),Md(a,t)}}}),$s=Bt({blockSize:16,nonceLength:16},function(e,n,t={}){ne(e),ne(n,16);let r=!t.disablePadding;return{encrypt:(o,s)=>{let a=Ei(e),{b:l,o:c,out:h}=Od(o,r,s),f=re(n),m=f[0],g=f[1],v=f[2],p=f[3],y=0;for(;y+4<=l.length;)m^=l[y+0],g^=l[y+1],v^=l[y+2],p^=l[y+3],{s0:m,s1:g,s2:v,s3:p}=Ct(a,m,g,v,p),c[y++]=m,c[y++]=g,c[y++]=v,c[y++]=p;if(r){let E=Td(o.subarray(y*4));m^=E[0],g^=E[1],v^=E[2],p^=E[3],{s0:m,s1:g,s2:v,s3:p}=Ct(a,m,g,v,p),c[y++]=m,c[y++]=g,c[y++]=v,c[y++]=p}return a.fill(0),h},decrypt:(o,s)=>{kd(o);let a=Ad(e),l=re(n),c=fn(o.length,s),h=re(o),f=re(c),m=l[0],g=l[1],v=l[2],p=l[3];for(let y=0;y+4<=h.length;){let E=m,S=g,D=v,V=p;m=h[y+0],g=h[y+1],v=h[y+2],p=h[y+3];let{s0:N,s1:C,s2:O,s3:R}=Rd(a,m,g,v,p);f[y++]=N^E,f[y++]=C^S,f[y++]=O^D,f[y++]=R^V}return a.fill(0),Md(c,r)}}}),cx=Bt({blockSize:16,nonceLength:16},function(e,n){ne(e),ne(n,16);function t(r,o,s){let a=Ei(e),l=r.length;s=fn(l,s);let c=re(r),h=re(s),f=o?h:c,m=re(n),g=m[0],v=m[1],p=m[2],y=m[3];for(let S=0;S+4<=c.length;){let{s0:D,s1:V,s2:N,s3:C}=Ct(a,g,v,p,y);h[S+0]=c[S+0]^D,h[S+1]=c[S+1]^V,h[S+2]=c[S+2]^N,h[S+3]=c[S+3]^C,g=f[S++],v=f[S++],p=f[S++],y=f[S++]}let E=dt*Math.floor(c.length/zs);if(E<l){({s0:g,s1:v,s2:p,s3:y}=Ct(a,g,v,p,y));let S=eo(new Uint32Array([g,v,p,y]));for(let D=E,V=0;D<l;D++,V++)s[D]=r[D]^S[V];S.fill(0)}return a.fill(0),s}return{encrypt:(r,o)=>t(r,!0,o),decrypt:(r,o)=>t(r,!1,o)}});function Pd(i,e,n,t,r){let o=i.create(n,t.length+(r?.length||0));r&&o.update(r),o.update(t);let s=new Uint8Array(16),a=wi(s);return r&&Bi(a,0,BigInt(r.length*8),e),Bi(a,8,BigInt(t.length*8),e),o.update(s),o.digest()}var dx=Bt({blockSize:16,nonceLength:12,tagLength:16},function(e,n,t){if(ne(n),n.length===0)throw new Error("aes/gcm: empty nonce");let r=16;function o(a,l,c){let h=Pd(Vs,!1,a,c,t);for(let f=0;f<l.length;f++)h[f]^=l[f];return h}function s(){let a=Ei(e),l=io.slice(),c=io.slice();if(qn(a,!1,c,c,l),n.length===12)c.set(n);else{let f=io.slice(),m=wi(f);Bi(m,8,BigInt(n.length*8),!1),Vs.create(l).update(n).update(f).digestInto(c)}let h=qn(a,!1,c,io);return{xk:a,authKey:l,counter:c,tagMask:h}}return{encrypt:a=>{ne(a);let{xk:l,authKey:c,counter:h,tagMask:f}=s(),m=new Uint8Array(a.length+r);qn(l,!1,h,a,m);let g=o(c,f,m.subarray(0,m.length-r));return m.set(g,a.length),l.fill(0),m},decrypt:a=>{if(ne(a),a.length<r)throw new Error(`aes/gcm: ciphertext less than tagLen (${r})`);let{xk:l,authKey:c,counter:h,tagMask:f}=s(),m=a.subarray(0,-r),g=a.subarray(-r),v=o(c,f,m);if(!Fi(v,g))throw new Error("aes/gcm: invalid ghash tag");let p=qn(l,!1,h,m);return c.fill(0),f.fill(0),l.fill(0),p}}}),no=(i,e,n)=>t=>{if(!Number.isSafeInteger(t)||e>t||t>n)throw new Error(`${i}: invalid value=${t}, must be [${e}..${n}]`)},hx=Bt({blockSize:16,nonceLength:12,tagLength:16},function(e,n,t){let o=no("AAD",0,68719476736),s=no("plaintext",0,2**36),a=no("nonce",12,12),l=no("ciphertext",16,2**36+16);ne(n),a(n.length),t&&(ne(t),o(t.length));function c(){let m=e.length;if(m!==16&&m!==24&&m!==32)throw new Error(`key length must be 16, 24 or 32 bytes, got: ${m} bytes`);let g=Ei(e),v=new Uint8Array(m),p=new Uint8Array(16),y=re(n),E=0,S=y[0],D=y[1],V=y[2],N=0;for(let C of[p,v].map(re)){let O=re(C);for(let R=0;R<O.length;R+=2){let{s0:j,s1:z}=Ct(g,E,S,D,V);O[R+0]=j,O[R+1]=z,E=++N}}return g.fill(0),{authKey:p,encKey:Ei(v)}}function h(m,g,v){let p=Pd(Sd,!0,g,v,t);for(let N=0;N<12;N++)p[N]^=n[N];p[15]&=127;let y=re(p),E=y[0],S=y[1],D=y[2],V=y[3];return{s0:E,s1:S,s2:D,s3:V}=Ct(m,E,S,D,V),y[0]=E,y[1]=S,y[2]=D,y[3]=V,p}function f(m,g,v){let p=g.slice();return p[15]|=128,qn(m,!0,p,v)}return{encrypt:m=>{ne(m),s(m.length);let{encKey:g,authKey:v}=c(),p=h(g,v,m),y=new Uint8Array(m.length+16);return y.set(p,m.length),y.set(f(g,p,m)),g.fill(0),v.fill(0),y},decrypt:m=>{ne(m),l(m.length);let g=m.subarray(-16),{encKey:v,authKey:p}=c(),y=f(v,g,m.subarray(0,-16)),E=h(v,p,y);if(v.fill(0),p.fill(0),!Fi(g,E))throw new Error("invalid polyval tag");return y}}});var Qe=(i,e)=>i[e++]&255|(i[e++]&255)<<8,Ws=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=Ft(e),ne(e,32);let n=Qe(e,0),t=Qe(e,2),r=Qe(e,4),o=Qe(e,6),s=Qe(e,8),a=Qe(e,10),l=Qe(e,12),c=Qe(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|t<<3)&8191,this.r[2]=(t>>>10|r<<6)&7939,this.r[3]=(r>>>7|o<<9)&8191,this.r[4]=(o>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|a<<2)&8191,this.r[7]=(a>>>11|l<<5)&8065,this.r[8]=(l>>>8|c<<8)&8191,this.r[9]=c>>>5&127;for(let h=0;h<8;h++)this.pad[h]=Qe(e,16+2*h)}process(e,n,t=!1){let r=t?0:2048,{h:o,r:s}=this,a=s[0],l=s[1],c=s[2],h=s[3],f=s[4],m=s[5],g=s[6],v=s[7],p=s[8],y=s[9],E=Qe(e,n+0),S=Qe(e,n+2),D=Qe(e,n+4),V=Qe(e,n+6),N=Qe(e,n+8),C=Qe(e,n+10),O=Qe(e,n+12),R=Qe(e,n+14),j=o[0]+(E&8191),z=o[1]+((E>>>13|S<<3)&8191),U=o[2]+((S>>>10|D<<6)&8191),Z=o[3]+((D>>>7|V<<9)&8191),X=o[4]+((V>>>4|N<<12)&8191),te=o[5]+(N>>>1&8191),A=o[6]+((N>>>14|C<<2)&8191),T=o[7]+((C>>>11|O<<5)&8191),H=o[8]+((O>>>8|R<<8)&8191),Y=o[9]+(R>>>5|r),F=0,ie=F+j*a+z*(5*y)+U*(5*p)+Z*(5*v)+X*(5*g);F=ie>>>13,ie&=8191,ie+=te*(5*m)+A*(5*f)+T*(5*h)+H*(5*c)+Y*(5*l),F+=ie>>>13,ie&=8191;let se=F+j*l+z*a+U*(5*y)+Z*(5*p)+X*(5*v);F=se>>>13,se&=8191,se+=te*(5*g)+A*(5*m)+T*(5*f)+H*(5*h)+Y*(5*c),F+=se>>>13,se&=8191;let J=F+j*c+z*l+U*a+Z*(5*y)+X*(5*p);F=J>>>13,J&=8191,J+=te*(5*v)+A*(5*g)+T*(5*m)+H*(5*f)+Y*(5*h),F+=J>>>13,J&=8191;let ke=F+j*h+z*c+U*l+Z*a+X*(5*y);F=ke>>>13,ke&=8191,ke+=te*(5*p)+A*(5*v)+T*(5*g)+H*(5*m)+Y*(5*f),F+=ke>>>13,ke&=8191;let Ge=F+j*f+z*h+U*c+Z*l+X*a;F=Ge>>>13,Ge&=8191,Ge+=te*(5*y)+A*(5*p)+T*(5*v)+H*(5*g)+Y*(5*m),F+=Ge>>>13,Ge&=8191;let rt=F+j*m+z*f+U*h+Z*c+X*l;F=rt>>>13,rt&=8191,rt+=te*a+A*(5*y)+T*(5*p)+H*(5*v)+Y*(5*g),F+=rt>>>13,rt&=8191;let ht=F+j*g+z*m+U*f+Z*h+X*c;F=ht>>>13,ht&=8191,ht+=te*l+A*a+T*(5*y)+H*(5*p)+Y*(5*v),F+=ht>>>13,ht&=8191;let Ye=F+j*v+z*g+U*m+Z*f+X*h;F=Ye>>>13,Ye&=8191,Ye+=te*c+A*l+T*a+H*(5*y)+Y*(5*p),F+=Ye>>>13,Ye&=8191;let pt=F+j*p+z*v+U*g+Z*m+X*f;F=pt>>>13,pt&=8191,pt+=te*h+A*c+T*l+H*a+Y*(5*y),F+=pt>>>13,pt&=8191;let Je=F+j*y+z*p+U*v+Z*g+X*m;F=Je>>>13,Je&=8191,Je+=te*f+A*h+T*c+H*l+Y*a,F+=Je>>>13,Je&=8191,F=(F<<2)+F|0,F=F+ie|0,ie=F&8191,F=F>>>13,se+=F,o[0]=ie,o[1]=se,o[2]=J,o[3]=ke,o[4]=Ge,o[5]=rt,o[6]=ht,o[7]=Ye,o[8]=pt,o[9]=Je}finalize(){let{h:e,pad:n}=this,t=new Uint16Array(10),r=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=r,r=e[a]>>>13,e[a]&=8191;e[0]+=r*5,r=e[0]>>>13,e[0]&=8191,e[1]+=r,r=e[1]>>>13,e[1]&=8191,e[2]+=r,t[0]=e[0]+5,r=t[0]>>>13,t[0]&=8191;for(let a=1;a<10;a++)t[a]=e[a]+r,r=t[a]>>>13,t[a]&=8191;t[9]-=8192;let o=(r^1)-1;for(let a=0;a<10;a++)t[a]&=o;o=~o;for(let a=0;a<10;a++)e[a]=e[a]&o|t[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let s=e[0]+n[0];e[0]=s&65535;for(let a=1;a<8;a++)s=(e[a]+n[a]|0)+(s>>>16)|0,e[a]=s&65535}update(e){bi(this);let{buffer:n,blockLen:t}=this;e=Ft(e);let r=e.length;for(let o=0;o<r;){let s=Math.min(t-this.pos,r-o);if(s===t){for(;t<=r-o;o+=t)this.process(e,o);continue}n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===t&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(e){bi(this),Wn(e,this),this.finished=!0;let{buffer:n,h:t}=this,{pos:r}=this;if(r){for(n[r++]=1;r<16;r++)n[r]=0;this.process(n,0,!0)}this.finalize();let o=0;for(let s=0;s<8;s++)e[o++]=t[s]>>>0,e[o++]=t[s]>>>8;return e}digest(){let{buffer:e,outputLen:n}=this;this.digestInto(e);let t=e.slice(0,n);return this.destroy(),t}};function Vp(i){let e=(t,r)=>i(r).update(Ft(t)).digest(),n=i(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=t=>i(t),e}var Ld=Vp(i=>new Ws(i));var Bd=i=>Uint8Array.from(i.split("").map(e=>e.charCodeAt(0))),Np=Bd("expand 16-byte k"),jp=Bd("expand 32-byte k"),zp=re(Np),Vd=re(jp),_x=Vd.slice();function $(i,e){return i<<e|i>>>32-e}function qs(i){return i.byteOffset%4===0}var ro=64,Up=16,Nd=2**32-1,Fd=new Uint32Array;function Hp(i,e,n,t,r,o,s,a){let l=r.length,c=new Uint8Array(ro),h=re(c),f=qs(r)&&qs(o),m=f?re(r):Fd,g=f?re(o):Fd;for(let v=0;v<l;s++){if(i(e,n,t,h,s,a),s>=Nd)throw new Error("arx: counter overflow");let p=Math.min(ro,l-v);if(f&&p===ro){let y=v/4;if(v%4!==0)throw new Error("arx: invalid block position");for(let E=0,S;E<Up;E++)S=y+E,g[S]=m[S]^h[E];v+=ro;continue}for(let y=0,E;y<p;y++)E=v+y,o[E]=r[E]^c[y];v+=p}}function Gs(i,e){let{allowShortKeys:n,extendNonceFn:t,counterLength:r,counterRight:o,rounds:s}=Ed({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof i!="function")throw new Error("core must be a function");return Jr(r),Jr(s),Ps(o),Ps(n),(a,l,c,h,f=0)=>{ne(a),ne(l),ne(c);let m=c.length;if(h||(h=new Uint8Array(m)),ne(h),Jr(f),f<0||f>=Nd)throw new Error("arx: counter overflow");if(h.length<m)throw new Error(`arx: output (${h.length}) is shorter than data (${m})`);let g=[],v=a.length,p,y;if(v===32)p=a.slice(),g.push(p),y=Vd;else if(v===16&&n)p=new Uint8Array(32),p.set(a),p.set(a,16),y=zp,g.push(p);else throw new Error(`arx: invalid 32-byte key, got length=${v}`);qs(l)||(l=l.slice(),g.push(l));let E=re(p);if(t){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");t(y,E,re(l.subarray(0,16)),E),l=l.subarray(16)}let S=16-r;if(S!==l.length)throw new Error(`arx: nonce must be ${S} or 16 bytes`);if(S!==12){let V=new Uint8Array(12);V.set(l,o?0:12-l.length),l=V,g.push(l)}let D=re(l);for(Hp(i,y,E,D,c,h,f,s);g.length>0;)g.pop().fill(0);return h}}function Ud(i,e,n,t,r,o=20){let s=i[0],a=i[1],l=i[2],c=i[3],h=e[0],f=e[1],m=e[2],g=e[3],v=e[4],p=e[5],y=e[6],E=e[7],S=r,D=n[0],V=n[1],N=n[2],C=s,O=a,R=l,j=c,z=h,U=f,Z=m,X=g,te=v,A=p,T=y,H=E,Y=S,F=D,ie=V,se=N;for(let ke=0;ke<o;ke+=2)C=C+z|0,Y=$(Y^C,16),te=te+Y|0,z=$(z^te,12),C=C+z|0,Y=$(Y^C,8),te=te+Y|0,z=$(z^te,7),O=O+U|0,F=$(F^O,16),A=A+F|0,U=$(U^A,12),O=O+U|0,F=$(F^O,8),A=A+F|0,U=$(U^A,7),R=R+Z|0,ie=$(ie^R,16),T=T+ie|0,Z=$(Z^T,12),R=R+Z|0,ie=$(ie^R,8),T=T+ie|0,Z=$(Z^T,7),j=j+X|0,se=$(se^j,16),H=H+se|0,X=$(X^H,12),j=j+X|0,se=$(se^j,8),H=H+se|0,X=$(X^H,7),C=C+U|0,se=$(se^C,16),T=T+se|0,U=$(U^T,12),C=C+U|0,se=$(se^C,8),T=T+se|0,U=$(U^T,7),O=O+Z|0,Y=$(Y^O,16),H=H+Y|0,Z=$(Z^H,12),O=O+Z|0,Y=$(Y^O,8),H=H+Y|0,Z=$(Z^H,7),R=R+X|0,F=$(F^R,16),te=te+F|0,X=$(X^te,12),R=R+X|0,F=$(F^R,8),te=te+F|0,X=$(X^te,7),j=j+z|0,ie=$(ie^j,16),A=A+ie|0,z=$(z^A,12),j=j+z|0,ie=$(ie^j,8),A=A+ie|0,z=$(z^A,7);let J=0;t[J++]=s+C|0,t[J++]=a+O|0,t[J++]=l+R|0,t[J++]=c+j|0,t[J++]=h+z|0,t[J++]=f+U|0,t[J++]=m+Z|0,t[J++]=g+X|0,t[J++]=v+te|0,t[J++]=p+A|0,t[J++]=y+T|0,t[J++]=E+H|0,t[J++]=S+Y|0,t[J++]=D+F|0,t[J++]=V+ie|0,t[J++]=N+se|0}function $p(i,e,n,t){let r=i[0],o=i[1],s=i[2],a=i[3],l=e[0],c=e[1],h=e[2],f=e[3],m=e[4],g=e[5],v=e[6],p=e[7],y=n[0],E=n[1],S=n[2],D=n[3];for(let N=0;N<20;N+=2)r=r+l|0,y=$(y^r,16),m=m+y|0,l=$(l^m,12),r=r+l|0,y=$(y^r,8),m=m+y|0,l=$(l^m,7),o=o+c|0,E=$(E^o,16),g=g+E|0,c=$(c^g,12),o=o+c|0,E=$(E^o,8),g=g+E|0,c=$(c^g,7),s=s+h|0,S=$(S^s,16),v=v+S|0,h=$(h^v,12),s=s+h|0,S=$(S^s,8),v=v+S|0,h=$(h^v,7),a=a+f|0,D=$(D^a,16),p=p+D|0,f=$(f^p,12),a=a+f|0,D=$(D^a,8),p=p+D|0,f=$(f^p,7),r=r+c|0,D=$(D^r,16),v=v+D|0,c=$(c^v,12),r=r+c|0,D=$(D^r,8),v=v+D|0,c=$(c^v,7),o=o+h|0,y=$(y^o,16),p=p+y|0,h=$(h^p,12),o=o+h|0,y=$(y^o,8),p=p+y|0,h=$(h^p,7),s=s+f|0,E=$(E^s,16),m=m+E|0,f=$(f^m,12),s=s+f|0,E=$(E^s,8),m=m+E|0,f=$(f^m,7),a=a+l|0,S=$(S^a,16),g=g+S|0,l=$(l^g,12),a=a+l|0,S=$(S^a,8),g=g+S|0,l=$(l^g,7);let V=0;t[V++]=r,t[V++]=o,t[V++]=s,t[V++]=a,t[V++]=y,t[V++]=E,t[V++]=S,t[V++]=D}var oo=Gs(Ud,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Wp=Gs(Ud,{counterRight:!1,counterLength:8,extendNonceFn:$p,allowShortKeys:!1});var qp=new Uint8Array(16),jd=(i,e)=>{i.update(e);let n=e.length%16;n&&i.update(qp.subarray(n))},Gp=new Uint8Array(32);function zd(i,e,n,t,r){let o=i(e,n,Gp),s=Ld.create(o);r&&jd(s,r),jd(s,t);let a=new Uint8Array(16),l=wi(a);Bi(l,0,BigInt(r?r.length:0),!0),Bi(l,8,BigInt(t.length),!0),s.update(a);let c=s.digest();return o.fill(0),c}var Hd=i=>(e,n,t)=>(ne(e,32),ne(n),{encrypt:(o,s)=>{let a=o.length,l=a+16;s?ne(s,l):s=new Uint8Array(l),i(e,n,o,s,1);let c=zd(i,e,n,s.subarray(0,-16),t);return s.set(c,a),s},decrypt:(o,s)=>{let a=o.length,l=a-16;if(a<16)throw new Error("encrypted data must be at least 16 bytes");s?ne(s,l):s=new Uint8Array(l);let c=o.subarray(0,-16),h=o.subarray(-16),f=zd(i,e,n,c,t);if(!Fi(h,f))throw new Error("invalid tag");return i(e,n,c,s,1),s}}),Cx=Bt({blockSize:64,nonceLength:12,tagLength:16},Hd(oo)),Sx=Bt({blockSize:64,nonceLength:24,tagLength:16},Hd(Wp));var so=class extends cn{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,mt.hash(e);let t=mi(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let r=this.blockLen,o=new Uint8Array(r);o.set(t.length>r?e.create().update(t).digest():t);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return mt.exists(this),this.iHash.update(e),this}digestInto(e){mt.exists(this),mt.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:n,iHash:t,finished:r,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=r,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=t._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},un=(i,e,n)=>new so(i,e).update(n).digest();un.create=(i,e)=>new so(i,e);function Wd(i,e,n){return mt.hash(i),n===void 0&&(n=new Uint8Array(i.outputLen)),un(i,mi(n),mi(e))}var Ys=new Uint8Array([0]),$d=new Uint8Array;function qd(i,e,n,t=32){if(mt.hash(i),mt.number(t),t>255*i.outputLen)throw new Error("Length should be <= 255*HashLen");let r=Math.ceil(t/i.outputLen);n===void 0&&(n=$d);let o=new Uint8Array(r*i.outputLen),s=un.create(i,e),a=s._cloneInto(),l=new Uint8Array(s.outputLen);for(let c=0;c<r;c++)Ys[0]=c+1,a.update(c===0?$d:l).update(n).update(Ys).digestInto(l),o.set(l,i.outputLen*c),s._cloneInto(a);return s.destroy(),a.destroy(),l.fill(0),Ys.fill(0),o.slice(0,t)}var Yp=Object.defineProperty,Le=(i,e)=>{for(var n in e)Yp(i,n,{get:e[n],enumerable:!0})},Vi=Symbol("verified"),Kp=i=>i instanceof Object;function Gd(i){if(!Kp(i)||typeof i.kind!="number"||typeof i.content!="string"||typeof i.created_at!="number"||typeof i.pubkey!="string"||!i.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(i.tags))return!1;for(let e=0;e<i.tags.length;e++){let n=i.tags[e];if(!Array.isArray(n))return!1;for(let t=0;t<n.length;t++)if(typeof n[t]=="object")return!1}return!0}var Zp={};Le(Zp,{Queue:()=>Kd,QueueNode:()=>Yd,binarySearch:()=>Ks,insertEventIntoAscendingList:()=>Qp,insertEventIntoDescendingList:()=>Xp,normalizeURL:()=>mn,utf8Decoder:()=>jt,utf8Encoder:()=>Ot});var jt=new TextDecoder("utf-8"),Ot=new TextEncoder;function mn(i){i.indexOf("://")===-1&&(i="wss://"+i);let e=new URL(i);return e.pathname=e.pathname.replace(/\/+/g,"/"),e.pathname.endsWith("/")&&(e.pathname=e.pathname.slice(0,-1)),(e.port==="80"&&e.protocol==="ws:"||e.port==="443"&&e.protocol==="wss:")&&(e.port=""),e.searchParams.sort(),e.hash="",e.toString()}function Xp(i,e){let[n,t]=Ks(i,r=>e.id===r.id?0:e.created_at===r.created_at?-1:r.created_at-e.created_at);return t||i.splice(n,0,e),i}function Qp(i,e){let[n,t]=Ks(i,r=>e.id===r.id?0:e.created_at===r.created_at?-1:e.created_at-r.created_at);return t||i.splice(n,0,e),i}function Ks(i,e){let n=0,t=i.length-1;for(;n<=t;){let r=Math.floor((n+t)/2),o=e(i[r]);if(o===0)return[r,!0];o<0?t=r-1:n=r+1}return[n,!1]}var Yd=class{value;next=null;prev=null;constructor(i){this.value=i}},Kd=class{first;last;constructor(){this.first=null,this.last=null}enqueue(i){let e=new Yd(i);return this.last?this.last===this.first?(this.last=e,this.last.prev=this.first,this.first.next=e):(e.prev=this.last,this.last.next=e,this.last=e):(this.first=e,this.last=e),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){let e=this.first;return this.first=null,this.last=null,e.value}let i=this.first;return this.first=i.next,i.value}},Jp=class{generateSecretKey(){return ln.utils.randomPrivateKey()}getPublicKey(i){return qe(ln.getPublicKey(i))}finalizeEvent(i,e){let n=i;return n.pubkey=qe(ln.getPublicKey(e)),n.id=lo(n),n.sig=qe(ln.sign(lo(n),e)),n[Vi]=!0,n}verifyEvent(i){if(typeof i[Vi]=="boolean")return i[Vi];let e=lo(i);if(e!==i.id)return i[Vi]=!1,!1;try{let n=ln.verify(i.sig,e,i.pubkey);return i[Vi]=n,n}catch{return i[Vi]=!1,!1}}};function eg(i){if(!Gd(i))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,i.pubkey,i.created_at,i.kind,i.tags,i.content])}function lo(i){let e=vi(Ot.encode(eg(i)));return qe(e)}var co=new Jp,Bx=co.generateSecretKey,Vx=co.getPublicKey,Ci=co.finalizeEvent,ho=co.verifyEvent,tg={};Le(tg,{Application:()=>tv,BadgeAward:()=>dg,BadgeDefinition:()=>Yg,BlockedRelaysList:()=>Tg,BookmarkList:()=>kg,Bookmarksets:()=>Wg,Calendar:()=>lv,CalendarEventRSVP:()=>cv,ChannelCreation:()=>eh,ChannelHideMessage:()=>nh,ChannelMessage:()=>ih,ChannelMetadata:()=>th,ChannelMuteUser:()=>rh,ClassifiedListing:()=>rv,ClientAuth:()=>oh,CommunitiesList:()=>Og,CommunityDefinition:()=>fv,CommunityPostApproval:()=>yg,Contacts:()=>sg,CreateOrUpdateProduct:()=>Xg,CreateOrUpdateStall:()=>Zg,Curationsets:()=>qg,Date:()=>sv,DraftClassifiedListing:()=>ov,DraftLong:()=>Jg,Emojisets:()=>ev,EncryptedDirectMessage:()=>ag,EncryptedDirectMessages:()=>lg,EventDeletion:()=>cg,FileMetadata:()=>ug,FileServerPreference:()=>Bg,Followsets:()=>Ug,GenericRepost:()=>hg,Genericlists:()=>Hg,HTTPAuth:()=>Qs,Handlerinformation:()=>hv,Handlerrecommendation:()=>dv,Highlights:()=>Ig,InterestsList:()=>Lg,Interestsets:()=>Kg,JobFeedback:()=>xg,JobRequest:()=>bg,JobResult:()=>wg,Label:()=>_g,LightningPubRPC:()=>Ng,LiveChatMessage:()=>mg,LiveEvent:()=>iv,LongFormArticle:()=>Qg,Metadata:()=>ng,Mutelist:()=>Dg,NWCWalletInfo:()=>Vg,NWCWalletRequest:()=>sh,NWCWalletResponse:()=>jg,NostrConnect:()=>zg,OpenTimestamps:()=>fg,Pinlist:()=>Ag,ProblemTracker:()=>pg,ProfileBadges:()=>Gg,PublicChatsList:()=>Mg,Reaction:()=>Xs,RecommendRelay:()=>og,RelayList:()=>Rg,Relaysets:()=>$g,Report:()=>gg,Reporting:()=>vg,Repost:()=>Zs,SearchRelaysList:()=>Pg,ShortTextNote:()=>rg,Time:()=>av,UserEmojiList:()=>Fg,UserStatuses:()=>nv,Zap:()=>Sg,ZapGoal:()=>Eg,ZapRequest:()=>Cg,classifyKind:()=>ig,isEphemeralKind:()=>Qd,isParameterizedReplaceableKind:()=>Jd,isRegularKind:()=>Zd,isReplaceableKind:()=>Xd});function Zd(i){return 1e3<=i&&i<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(i)}function Xd(i){return[0,3].includes(i)||1e4<=i&&i<2e4}function Qd(i){return 2e4<=i&&i<3e4}function Jd(i){return 3e4<=i&&i<4e4}function ig(i){return Zd(i)?"regular":Xd(i)?"replaceable":Qd(i)?"ephemeral":Jd(i)?"parameterized":"unknown"}var ng=0,rg=1,og=2,sg=3,ag=4,lg=4,cg=5,Zs=6,Xs=7,dg=8,hg=16,eh=40,th=41,ih=42,nh=43,rh=44,fg=1040,ug=1063,mg=1311,pg=1971,gg=1984,vg=1984,_g=1985,yg=4550,bg=5999,wg=6999,xg=7e3,Eg=9041,Cg=9734,Sg=9735,Ig=9802,Dg=1e4,Ag=10001,Rg=10002,kg=10003,Og=10004,Mg=10005,Tg=10006,Pg=10007,Lg=10015,Fg=10030,Bg=10096,Vg=13194,Ng=21e3,oh=22242,sh=23194,jg=23195,zg=24133,Qs=27235,Ug=3e4,Hg=30001,$g=30002,Wg=30003,qg=30004,Gg=30008,Yg=30009,Kg=30015,Zg=30017,Xg=30018,Qg=30023,Jg=30024,ev=30030,tv=30078,iv=30311,nv=30315,rv=30402,ov=30403,sv=31922,av=31923,lv=31924,cv=31925,dv=31989,hv=31990,fv=34550;function uv(i,e){if(i.ids&&i.ids.indexOf(e.id)===-1||i.kinds&&i.kinds.indexOf(e.kind)===-1||i.authors&&i.authors.indexOf(e.pubkey)===-1)return!1;for(let n in i)if(n[0]==="#"){let t=n.slice(1),r=i[`#${t}`];if(r&&!e.tags.find(([o,s])=>o===n.slice(1)&&r.indexOf(s)!==-1))return!1}return!(i.since&&e.created_at<i.since||i.until&&e.created_at>i.until)}function mv(i,e){for(let n=0;n<i.length;n++)if(uv(i[n],e))return!0;return!1}var pv={};Le(pv,{getHex64:()=>fo,getInt:()=>ah,getSubscriptionId:()=>lh,matchEventId:()=>gv,matchEventKind:()=>_v,matchEventPubkey:()=>vv});function fo(i,e){let n=e.length+3,t=i.indexOf(`"${e}":`)+n,r=i.slice(t).indexOf('"')+t+1;return i.slice(r,r+64)}function ah(i,e){let n=e.length,t=i.indexOf(`"${e}":`)+n+3,r=i.slice(t),o=Math.min(r.indexOf(","),r.indexOf("}"));return parseInt(r.slice(0,o),10)}function lh(i){let e=i.slice(0,22).indexOf('"EVENT"');if(e===-1)return null;let n=i.slice(e+7+1).indexOf('"');if(n===-1)return null;let t=e+7+1+n,r=i.slice(t+1,80).indexOf('"');if(r===-1)return null;let o=t+1+r;return i.slice(t+1,o)}function gv(i,e){return e===fo(i,"id")}function vv(i,e){return e===fo(i,"pubkey")}function _v(i,e){return e===ah(i,"kind")}var yv={};Le(yv,{makeAuthEvent:()=>ch});function ch(i,e){return{kind:oh,created_at:Math.floor(Date.now()/1e3),tags:[["relay",i],["challenge",e]],content:""}}function bv(){return q(this,null,function*(){return new Promise(i=>{let e=new MessageChannel,n=()=>{e.port1.removeEventListener("message",n),i()};e.port1.addEventListener("message",n),e.port2.postMessage(0),e.port1.start()})})}var wv=i=>(i[Vi]=!0,!0),dh=class{url;_connected=!1;onclose=null;onnotice=i=>console.debug(`NOTICE from ${this.url}: ${i}`);_onauth=null;baseEoseTimeout=4400;connectionTimeout=4400;openSubs=new Map;connectionTimeoutHandle;connectionPromise;openCountRequests=new Map;openEventPublishes=new Map;ws;incomingMessageQueue=new Kd;queueRunning=!1;challenge;serial=0;verifyEvent;_WebSocket;constructor(i,e){this.url=mn(i),this.verifyEvent=e.verifyEvent,this._WebSocket=e.websocketImplementation||WebSocket}static connect(i,e){return q(this,null,function*(){let n=new dh(i,e);return yield n.connect(),n})}closeAllSubscriptions(i){for(let[e,n]of this.openSubs)n.close(i);this.openSubs.clear();for(let[e,n]of this.openEventPublishes)n.reject(new Error(i));this.openEventPublishes.clear();for(let[e,n]of this.openCountRequests)n.reject(new Error(i));this.openCountRequests.clear()}get connected(){return this._connected}connect(){return q(this,null,function*(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.connectionPromise=new Promise((i,e)=>{this.connectionTimeoutHandle=setTimeout(()=>{e("connection timed out"),this.connectionPromise=void 0,this.onclose?.(),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(n){e(n);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,i()},this.ws.onerror=n=>{e(n.message||"websocket error"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,this.onclose?.(),this.closeAllSubscriptions("relay connection errored"))},this.ws.onclose=()=>q(this,null,function*(){this._connected&&(this._connected=!1,this.connectionPromise=void 0,this.onclose?.(),this.closeAllSubscriptions("relay connection closed"))}),this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)})}runQueue(){return q(this,null,function*(){for(this.queueRunning=!0;this.handleNext()!==!1;)yield bv();this.queueRunning=!1})}handleNext(){let i=this.incomingMessageQueue.dequeue();if(!i)return!1;let e=lh(i);if(e){let n=this.openSubs.get(e);if(!n)return;let t=fo(i,"id"),r=n.alreadyHaveEvent?.(t);if(n.receivedEvent?.(this,t),r)return}try{let n=JSON.parse(i);switch(n[0]){case"EVENT":{let t=this.openSubs.get(n[1]),r=n[2];this.verifyEvent(r)&&mv(t.filters,r)&&t.onevent(r);return}case"COUNT":{let t=n[1],r=n[2],o=this.openCountRequests.get(t);o&&(o.resolve(r.count),this.openCountRequests.delete(t));return}case"EOSE":{let t=this.openSubs.get(n[1]);if(!t)return;t.receivedEose();return}case"OK":{let t=n[1],r=n[2],o=n[3],s=this.openEventPublishes.get(t);r?s.resolve(o):s.reject(new Error(o)),this.openEventPublishes.delete(t);return}case"CLOSED":{let t=n[1],r=this.openSubs.get(t);if(!r)return;r.closed=!0,r.close(n[2]);return}case"NOTICE":this.onnotice(n[1]);return;case"AUTH":{this.challenge=n[1],this._onauth?.(n[1]);return}}}catch{return}}send(i){return q(this,null,function*(){if(!this.connectionPromise)throw new Error("sending on closed connection");this.connectionPromise.then(()=>{this.ws?.send(i)})})}auth(i){return q(this,null,function*(){if(!this.challenge)throw new Error("can't perform auth, no challenge was received");let e=yield i(ch(this.url,this.challenge)),n=new Promise((t,r)=>{this.openEventPublishes.set(e.id,{resolve:t,reject:r})});return this.send('["AUTH",'+JSON.stringify(e)+"]"),n})}publish(i){return q(this,null,function*(){let e=new Promise((n,t)=>{this.openEventPublishes.set(i.id,{resolve:n,reject:t})});return this.send('["EVENT",'+JSON.stringify(i)+"]"),e})}count(i,e){return q(this,null,function*(){this.serial++;let n=e?.id||"count:"+this.serial,t=new Promise((r,o)=>{this.openCountRequests.set(n,{resolve:r,reject:o})});return this.send('["COUNT","'+n+'",'+JSON.stringify(i).substring(1)),t})}subscribe(i,e){let n=this.prepareSubscription(i,e);return n.fire(),n}prepareSubscription(i,e){this.serial++;let n=e.id||"sub:"+this.serial,t=new xv(this,n,i,e);return this.openSubs.set(n,t),t}close(){this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,this.ws?.close()}_onmessage(i){this.incomingMessageQueue.enqueue(i.data),this.queueRunning||this.runQueue()}},xv=class{relay;id;closed=!1;eosed=!1;filters;alreadyHaveEvent;receivedEvent;onevent;oneose;onclose;eoseTimeout;eoseTimeoutHandle;constructor(i,e,n,t){this.relay=i,this.filters=n,this.id=e,this.alreadyHaveEvent=t.alreadyHaveEvent,this.receivedEvent=t.receivedEvent,this.eoseTimeout=t.eoseTimeout||i.baseEoseTimeout,this.oneose=t.oneose,this.onclose=t.onclose,this.onevent=t.onevent||(r=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,r)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,this.oneose?.())}close(i="closed by caller"){!this.closed&&this.relay.connected&&(this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]"),this.closed=!0),this.relay.openSubs.delete(this.id),this.onclose?.(i)}},Ev;try{Ev=WebSocket}catch{}var Cv=class{relays=new Map;seenOn=new Map;trackRelays=!1;verifyEvent;trustedRelayURLs=new Set;_WebSocket;constructor(i){this.verifyEvent=i.verifyEvent,this._WebSocket=i.websocketImplementation}ensureRelay(i,e){return q(this,null,function*(){i=mn(i);let n=this.relays.get(i);return n||(n=new dh(i,{verifyEvent:this.trustedRelayURLs.has(i)?wv:this.verifyEvent,websocketImplementation:this._WebSocket}),e?.connectionTimeout&&(n.connectionTimeout=e.connectionTimeout),this.relays.set(i,n)),yield n.connect(),n})}close(i){i.map(mn).forEach(e=>{this.relays.get(e)?.close()})}subscribeMany(i,e,n){return this.subscribeManyMap(Object.fromEntries(i.map(t=>[t,e])),n)}subscribeManyMap(i,e){this.trackRelays&&(e.receivedEvent=(m,g)=>{let v=this.seenOn.get(g);v||(v=new Set,this.seenOn.set(g,v)),v.add(m)});let n=new Set,t=[],r=Object.keys(i).length,o=[],s=m=>{o[m]=!0,o.filter(g=>g).length===r&&(e.oneose?.(),s=()=>{})},a=[],l=(m,g)=>{s(m),a[m]=g,a.filter(v=>v).length===r&&(e.onclose?.(a),l=()=>{})},c=m=>{if(e.alreadyHaveEvent?.(m))return!0;let g=n.has(m);return n.add(m),g},h=Promise.all(Object.entries(i).map((m,g,v)=>q(this,null,function*(){if(v.indexOf(m)!==g){l(g,"duplicate url");return}let[p,y]=m;p=mn(p);let E;try{E=yield this.ensureRelay(p,{connectionTimeout:e.maxWait?Math.max(e.maxWait*.8,e.maxWait-1e3):void 0})}catch(D){l(g,D?.message||String(D));return}let S=E.subscribe(y,_e(le({},e),{oneose:()=>s(g),onclose:D=>l(g,D),alreadyHaveEvent:c,eoseTimeout:e.maxWait}));t.push(S)})));return{close(){return q(this,null,function*(){yield h,t.forEach(m=>{m.close()})})}}}subscribeManyEose(i,e,n){let t=this.subscribeMany(i,e,_e(le({},n),{oneose(){t.close()}}));return t}querySync(i,e,n){return q(this,null,function*(){return new Promise(t=>q(this,null,function*(){let r=[];this.subscribeManyEose(i,[e],_e(le({},n),{onevent(o){r.push(o)},onclose(o){t(r)}}))}))})}get(i,e,n){return q(this,null,function*(){e.limit=1;let t=yield this.querySync(i,e,n);return t.sort((r,o)=>o.created_at-r.created_at),t[0]||null})}publish(i,e){return i.map(mn).map((n,t,r)=>q(this,null,function*(){return r.indexOf(n)!==t?Promise.reject("duplicate url"):(yield this.ensureRelay(n)).publish(e)}))}listConnectionStatus(){let i=new Map;return this.relays.forEach((e,n)=>i.set(n,e.connected)),i}destroy(){this.relays.forEach(i=>i.close()),this.relays=new Map}},hh;try{hh=WebSocket}catch{}var fh=class extends Cv{constructor(){super({verifyEvent:ho,websocketImplementation:hh})}},Sv={};Le(Sv,{BECH32_REGEX:()=>uh,Bech32MaxSize:()=>Js,decode:()=>uo,encodeBytes:()=>mo,naddrEncode:()=>Mv,neventEncode:()=>Ov,noteEncode:()=>Rv,nprofileEncode:()=>kv,npubEncode:()=>Av,nrelayEncode:()=>Tv,nsecEncode:()=>Dv});var Js=5e3,uh=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function Iv(i){let e=new Uint8Array(4);return e[0]=i>>24&255,e[1]=i>>16&255,e[2]=i>>8&255,e[3]=i&255,e}function uo(i){let{prefix:e,words:n}=yi.decode(i,Js),t=new Uint8Array(yi.fromWords(n));switch(e){case"nprofile":{let r=ao(t);if(!r[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(r[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:qe(r[0][0]),relays:r[1]?r[1].map(o=>jt.decode(o)):[]}}}case"nevent":{let r=ao(t);if(!r[0]?.[0])throw new Error("missing TLV 0 for nevent");if(r[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(r[2]&&r[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(r[3]&&r[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:qe(r[0][0]),relays:r[1]?r[1].map(o=>jt.decode(o)):[],author:r[2]?.[0]?qe(r[2][0]):void 0,kind:r[3]?.[0]?parseInt(qe(r[3][0]),16):void 0}}}case"naddr":{let r=ao(t);if(!r[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!r[2]?.[0])throw new Error("missing TLV 2 for naddr");if(r[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!r[3]?.[0])throw new Error("missing TLV 3 for naddr");if(r[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:jt.decode(r[0][0]),pubkey:qe(r[2][0]),kind:parseInt(qe(r[3][0]),16),relays:r[1]?r[1].map(o=>jt.decode(o)):[]}}}case"nrelay":{let r=ao(t);if(!r[0]?.[0])throw new Error("missing TLV 0 for nrelay");return{type:"nrelay",data:jt.decode(r[0][0])}}case"nsec":return{type:e,data:t};case"npub":case"note":return{type:e,data:qe(t)};default:throw new Error(`unknown prefix ${e}`)}}function ao(i){let e={},n=i;for(;n.length>0;){let t=n[0],r=n[1],o=n.slice(2,2+r);if(n=n.slice(2+r),o.length<r)throw new Error(`not enough data to read on TLV ${t}`);e[t]=e[t]||[],e[t].push(o)}return e}function Dv(i){return mo("nsec",i)}function Av(i){return mo("npub",Pi(i))}function Rv(i){return mo("note",Pi(i))}function Gn(i,e){let n=yi.toWords(e);return yi.encode(i,n,Js)}function mo(i,e){return Gn(i,e)}function kv(i){let e=po({0:[Pi(i.pubkey)],1:(i.relays||[]).map(n=>Ot.encode(n))});return Gn("nprofile",e)}function Ov(i){let e;i.kind!==void 0&&(e=Iv(i.kind));let n=po({0:[Pi(i.id)],1:(i.relays||[]).map(t=>Ot.encode(t)),2:i.author?[Pi(i.author)]:[],3:e?[new Uint8Array(e)]:[]});return Gn("nevent",n)}function Mv(i){let e=new ArrayBuffer(4);new DataView(e).setUint32(0,i.kind,!1);let n=po({0:[Ot.encode(i.identifier)],1:(i.relays||[]).map(t=>Ot.encode(t)),2:[Pi(i.pubkey)],3:[new Uint8Array(e)]});return Gn("naddr",n)}function Tv(i){let e=po({0:[Ot.encode(i)]});return Gn("nrelay",e)}function po(i){let e=[];return Object.entries(i).reverse().forEach(([n,t])=>{t.forEach(r=>{let o=new Uint8Array(r.length+2);o.set([parseInt(n)],0),o.set([r.length],1),o.set(r,2),e.push(o)})}),dn(...e)}var Pv={};Le(Pv,{decrypt:()=>Lv,encrypt:()=>mh});function mh(i,e,n){return q(this,null,function*(){let t=i instanceof Uint8Array?qe(i):i,r=ui.getSharedSecret(t,"02"+e),o=ph(r),s=Uint8Array.from(Gr(16)),a=Ot.encode(n),l=$s(o,s).encrypt(a),c=xt.encode(new Uint8Array(l)),h=xt.encode(new Uint8Array(s.buffer));return`${c}?iv=${h}`})}function Lv(i,e,n){return q(this,null,function*(){let t=i instanceof Uint8Array?qe(i):i,[r,o]=n.split("?iv="),s=ui.getSharedSecret(t,"02"+e),a=ph(s),l=xt.decode(o),c=xt.decode(r),h=$s(a,l).decrypt(c);return jt.decode(h)})}function ph(i){return i.slice(1,33)}var Fv={};Le(Fv,{NIP05_REGEX:()=>gh,isValid:()=>Nv,queryProfile:()=>vh,searchDomain:()=>Vv,useFetchImplementation:()=>Bv});var gh=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,go;try{go=fetch}catch{}function Bv(i){go=i}function Vv(i,e=""){return q(this,null,function*(){try{let n=`https://${i}/.well-known/nostr.json?name=${e}`;return(yield(yield go(n,{redirect:"error"})).json()).names}catch{return{}}})}function vh(i){return q(this,null,function*(){let e=i.match(gh);if(!e)return null;let[n,t="_",r]=e;try{let o=`https://${r}/.well-known/nostr.json?name=${t}`,s=yield(yield go(o,{redirect:"error"})).json(),a=s.names[t];return a?{pubkey:a,relays:s.relays?.[a]}:null}catch{return null}})}function Nv(i,e){return q(this,null,function*(){let n=yield vh(e);return n?n.pubkey===i:!1})}var jv={};Le(jv,{parse:()=>zv});function zv(i){let e={reply:void 0,root:void 0,mentions:[],profiles:[]},n=[];for(let t of i.tags)t[0]==="e"&&t[1]&&n.push(t),t[0]==="p"&&t[1]&&e.profiles.push({pubkey:t[1],relays:t[2]?[t[2]]:[]});for(let t=0;t<n.length;t++){let r=n[t],[o,s,a,l]=r,c={id:s,relays:a?[a]:[]},h=t===0,f=t===n.length-1;if(l==="root"){e.root=c;continue}if(l==="reply"){e.reply=c;continue}if(l==="mention"){e.mentions.push(c);continue}if(h){e.root=c;continue}if(f){e.reply=c;continue}e.mentions.push(c)}return e}var Uv={};Le(Uv,{fetchRelayInformation:()=>$v,useFetchImplementation:()=>Hv});var _h;try{_h=fetch}catch{}function Hv(i){_h=i}function $v(i){return q(this,null,function*(){return yield(yield fetch(i.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()})}var Wv={};Le(Wv,{getPow:()=>yh,minePow:()=>qv});function yh(i){let e=0;for(let n=0;n<i.length;n++){let t=parseInt(i[n],16);if(t===0)e+=4;else{e+=Math.clz32(t)-28;break}}return e}function qv(i,e){let n=0,t=i,r=["nonce",n.toString(),e.toString()];for(t.tags.push(r);;){let o=Math.floor(new Date().getTime()/1e3);if(o!==t.created_at&&(n=0,t.created_at=o),r[1]=(++n).toString(),t.id=lo(t),yh(t.id)>=e)break}return t}var Gv={};Le(Gv,{finishRepostEvent:()=>Yv,getRepostedEvent:()=>Kv,getRepostedEventPointer:()=>bh});function Yv(i,e,n,t){return Ci({kind:Zs,tags:[...i.tags??[],["e",e.id,n],["p",e.pubkey]],content:i.content===""?"":JSON.stringify(e),created_at:i.created_at},t)}function bh(i){if(i.kind!==Zs)return;let e,n;for(let t=i.tags.length-1;t>=0&&(e===void 0||n===void 0);t--){let r=i.tags[t];r.length>=2&&(r[0]==="e"&&e===void 0?e=r:r[0]==="p"&&n===void 0&&(n=r))}if(e!==void 0)return{id:e[1],relays:[e[2],n?.[2]].filter(t=>typeof t=="string"),author:n?.[1]}}function Kv(i,{skipVerification:e}={}){let n=bh(i);if(n===void 0||i.content==="")return;let t;try{t=JSON.parse(i.content)}catch{return}if(t.id===n.id&&!(!e&&!ho(t)))return t}var Zv={};Le(Zv,{NOSTR_URI_REGEX:()=>vo,parse:()=>Qv,test:()=>Xv});var vo=new RegExp(`nostr:(${uh.source})`);function Xv(i){return typeof i=="string"&&new RegExp(`^${vo.source}$`).test(i)}function Qv(i){let e=i.match(new RegExp(`^${vo.source}$`));if(!e)throw new Error(`Invalid Nostr URI: ${i}`);return{uri:e[0],value:e[1],decoded:uo(e[1])}}var Jv={};Le(Jv,{finishReactionEvent:()=>e_,getReactedEventPointer:()=>t_});function e_(i,e,n){let t=e.tags.filter(r=>r.length>=2&&(r[0]==="e"||r[0]==="p"));return Ci(_e(le({},i),{kind:Xs,tags:[...i.tags??[],...t,["e",e.id],["p",e.pubkey]],content:i.content??"+"}),n)}function t_(i){if(i.kind!==Xs)return;let e,n;for(let t=i.tags.length-1;t>=0&&(e===void 0||n===void 0);t--){let r=i.tags[t];r.length>=2&&(r[0]==="e"&&e===void 0?e=r:r[0]==="p"&&n===void 0&&(n=r))}if(!(e===void 0||n===void 0))return{id:e[1],relays:[e[2],n[2]].filter(t=>t!==void 0),author:n[1]}}var i_={};Le(i_,{matchAll:()=>n_,regex:()=>ea,replaceAll:()=>r_});var ea=()=>new RegExp(`\\b${vo.source}\\b`,"g");function*n_(i){let e=i.matchAll(ea());for(let n of e)try{let[t,r]=n;yield{uri:t,value:r,decoded:uo(r),start:n.index,end:n.index+t.length}}catch{}}function r_(i,e){return i.replaceAll(ea(),(n,t)=>e({uri:n,value:t,decoded:uo(t)}))}var o_={};Le(o_,{channelCreateEvent:()=>s_,channelHideMessageEvent:()=>c_,channelMessageEvent:()=>l_,channelMetadataEvent:()=>a_,channelMuteUserEvent:()=>d_});var s_=(i,e)=>{let n;if(typeof i.content=="object")n=JSON.stringify(i.content);else if(typeof i.content=="string")n=i.content;else return;return Ci({kind:eh,tags:[...i.tags??[]],content:n,created_at:i.created_at},e)},a_=(i,e)=>{let n;if(typeof i.content=="object")n=JSON.stringify(i.content);else if(typeof i.content=="string")n=i.content;else return;return Ci({kind:th,tags:[["e",i.channel_create_event_id],...i.tags??[]],content:n,created_at:i.created_at},e)},l_=(i,e)=>{let n=[["e",i.channel_create_event_id,i.relay_url,"root"]];return i.reply_to_channel_message_event_id&&n.push(["e",i.reply_to_channel_message_event_id,i.relay_url,"reply"]),Ci({kind:ih,tags:[...n,...i.tags??[]],content:i.content,created_at:i.created_at},e)},c_=(i,e)=>{let n;if(typeof i.content=="object")n=JSON.stringify(i.content);else if(typeof i.content=="string")n=i.content;else return;return Ci({kind:nh,tags:[["e",i.channel_message_event_id],...i.tags??[]],content:n,created_at:i.created_at},e)},d_=(i,e)=>{let n;if(typeof i.content=="object")n=JSON.stringify(i.content);else if(typeof i.content=="string")n=i.content;else return;return Ci({kind:rh,tags:[["p",i.pubkey_to_mute],...i.tags??[]],content:n,created_at:i.created_at},e)},h_={};Le(h_,{EMOJI_SHORTCODE_REGEX:()=>wh,matchAll:()=>f_,regex:()=>ta,replaceAll:()=>u_});var wh=/:(\w+):/,ta=()=>new RegExp(`\\B${wh.source}\\B`,"g");function*f_(i){let e=i.matchAll(ta());for(let n of e)try{let[t,r]=n;yield{shortcode:t,name:r,start:n.index,end:n.index+t.length}}catch{}}function u_(i,e){return i.replaceAll(ta(),(n,t)=>e({shortcode:n,name:t}))}var m_={};Le(m_,{useFetchImplementation:()=>p_,validateGithub:()=>g_});var ia;try{ia=fetch}catch{}function p_(i){ia=i}function g_(i,e,n){return q(this,null,function*(){try{return(yield(yield ia(`https://gist.github.com/${e}/${n}/raw`)).text())===`Verifying that I control the following Nostr public key: ${i}`}catch{return!1}})}var v_={};Le(v_,{decrypt:()=>Ah,encrypt:()=>Dh,getConversationKey:()=>Ch,v2:()=>x_});var xh=1,Eh=65535;function Ch(i,e){let n=ui.getSharedSecret(i,"02"+e).subarray(1,33);return Wd(vi,n,"nip44-v2")}function Sh(i,e){let n=qd(vi,i,e,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}function na(i){if(!Number.isSafeInteger(i)||i<1)throw new Error("expected positive integer");if(i<=32)return 32;let e=1<<Math.floor(Math.log2(i-1))+1,n=e<=256?32:e/8;return n*(Math.floor((i-1)/n)+1)}function __(i){if(!Number.isSafeInteger(i)||i<xh||i>Eh)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");let e=new Uint8Array(2);return new DataView(e.buffer).setUint16(0,i,!1),e}function y_(i){let e=Ot.encode(i),n=e.length,t=__(n),r=new Uint8Array(na(n)-n);return dn(t,e,r)}function b_(i){let e=new DataView(i.buffer).getUint16(0),n=i.subarray(2,2+e);if(e<xh||e>Eh||n.length!==e||i.length!==2+na(e))throw new Error("invalid padding");return jt.decode(n)}function Ih(i,e,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");let t=dn(n,e);return un(vi,i,t)}function w_(i){if(typeof i!="string")throw new Error("payload must be a valid string");let e=i.length;if(e<132||e>87472)throw new Error("invalid payload length: "+e);if(i[0]==="#")throw new Error("unknown encryption version");let n;try{n=xt.decode(i)}catch(o){throw new Error("invalid base64: "+o.message)}let t=n.length;if(t<99||t>65603)throw new Error("invalid data length: "+t);let r=n[0];if(r!==2)throw new Error("unknown encryption version "+r);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}function Dh(i,e,n=Gr(32)){let{chacha_key:t,chacha_nonce:r,hmac_key:o}=Sh(e,n),s=y_(i),a=oo(t,r,s),l=Ih(o,a,n);return xt.encode(dn(new Uint8Array([2]),n,a,l))}function Ah(i,e){let{nonce:n,ciphertext:t,mac:r}=w_(i),{chacha_key:o,chacha_nonce:s,hmac_key:a}=Sh(e,n),l=Ih(a,t,n);if(!Fi(l,r))throw new Error("invalid MAC");let c=oo(o,s,t);return b_(c)}var x_={utils:{getConversationKey:Ch,calcPaddedLen:na},encrypt:Dh,decrypt:Ah},E_={};Le(E_,{makeNwcRequestEvent:()=>S_,parseConnectionString:()=>C_});function C_(i){let{pathname:e,searchParams:n}=new URL(i),t=e,r=n.get("relay"),o=n.get("secret");if(!t||!r||!o)throw new Error("invalid connection string");return{pubkey:t,relay:r,secret:o}}function S_(i,e,n){return q(this,null,function*(){let r=yield mh(e,i,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),o={kind:sh,created_at:Math.round(Date.now()/1e3),content:r,tags:[["p",i]]};return Ci(o,e)})}var I_={};Le(I_,{getZapEndpoint:()=>A_,makeZapReceipt:()=>O_,makeZapRequest:()=>R_,useFetchImplementation:()=>D_,validateZapRequest:()=>k_});var ra;try{ra=fetch}catch{}function D_(i){ra=i}function A_(i){return q(this,null,function*(){try{let e="",{lud06:n,lud16:t}=JSON.parse(i.content);if(n){let{words:s}=yi.decode(n,1e3),a=yi.fromWords(s);e=jt.decode(a)}else if(t){let[s,a]=t.split("@");e=new URL(`/.well-known/lnurlp/${s}`,`https://${a}`).toString()}else return null;let o=yield(yield ra(e)).json();if(o.allowsNostr&&o.nostrPubkey)return o.callback}catch{}return null})}function R_({profile:i,event:e,amount:n,relays:t,comment:r=""}){if(!n)throw new Error("amount not given");if(!i)throw new Error("profile not given");let o={kind:9734,created_at:Math.round(Date.now()/1e3),content:r,tags:[["p",i],["amount",n.toString()],["relays",...t]]};return e&&o.tags.push(["e",e]),o}function k_(i){let e;try{e=JSON.parse(i)}catch{return"Invalid zap request JSON."}if(!Gd(e))return"Zap request is not a valid Nostr event.";if(!ho(e))return"Invalid signature on zap request.";let n=e.tags.find(([o,s])=>o==="p"&&s);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let t=e.tags.find(([o,s])=>o==="e"&&s);return t&&!t[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":e.tags.find(([o,s])=>o==="relays"&&s)?null:"Zap request doesn't have a 'relays' tag."}function O_({zapRequest:i,preimage:e,bolt11:n,paidAt:t}){let r=JSON.parse(i),o=r.tags.filter(([a])=>a==="e"||a==="p"||a==="a"),s={kind:9735,created_at:Math.round(t.getTime()/1e3),content:"",tags:[...o,["P",r.pubkey],["bolt11",n],["description",i]]};return e&&s.tags.push(["preimage",e]),s}var M_={};Le(M_,{getToken:()=>T_,hashPayload:()=>oa,unpackEventFromToken:()=>kh,validateEvent:()=>Fh,validateEventKind:()=>Mh,validateEventMethodTag:()=>Ph,validateEventPayloadTag:()=>Lh,validateEventTimestamp:()=>Oh,validateEventUrlTag:()=>Th,validateToken:()=>P_});var Rh="Nostr ";function T_(i,e,n,t=!1,r){return q(this,null,function*(){let o={kind:Qs,tags:[["u",i],["method",e]],created_at:Math.round(new Date().getTime()/1e3),content:""};r&&o.tags.push(["payload",oa(r)]);let s=yield n(o);return(t?Rh:"")+xt.encode(Ot.encode(JSON.stringify(s)))})}function P_(i,e,n){return q(this,null,function*(){let t=yield kh(i).catch(o=>{throw o});return yield Fh(t,e,n).catch(o=>{throw o})})}function kh(i){return q(this,null,function*(){if(!i)throw new Error("Missing token");i=i.replace(Rh,"");let e=jt.decode(xt.decode(i));if(!e||e.length===0||!e.startsWith("{"))throw new Error("Invalid token");return JSON.parse(e)})}function Oh(i){return i.created_at?Math.round(new Date().getTime()/1e3)-i.created_at<60:!1}function Mh(i){return i.kind===Qs}function Th(i,e){let n=i.tags.find(t=>t[0]==="u");return n?n.length>0&&n[1]===e:!1}function Ph(i,e){let n=i.tags.find(t=>t[0]==="method");return n?n.length>0&&n[1].toLowerCase()===e.toLowerCase():!1}function oa(i){let e=vi(Ot.encode(JSON.stringify(i)));return qe(e)}function Lh(i,e){let n=i.tags.find(r=>r[0]==="payload");if(!n)return!1;let t=oa(e);return n.length>0&&n[1]===t}function Fh(i,e,n,t){return q(this,null,function*(){if(!ho(i))throw new Error("Invalid nostr event, signature invalid");if(!Mh(i))throw new Error("Invalid nostr event, kind invalid");if(!Oh(i))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!Th(i,e))throw new Error("Invalid nostr event, url tag invalid");if(!Ph(i,n))throw new Error("Invalid nostr event, method tag invalid");if(t&&typeof t=="object"&&Object.keys(t).length>0&&!Lh(i,t))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0})}var Bh=(()=>{let e=class e{constructor(){this.relays=[],this.maxRetries=10,this.retryDelay=15e3,this.eventSubject=new zt(null),this.relaysSubject=new zt([]),this.pool=new fh,this.relays=this.loadRelaysFromLocalStorage(),this.connectToRelays(),this.setupVisibilityChangeHandling(),this.relaysSubject.next(this.relays)}loadRelaysFromLocalStorage(){let t=JSON.parse(localStorage.getItem("nostrRelays")||"[]"),r=[{url:"wss://relay.angor.io",connected:!1,retries:0,retryTimeout:null,accessType:"read-write",ws:void 0},{url:"wss://relay2.angor.io",connected:!1,retries:0,retryTimeout:null,accessType:"read-write",ws:void 0}];return t.length>0?t.map(o=>_e(le({},o),{connected:!1,retries:0,retryTimeout:null,ws:void 0})):r}saveRelaysToLocalStorage(){let t=this.relays.map(r=>({url:r.url,accessType:r.accessType,connected:r.connected,retries:r.retries,retryTimeout:r.retryTimeout}));localStorage.setItem("nostrRelays",JSON.stringify(t)),this.relaysSubject.next(this.relays)}connectToRelay(t){t.connected||(t.ws=new WebSocket(t.url),t.ws.onopen=()=>{t.connected=!0,t.retries=0,clearTimeout(t.retryTimeout),this.saveRelaysToLocalStorage(),console.log(`Connected to relay: ${t.url}`)},t.ws.onerror=()=>{this.handleRelayError(t)},t.ws.onclose=()=>{t.connected=!1,this.handleRelayError(t)},t.ws.onmessage=r=>{try{let o=typeof r.data=="string"?r.data:r.data.toString("utf-8"),s=JSON.parse(o);this.eventSubject.next(s)}catch(o){console.error("Error parsing WebSocket message:",o)}})}handleRelayError(t){if(t.retries>=this.maxRetries){console.error(`Max retries reached for relay: ${t.url}. No further attempts will be made.`);return}let r=this.retryDelay*t.retries;t.retries++,t.retryTimeout=setTimeout(()=>{this.connectToRelay(t),console.log(`Retrying connection to relay: ${t.url} (Attempt ${t.retries})`)},r)}connectToRelays(){this.relays.forEach(t=>{t.connected||this.connectToRelay(t)})}ensureConnectedRelays(){return q(this,null,function*(){return this.connectToRelays(),new Promise(t=>{let r=()=>{this.getConnectedRelays().length>0?t():setTimeout(r,1e3)};r()})})}setupVisibilityChangeHandling(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.connectToRelays()}),window.addEventListener("beforeunload",()=>{this.relays.forEach(t=>{t.ws&&t.ws.close()})})}getConnectedRelays(){return this.relays.filter(t=>t.connected).map(t=>t.url)}getRelays(){return this.relaysSubject.asObservable()}publishEventToWriteRelays(t){this.relays.filter(o=>o.accessType==="write"||o.accessType==="read-write").forEach(o=>{o.connected&&o.ws?.readyState===WebSocket.OPEN&&(o.ws.send(JSON.stringify(t)),console.log(`Event published to ${o.url}`))})}publishEventToRelays(t){return q(this,null,function*(){let r=this.getPool(),o=this.getConnectedRelays();if(o.length===0)throw new Error("No connected relays");let s=o.map(a=>q(this,null,function*(){try{return yield r.publish([a],t),console.log(`Event published to relay: ${a}`),this.eventSubject.next(t),t}catch(l){throw console.error(`Failed to publish event to relay: ${a}`,l),l}}));try{return yield Promise.any(s),t}catch(a){throw console.error("Failed to publish event: AggregateError",a),this.handlePublishFailure(a),a}})}handlePublishFailure(t){t instanceof AggregateError?console.error("All relays failed to publish the event. Retrying..."):console.error("An unexpected error occurred:",t)}addRelay(t,r="read-write"){if(this.relays.some(o=>o.url===t))console.log(`Relay with URL ${t} already exists.`);else{let o={url:t,connected:!1,retries:0,retryTimeout:null,accessType:r,ws:void 0};this.relays.push(o),this.connectToRelay(o),this.saveRelaysToLocalStorage()}}removeRelay(t){this.relays=this.relays.filter(r=>r.url!==t),this.saveRelaysToLocalStorage()}removeAllCustomRelays(){let t=["wss://relay.angor.io","wss://relay2.angor.io"];this.relays=this.relays.filter(r=>t.includes(r.url)),this.saveRelaysToLocalStorage()}updateRelayAccessType(t,r){let o=this.relays.find(s=>s.url===t);o&&(o.accessType=r,this.saveRelaysToLocalStorage())}getPool(){return this.pool}getEventStream(){return this.eventSubject.asObservable()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var vE=(()=>{let e=class e{constructor(t,r){this.indexedDBService=t,this.relayService=r,this.metadataSubject=new zt(null),this.requestQueue=new Set,this.isProcessingQueue=!1,this.maxRequestsPerBatch=3,this.requestDelay=5e3}getMetadataStream(){return this.metadataSubject.asObservable().pipe(Ha(2e3))}enqueueRequest(t){this.requestQueue.add(t),this.processQueue()}fetchMetadataForMultipleKeys(t){return q(this,null,function*(){let r={kinds:[0],authors:t};try{yield this.relayService.ensureConnectedRelays();let o=this.relayService.getConnectedRelays();if(o.length===0)return console.error("No relays are connected."),[];let s=[],a=this.relayService.getPool().subscribeMany(o,[r],{onevent:l=>q(this,null,function*(){if(l.kind===0)try{let c=JSON.parse(l.content);yield this.indexedDBService.saveUserMetadata(l.pubkey,c),s.push({pubkey:l.pubkey,metadata:c})}catch(c){console.error("Error parsing metadata:",c)}}),oneose:()=>{console.log("Relay connection closed.")}});return setTimeout(()=>{a.close()},1e3),s}catch(o){return console.error("Failed to fetch metadata for multiple keys:",o),[]}})}processQueue(){return q(this,null,function*(){if(!(this.isProcessingQueue||this.requestQueue.size===0)){for(this.isProcessingQueue=!0;this.requestQueue.size>0;){let t=Array.from(this.requestQueue).slice(0,this.maxRequestsPerBatch);this.requestQueue=new Set(Array.from(this.requestQueue).slice(this.maxRequestsPerBatch)),yield Promise.all(t.map(r=>q(this,null,function*(){try{let o=yield this.fetchMetadataRealtime(r);o&&(yield this.indexedDBService.saveUserMetadata(r,o),this.metadataSubject.next(o))}catch(o){console.error(`Failed to update metadata for user: ${r}`,o)}}))),yield new Promise(r=>setTimeout(r,this.requestDelay))}this.isProcessingQueue=!1}})}fetchMetadataWithCache(t){return q(this,null,function*(){let r=yield this.indexedDBService.getUserMetadata(t);return r?this.metadataSubject.next(r):this.enqueueRequest(t),this.subscribeToMetadataUpdates(t),r})}subscribeToMetadataUpdates(t){this.relayService.ensureConnectedRelays().then(()=>{let r={authors:[t],kinds:[0]};this.relayService.getPool().subscribeMany(this.relayService.getConnectedRelays(),[r],{onevent:o=>q(this,null,function*(){if(o.pubkey===t&&o.kind===0)try{let s=JSON.parse(o.content);yield this.indexedDBService.saveUserMetadata(t,s),this.metadataSubject.next(s)}catch(s){console.error("Error parsing updated metadata:",s)}}),oneose(){}})})}fetchMetadataRealtime(t){return q(this,null,function*(){yield this.relayService.ensureConnectedRelays();let r=this.relayService.getConnectedRelays();if(r.length===0)throw new Error("No connected relays");return new Promise(o=>{let s=this.relayService.getPool().subscribeMany(r,[{authors:[t],kinds:[0]}],{onevent:a=>{if(a.pubkey===t&&a.kind===0)try{let l=JSON.parse(a.content);o(l)}catch(l){console.error("Error parsing event content:",l),o(null)}finally{s.close()}},oneose(){s.close(),o(null)}})})})}refreshAllStoredMetadata(){return q(this,null,function*(){let t=yield this.indexedDBService.getAllUsers();if(!t||t.length===0){console.log("No stored users found in IndexedDB");return}t.forEach(r=>this.enqueueRequest(r.pubkey))})}getUserMetadata(t){return q(this,null,function*(){try{let r=yield this.indexedDBService.getUserMetadata(t);if(r)return r;let o=yield this.fetchMetadataRealtime(t);return o?(yield this.indexedDBService.saveUserMetadata(t,o),o):null}catch(r){return console.error(`Error fetching metadata for user ${t}:`,r),null}})}};e.\u0275fac=function(r){return new(r||e)(ee(zc),ee(Bh))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Yn=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},sa=class extends Yn{constructor(e,n,t,r,o){super(),this.component=e,this.viewContainerRef=n,this.injector=t,this.componentFactoryResolver=r,this.projectableNodes=o}},Kn=class extends Yn{constructor(e,n,t,r){super(),this.templateRef=e,this.viewContainerRef=n,this.context=t,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}},aa=class extends Yn{constructor(e){super(),this.element=e instanceof be?e.nativeElement:e}},_o=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof sa)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Kn)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof aa)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var yo=class extends _o{constructor(e,n,t,r,o){super(),this.outletElement=e,this._componentFactoryResolver=n,this._appRef=t,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(e){let t=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(t,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=t.create(e.injector||this._defaultInjector||Si.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let n=e.viewContainerRef,t=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return t.rootNodes.forEach(r=>this.outletElement.appendChild(r)),t.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(t);r!==-1&&n.remove(r)}),this._attachedPortal=e,t}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var DE=(()=>{let e=class e extends _o{constructor(t,r,o){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new xe,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(l,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let r=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),a=r.createComponent(s,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=t,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(t){t.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}};e.\u0275fac=function(r){return new(r||e)(M(or),M(xn),M(Ne))},e.\u0275dir=ae({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[st]});let i=e;return i})();var Vh=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({});let i=e;return i})();var Nh=lr(),la=class{constructor(e,n){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Pe(-this._previousScrollPosition.left),e.style.top=Pe(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,n=this._document.body,t=e.style,r=n.style,o=t.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Nh&&(t.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Nh&&(t.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.body,t=this._viewportRuler.getViewportSize();return n.scrollHeight>t.height||n.scrollWidth>t.width}};var ca=class{constructor(e,n,t,r){this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=t,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Ut(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},bo=class{enable(){}disable(){}attach(){}};function da(i,e){return e.some(n=>{let t=i.bottom<n.top,r=i.top>n.bottom,o=i.right<n.left,s=i.left>n.right;return t||r||o||s})}function jh(i,e){return e.some(n=>{let t=i.top<n.top,r=i.bottom>n.bottom,o=i.left<n.left,s=i.right>n.right;return t||r||o||s})}var ha=class{constructor(e,n,t,r){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=t,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:r}=this._viewportRuler.getViewportSize();da(n,[{width:t,height:r,bottom:r,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},B_=(()=>{let e=class e{constructor(t,r,o,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new bo,this.close=a=>new ca(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new la(this._viewportRuler,this._document),this.reposition=a=>new ha(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}};e.\u0275fac=function(r){return new(r||e)(ee(gr),ee(Zi),ee(ye),ee(Ne))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),wo=class{constructor(e){if(this.scrollStrategy=new bo,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let n=Object.keys(e);for(let t of n)e[t]!==void 0&&(this[t]=e[t])}}};var fa=class{constructor(e,n){this.connectionPair=e,this.scrollableViewProperties=n}};var qh=(()=>{let e=class e{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(r){return new(r||e)(ee(Ne))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),V_=(()=>{let e=class e extends qh{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=o=>{let s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){let l=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(o)):l.next(o);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(r){return new(r||e)(ee(Ne),ee(ye,8))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),N_=(()=>{let e=class e extends qh{constructor(t,r,o){super(t),this._platform=r,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=cr(s)},this._clickListener=s=>{let a=cr(s),l=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let c=this._attachedOverlays.slice();for(let h=c.length-1;h>-1;h--){let f=c[h];if(f._outsidePointerEvents.observers.length<1||!f.hasAttached())continue;if(zh(f.overlayElement,a)||zh(f.overlayElement,l))break;let m=f._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>m.next(s)):m.next(s)}}}add(t){if(super.add(t),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(r){return new(r||e)(ee(Ne),ee(lt),ee(ye,8))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function zh(i,e){let n=typeof ShadowRoot<"u"&&ShadowRoot,t=e;for(;t;){if(t===i)return!0;t=n&&t instanceof ShadowRoot?t.host:t.parentNode}return!1}var Gh=(()=>{let e=class e{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||Vo()){let o=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}let r=this._document.createElement("div");r.classList.add(t),Vo()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};e.\u0275fac=function(r){return new(r||e)(ee(Ne),ee(lt))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),ua=class{constructor(e,n,t,r,o,s,a,l,c,h=!1,f){this._portalOutlet=e,this._host=n,this._pane=t,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=h,this._injector=f,this._backdropElement=null,this._backdropClick=new he,this._attachments=new he,this._detachments=new he,this._locationChanges=Mt.EMPTY,this._backdropClickHandler=m=>this._backdropClick.next(m),this._backdropTransitionendHandler=m=>{this._disposeBackdrop(m.target)},this._keydownEvents=new he,this._outsidePointerEvents=new he,this._renders=new he,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=It(()=>sr(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Ya(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=le(le({},this._config),e),this._updateElementSize()}setDirection(e){this._config=_e(le({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Pe(this._config.width),e.height=Pe(this._config.height),e.minWidth=Pe(this._config.minWidth),e.minHeight=Pe(this._config.minHeight),e.maxWidth=Pe(this._config.maxWidth),e.maxHeight=Pe(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,n,t){let r=No(n||[]).filter(o=>!!o);r.length&&(t?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(He(ii(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},Uh="cdk-overlay-connected-position-bounding-box",j_=/([A-Za-z%]+)$/,ma=class{get positions(){return this._preferredPositions}constructor(e,n,t,r,o){this._viewportRuler=n,this._document=t,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new he,this._resizeSubscription=Mt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(Uh),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,n=this._overlayRect,t=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),c=this._getOverlayPoint(l,n,a),h=this._getOverlayFit(c,n,t,a);if(h.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(h,c,t)){o.push({position:a,origin:l,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:c,originPoint:l,position:a,overlayRect:n})}if(o.length){let a=null,l=-1;for(let c of o){let h=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);h>l&&(l=h,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ni(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Uh),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,n)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,n,t){let r;if(t.originX=="center")r=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r=t.originX=="start"?s:a}n.left<0&&(r-=n.left);let o;return t.originY=="center"?o=e.top+e.height/2:o=t.originY=="top"?e.top:e.bottom,n.top<0&&(o-=n.top),{x:r,y:o}}_getOverlayPoint(e,n,t){let r;t.overlayX=="center"?r=-n.width/2:t.overlayX==="start"?r=this._isRtl()?-n.width:0:r=this._isRtl()?0:-n.width;let o;return t.overlayY=="center"?o=-n.height/2:o=t.overlayY=="top"?0:-n.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,n,t,r){let o=$h(n),{x:s,y:a}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let h=0-s,f=s+o.width-t.width,m=0-a,g=a+o.height-t.height,v=this._subtractOverflows(o.width,h,f),p=this._subtractOverflows(o.height,m,g),y=v*p;return{visibleArea:y,isCompletelyWithinViewport:o.width*o.height===y,fitsInViewportVertically:p===o.height,fitsInViewportHorizontally:v==o.width}}_canFitWithFlexibleDimensions(e,n,t){if(this._hasFlexibleDimensions){let r=t.bottom-n.y,o=t.right-n.x,s=Hh(this._overlayRef.getConfig().minHeight),a=Hh(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||s!=null&&s<=r,c=e.fitsInViewportHorizontally||a!=null&&a<=o;return l&&c}return!1}_pushOverlayOnScreen(e,n,t){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=$h(n),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),l=Math.max(o.top-t.top-e.y,0),c=Math.max(o.left-t.left-e.x,0),h=0,f=0;return r.width<=o.width?h=c||-s:h=e.x<this._viewportMargin?o.left-t.left-e.x:0,r.height<=o.height?f=l||-a:f=e.y<this._viewportMargin?o.top-t.top-e.y:0,this._previousPushAmount={x:h,y:f},{x:e.x+h,y:e.y+f}}_applyPosition(e,n){if(this._setTransformOrigin(e),this._setOverlayElementStyles(n,e),this._setBoundingBoxStyles(n,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let t=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!z_(this._lastScrollVisibility,t)){let r=new fa(e,t);this._positionChanges.next(r)}this._lastScrollVisibility=t}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),t,r=e.overlayY;e.overlayX==="center"?t="center":this._isRtl()?t=e.overlayX==="start"?"right":"left":t=e.overlayX==="start"?"left":"right";for(let o=0;o<n.length;o++)n[o].style.transformOrigin=`${t} ${r}`}_calculateBoundingBoxRect(e,n){let t=this._viewportRect,r=this._isRtl(),o,s,a;if(n.overlayY==="top")s=e.y,o=t.height-s+this._viewportMargin;else if(n.overlayY==="bottom")a=t.height-e.y+this._viewportMargin*2,o=t.height-a+this._viewportMargin;else{let g=Math.min(t.bottom-e.y+t.top,e.y),v=this._lastBoundingBoxSize.height;o=g*2,s=e.y-g,o>v&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-v/2)}let l=n.overlayX==="start"&&!r||n.overlayX==="end"&&r,c=n.overlayX==="end"&&!r||n.overlayX==="start"&&r,h,f,m;if(c)m=t.width-e.x+this._viewportMargin*2,h=e.x-this._viewportMargin;else if(l)f=e.x,h=t.right-e.x;else{let g=Math.min(t.right-e.x+t.left,e.x),v=this._lastBoundingBoxSize.width;h=g*2,f=e.x-g,h>v&&!this._isInitialRender&&!this._growAfterOpen&&(f=e.x-v/2)}return{top:s,left:f,bottom:a,right:m,width:h,height:o}}_setBoundingBoxStyles(e,n){let t=this._calculateBoundingBoxRect(e,n);!this._isInitialRender&&!this._growAfterOpen&&(t.height=Math.min(t.height,this._lastBoundingBoxSize.height),t.width=Math.min(t.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=Pe(t.height),r.top=Pe(t.top),r.bottom=Pe(t.bottom),r.width=Pe(t.width),r.left=Pe(t.left),r.right=Pe(t.right),n.overlayX==="center"?r.alignItems="center":r.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?r.justifyContent="center":r.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=Pe(o)),s&&(r.maxWidth=Pe(s))}this._lastBoundingBoxSize=t,Ni(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ni(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ni(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,n){let t={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let h=this._viewportRuler.getViewportScrollPosition();Ni(t,this._getExactOverlayY(n,e,h)),Ni(t,this._getExactOverlayX(n,e,h))}else t.position="static";let a="",l=this._getOffset(n,"x"),c=this._getOffset(n,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),t.transform=a.trim(),s.maxHeight&&(r?t.maxHeight=Pe(s.maxHeight):o&&(t.maxHeight="")),s.maxWidth&&(r?t.maxWidth=Pe(s.maxWidth):o&&(t.maxWidth="")),Ni(this._pane.style,t)}_getExactOverlayY(e,n,t){let r={top:"",bottom:""},o=this._getOverlayPoint(n,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,t)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=Pe(o.y);return r}_getExactOverlayX(e,n,t){let r={left:"",right:""},o=this._getOverlayPoint(n,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,t));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=Pe(o.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),n=this._pane.getBoundingClientRect(),t=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:jh(e,t),isOriginOutsideView:da(e,t),isOverlayClipped:jh(n,t),isOverlayOutsideView:da(n,t)}}_subtractOverflows(e,...n){return n.reduce((t,r)=>t-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,t=this._viewportRuler.getViewportScrollPosition();return{top:t.top+this._viewportMargin,left:t.left+this._viewportMargin,right:t.left+e-this._viewportMargin,bottom:t.top+n-this._viewportMargin,width:e-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,n){return n==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&No(e).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof be)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let n=e.width||0,t=e.height||0;return{top:e.y,bottom:e.y+t,left:e.x,right:e.x+n,height:t,width:n}}};function Ni(i,e){for(let n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i}function Hh(i){if(typeof i!="number"&&i!=null){let[e,n]=i.split(j_);return!n||n==="px"?parseFloat(e):null}return i||null}function $h(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}function z_(i,e){return i===e?!0:i.isOriginClipped===e.isOriginClipped&&i.isOriginOutsideView===e.isOriginOutsideView&&i.isOverlayClipped===e.isOverlayClipped&&i.isOverlayOutsideView===e.isOverlayOutsideView}var Wh="cdk-global-overlay-wrapper",pa=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let n=e.getConfig();this._overlayRef=e,this._width&&!n.width&&e.updateSize({width:this._width}),this._height&&!n.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Wh),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,t=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=t,l=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),c=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),h=this._xPosition,f=this._xOffset,m=this._overlayRef.getConfig().direction==="rtl",g="",v="",p="";l?p="flex-start":h==="center"?(p="center",m?v=f:g=f):m?h==="left"||h==="end"?(p="flex-end",g=f):(h==="right"||h==="start")&&(p="flex-start",v=f):h==="left"||h==="start"?(p="flex-start",g=f):(h==="right"||h==="end")&&(p="flex-end",v=f),e.position=this._cssPosition,e.marginLeft=l?"0":g,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":v,n.justifyContent=p,n.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,t=n.style;n.classList.remove(Wh),t.justifyContent=t.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},U_=(()=>{let e=class e{constructor(t,r,o,s){this._viewportRuler=t,this._document=r,this._platform=o,this._overlayContainer=s}global(){return new pa}flexibleConnectedTo(t){return new ma(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(r){return new(r||e)(ee(Zi),ee(Ne),ee(lt),ee(Gh))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),H_=0,ji=(()=>{let e=class e{constructor(t,r,o,s,a,l,c,h,f,m,g,v){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=l,this._ngZone=c,this._document=h,this._directionality=f,this._location=m,this._outsideClickDispatcher=g,this._animationsModuleType=v}create(t){let r=this._createHostElement(),o=this._createPaneElement(r),s=this._createPortalOutlet(o),a=new wo(t);return a.direction=a.direction||this._directionality.value,new ua(s,r,o,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Wa))}position(){return this._positionBuilder}_createPaneElement(t){let r=this._document.createElement("div");return r.id=`cdk-overlay-${H_++}`,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){let t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(tl)),new yo(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(r){return new(r||e)(ee(B_),ee(Gh),ee(or),ee(U_),ee(V_),ee(Si),ee(ye),ee(Ne),ee(qt),ee(il),ee(N_),ee(ri,8))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),$_=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Yh=new De("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let i=et(ji);return()=>i.scrollStrategies.reposition()}}),Zn=(()=>{let e=class e{constructor(t){this.elementRef=t}};e.\u0275fac=function(r){return new(r||e)(M(be))},e.\u0275dir=ae({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0});let i=e;return i})(),ga=(()=>{let e=class e{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(t){this._disposeOnNavigation=t}constructor(t,r,o,s,a){this._overlay=t,this._dir=a,this._backdropSubscription=Mt.EMPTY,this._attachSubscription=Mt.EMPTY,this._detachSubscription=Mt.EMPTY,this._positionSubscription=Mt.EMPTY,this._disposeOnNavigation=!1,this._ngZone=et(ye),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new xe,this.positionChange=new xe,this.attach=new xe,this.detach=new xe,this.overlayKeydown=new xe,this.overlayOutsideClick=new xe,this._templatePortal=new Kn(r,o),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=$_);let t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),r.keyCode===27&&!this.disableClose&&!In(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{let o=this._getOriginElement(),s=cr(r);(!o||o!==s&&!o.contains(s))&&this.overlayOutsideClick.next(r)})}_buildConfig(){let t=this._position=this.positionStrategy||this._createPositionStrategy(),r=new wo({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(r.width=this.width),(this.height||this.height===0)&&(r.height=this.height),(this.minWidth||this.minWidth===0)&&(r.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(t){let r=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return t.setOrigin(this._getOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let t=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(t),t}_getOrigin(){return this.origin instanceof Zn?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Zn?this.origin.elementRef.nativeElement:this.origin instanceof be?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(Ua(()=>this.positionChange.observers.length>0)).subscribe(t=>{this._ngZone.run(()=>this.positionChange.emit(t)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(M(ji),M(rr),M(xn),M(Yh),M(qt,8))},e.\u0275dir=ae({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",we],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",we],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",we],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",we],push:[2,"cdkConnectedOverlayPush","push",we],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",we]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Ht,ot]});let i=e;return i})();function W_(i){return()=>i.scrollStrategies.reposition()}var q_={provide:Yh,deps:[ji],useFactory:W_},Kh=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({providers:[ji,q_],imports:[An,Vh,Ho,Ho]});let i=e;return i})();var X_=["trigger"],Q_=["panel"],J_=[[["mat-select-trigger"]],"*"],ey=["mat-select-trigger","*"];function ty(i,e){if(i&1&&(ce(0,"span",4),En(1),pe()),i&2){let n=nt();ve(),Cn(n.placeholder)}}function iy(i,e){i&1&&Ke(0)}function ny(i,e){if(i&1&&(ce(0,"span",11),En(1),pe()),i&2){let n=nt(2);ve(),Cn(n.triggerValue)}}function ry(i,e){if(i&1&&(ce(0,"span",5),Be(1,iy,1,0)(2,ny,2,1,"span",11),pe()),i&2){let n=nt();ve(),Ve(n.customTrigger?1:2)}}function oy(i,e){if(i&1){let n=Ii();ce(0,"div",12,1),We("@transformPanel.done",function(r){_t(n);let o=nt();return yt(o._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){_t(n);let o=nt();return yt(o._handleKeydown(r))}),Ke(2,1),pe()}if(i&2){let n=nt();Za("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",n._getPanelTheme(),""),tt("ngClass",n.panelClass)("@transformPanel","showing"),at("id",n.id+"-panel")("aria-multiselectable",n.multiple)("aria-label",n.ariaLabel||null)("aria-labelledby",n._getPanelAriaLabelledby())}}var sy={transformPanelWrap:ue("transformPanelWrap",[K("* => void",Cl("@transformPanel",[El()],{optional:!0}))]),transformPanel:ue("transformPanel",[Q("void",W({opacity:0,transform:"scale(1, 0.8)"})),K("void => showing",de("120ms cubic-bezier(0, 0, 0.2, 1)",W({opacity:1,transform:"scale(1, 1)"}))),K("* => void",de("100ms linear",W({opacity:0})))])};var ef=0,tf=new De("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let i=et(ji);return()=>i.scrollStrategies.reposition()}});function ay(i){return()=>i.scrollStrategies.reposition()}var ly=new De("MAT_SELECT_CONFIG"),cy={provide:tf,deps:[ji],useFactory:ay},nf=new De("MatSelectTrigger"),va=class{constructor(e,n){this.source=e,this.value=n}},E1=(()=>{let e=class e{_scrollOptionIntoView(t){let r=this.options.toArray()[t];if(r){let o=this.panel.nativeElement,s=pl(t,this.options,this.optionGroups),a=r._getHostElement();t===0&&s===1?o.scrollTop=0:o.scrollTop=gl(a.offsetTop,a.offsetHeight,o.scrollTop,o.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new va(this,t)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(en.required)??!1}set required(t){this._required=t,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._selectionModel,this._multiple=t}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,r,o,s,a,l,c,h,f,m,g,v,p,y){this._viewportRuler=t,this._changeDetectorRef=r,this._elementRef=a,this._dir=l,this._parentFormField=f,this.ngControl=m,this._liveAnnouncer=p,this._defaultOptions=y,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(E,S)=>E===S,this._uid=`mat-select-${ef++}`,this._triggerAriaLabelledBy=null,this._destroy=new he,this.stateChanges=new he,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId=`mat-select-value-${ef++}`,this._panelDoneAnimatingStream=new he,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new he,this.optionSelectionChanges=Na(()=>{let E=this.options;return E?E.changes.pipe(tr(E),ir(()=>ii(...E.map(S=>S.onSelectionChange)))):this._initialized.pipe(ir(()=>this.optionSelectionChanges))}),this.openedChange=new xe,this._openedStream=this.openedChange.pipe(Ut(E=>E),yn(()=>{})),this._closedStream=this.openedChange.pipe(Ut(E=>!E),yn(()=>{})),this.selectionChange=new xe,this.valueChange=new xe,this._trackedModal=null,this._skipPredicate=E=>this.panelOpen?!1:E.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),y?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=y.typeaheadDebounceInterval),this._errorStateTracker=new hr(s,m,h,c,this.stateChanges),this._scrollStrategyFactory=v,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(g)||0,this.id=this.id}ngOnInit(){this._selectionModel=new ur(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(To(),He(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(He(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(He(this._destroy)).subscribe(t=>{t.added.forEach(r=>r.select()),t.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(tr(null),He(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let t=this._getTriggerAriaLabelledby(),r=this.ngControl;if(t!==this._triggerAriaLabelledBy){let o=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?o.setAttribute("aria-labelledby",t):o.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(this._previousControl!==void 0&&r.disabled!==null&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){let t=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;let r=`${this.id}-panel`;this._trackedModal&&jo(this._trackedModal,"aria-owns",r),al(t,"aria-owns",r),this._trackedModal=t}_clearFromModal(){if(!this._trackedModal)return;let t=`${this.id}-panel`;jo(this._trackedModal,"aria-owns",t),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let t=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){let r=t.keyCode,o=r===40||r===38||r===37||r===39,s=r===13||r===32,a=this._keyManager;if(!a.isTyping()&&s&&!In(t)||(this.multiple||t.altKey)&&o)t.preventDefault(),this.open();else if(!this.multiple){let l=this.selected;a.onKeydown(t);let c=this.selected;c&&l!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(t){let r=this._keyManager,o=t.keyCode,s=o===40||o===38,a=r.isTyping();if(s&&t.altKey)t.preventDefault(),this.close();else if(!a&&(o===13||o===32)&&r.activeItem&&!In(t))t.preventDefault(),r.activeItem._selectViaInteraction();else if(!a&&this._multiple&&o===65&&t.ctrlKey){t.preventDefault();let l=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(l?c.select():c.deselect())})}else{let l=r.activeItemIndex;r.onKeydown(t),this._multiple&&s&&t.shiftKey&&r.activeItem&&r.activeItemIndex!==l&&r.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(za(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{let r=this._selectOptionByValue(t);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){let r=this.options.find(o=>{if(this._selectionModel.isSelected(o))return!1;try{return o.value!=null&&this._compareWith(o.value,t)}catch{return!1}});return r&&this._selectionModel.select(r),r}_assignValue(t){return t!==this._value||this._multiple&&Array.isArray(t)?(this.options&&this._setSelectionByValue(t),this._value=t,!0):!1}_getOverlayWidth(t){return this.panelWidth==="auto"?(t instanceof Zn?t.elementRef:t||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let t of this.options)t._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new ll(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let t=ii(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(He(t)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),ii(...this.options.map(r=>r._stateChanges)).pipe(He(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,r){let o=this._selectionModel.isSelected(t);t.value==null&&!this._multiple?(t.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(t.value)):(o!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),r&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),r&&this.focus())),o!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let t=this.options.toArray();this._selectionModel.sort((r,o)=>this.sortComparator?this.sortComparator(r,o,t):t.indexOf(r)-t.indexOf(o)),this.stateChanges.next()}}_propagateChanges(t){let r;this.multiple?r=this.selected.map(o=>o.value):r=this.selected?this.selected.value:t,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let t=-1;for(let r=0;r<this.options.length;r++)if(!this.options.get(r).disabled){t=r;break}this._keyManager.setActiveItem(t)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let t=this._parentFormField?.getLabelId(),r=t?t+" ":"";return this.ariaLabelledby?r+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let t=this._parentFormField?.getLabelId(),r=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}};e.\u0275fac=function(r){return new(r||e)(M(Zi),M($t),M(ye),M(fr),M(be),M(qt,8),M(Nn,8),M(jn,8),M(kn,8),M(ft,10),Wi("tabindex"),M(tf),M(cl),M(ly,8))},e.\u0275cmp=ni({type:e,selectors:[["mat-select"]],contentQueries:function(r,o,s){if(r&1&&(Pt(s,nf,5),Pt(s,ml,5),Pt(s,ul,5)),r&2){let a;Ee(a=Ce())&&(o.customTrigger=a.first),Ee(a=Ce())&&(o.options=a),Ee(a=Ce())&&(o.optionGroups=a)}},viewQuery:function(r,o){if(r&1&&(Ze(X_,5),Ze(Q_,5),Ze(ga,5)),r&2){let s;Ee(s=Ce())&&(o.trigger=s.first),Ee(s=Ce())&&(o.panel=s.first),Ee(s=Ce())&&(o._overlayDir=s.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(r,o){r&1&&We("keydown",function(a){return o._handleKeydown(a)})("focus",function(){return o._onFocus()})("blur",function(){return o._onBlur()}),r&2&&(at("id",o.id)("tabindex",o.disabled?-1:o.tabIndex)("aria-controls",o.panelOpen?o.id+"-panel":null)("aria-expanded",o.panelOpen)("aria-label",o.ariaLabel||null)("aria-required",o.required.toString())("aria-disabled",o.disabled.toString())("aria-invalid",o.errorState)("aria-activedescendant",o._getAriaActiveDescendant()),$e("mat-mdc-select-disabled",o.disabled)("mat-mdc-select-invalid",o.errorState)("mat-mdc-select-required",o.required)("mat-mdc-select-empty",o.empty)("mat-mdc-select-multiple",o.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",we],disableRipple:[2,"disableRipple","disableRipple",we],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:Sn(t)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",we],placeholder:"placeholder",required:[2,"required","required",we],multiple:[2,"multiple","multiple",we],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",we],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",Sn],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[Ae([{provide:Rn,useExisting:e},{provide:fl,useExisting:e}]),Ht,ot,si],ngContentSelectors:ey,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(r,o){if(r&1){let s=Ii();oi(J_),ce(0,"div",2,0),We("click",function(){return _t(s),yt(o.open())}),ce(3,"div",3),Be(4,ty,2,1,"span",4)(5,ry,3,1,"span",5),pe(),ce(6,"div",6)(7,"div",7),nr(),ce(8,"svg",8),it(9,"path",9),pe()()()(),Be(10,oy,3,9,"ng-template",10),We("backdropClick",function(){return _t(s),yt(o.close())})("attach",function(){return _t(s),yt(o._onAttached())})("detach",function(){return _t(s),yt(o.close())})}if(r&2){let s=Ai(1);ve(3),at("id",o._valueId),ve(),Ve(o.empty?4:5),ve(6),tt("cdkConnectedOverlayPanelClass",o._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",o._scrollStrategy)("cdkConnectedOverlayOrigin",o._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",o.panelOpen)("cdkConnectedOverlayPositions",o._positions)("cdkConnectedOverlayWidth",o._overlayWidth)}},dependencies:[Zn,ga,nl],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-app-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-app-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-app-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-app-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-app-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-app-on-surface-variant))}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[sy.transformPanel]},changeDetection:0});let i=e;return i})(),C1=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ae({type:e,selectors:[["mat-select-trigger"]],standalone:!0,features:[Ae([{provide:nf,useExisting:e}])]});let i=e;return i})(),S1=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({providers:[cy],imports:[ar,Kh,zo,bt,mr,On,zo,bt]});let i=e;return i})();var dy=["switch"],hy=["*"];function fy(i,e){i&1&&(ce(0,"span",10),nr(),ce(1,"svg",12),it(2,"path",13),pe(),ce(3,"svg",14),it(4,"path",15),pe()())}var uy=new De("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),my={provide:rn,useExisting:Tt(()=>rf),multi:!0},xo=class{constructor(e,n){this.source=e,this.checked=n}},py=0,rf=(()=>{let e=class e{_createChangeEvent(t){return new xo(this,t)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(t){this._checked=t,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,r,o,s,a,l){this._elementRef=t,this._focusMonitor=r,this._changeDetectorRef=o,this.defaults=a,this._onChange=c=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new xe,this.toggleChange=new xe,this.tabIndex=parseInt(s)||0,this.color=a.color||"accent",this._noopAnimations=l==="NoopAnimations",this.id=this._uniqueId=`mat-mdc-slide-toggle-${++py}`,this.hideIcon=a.hideIcon??!1,this.disabledInteractive=a.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t==="keyboard"||t==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(t){t.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}validate(t){return this.required&&t.value!==!0?{required:!0}:null}registerOnValidatorChange(t){this._validatorOnChange=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new xo(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}};e.\u0275fac=function(r){return new(r||e)(M(be),M(dl),M($t),Wi("tabindex"),M(uy),M(ri,8))},e.\u0275cmp=ni({type:e,selectors:[["mat-slide-toggle"]],viewQuery:function(r,o){if(r&1&&Ze(dy,5),r&2){let s;Ee(s=Ce())&&(o._switchElement=s.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(r,o){r&2&&(Di("id",o.id),at("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),Ka(o.color?"mat-"+o.color:""),$e("mat-mdc-slide-toggle-focused",o._focused)("mat-mdc-slide-toggle-checked",o.checked)("_mat-animation-noopable",o._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",we],color:"color",disabled:[2,"disabled","disabled",we],disableRipple:[2,"disableRipple","disableRipple",we],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:Sn(t)],checked:[2,"checked","checked",we],hideIcon:[2,"hideIcon","hideIcon",we],disabledInteractive:[2,"disabledInteractive","disabledInteractive",we]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[Ae([my,{provide:ci,useExisting:e,multi:!0}]),Ht,ot,si],ngContentSelectors:hy,decls:13,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(r,o){if(r&1){let s=Ii();oi(),ce(0,"div",1)(1,"button",2,0),We("click",function(){return _t(s),yt(o._handleClick())}),it(3,"span",3),ce(4,"span",4)(5,"span",5)(6,"span",6),it(7,"span",7),pe(),ce(8,"span",8),it(9,"span",9),pe(),Be(10,fy,5,0,"span",10),pe()()(),ce(11,"label",11),We("click",function(l){return _t(s),yt(l.stopPropagation())}),Ke(12),pe()()}if(r&2){let s=Ai(2);tt("labelPosition",o.labelPosition),ve(),$e("mdc-switch--selected",o.checked)("mdc-switch--unselected",!o.checked)("mdc-switch--checked",o.checked)("mdc-switch--disabled",o.disabled)("mat-mdc-slide-toggle-disabled-interactive",o.disabledInteractive),tt("tabIndex",o.disabled&&!o.disabledInteractive?-1:o.tabIndex)("disabled",o.disabled&&!o.disabledInteractive),at("id",o.buttonId)("name",o.name)("aria-label",o.ariaLabel)("aria-labelledby",o._getAriaLabelledBy())("aria-describedby",o.ariaDescribedby)("aria-required",o.required||null)("aria-checked",o.checked)("aria-disabled",o.disabled&&o.disabledInteractive?"true":null),ve(8),tt("matRippleTrigger",s)("matRippleDisabled",o.disableRipple||o.disabled)("matRippleCentered",!0),ve(),Ve(o.hideIcon?-1:10),ve(),tt("for",o.buttonId),at("id",o._labelId)}},dependencies:[hl,vl],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape, var(--mat-app-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color, var(--mat-app-outline))}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color, var(--mat-app-on-surface))}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, var(--mat-app-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color, var(--mat-app-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, var(--mat-app-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, var(--mat-app-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, var(--mat-app-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, var(--mat-app-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape, var(--mat-app-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mat-app-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, var(--mat-app-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, var(--mat-app-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, var(--mat-app-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, var(--mat-app-on-surface))}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color, var(--mat-app-primary));opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color, var(--mat-app-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mat-app-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-switch-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-switch-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-switch-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-switch-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-switch-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0});let i=e;return i})();var U1=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({imports:[rf,bt,bt]});let i=e;return i})();var $1=(()=>{let e=class e{constructor(){this.mainnetLocalStorageKey="mainnetIndexers",this.testnetLocalStorageKey="testnetIndexers",this.mainnetPrimaryIndexerKey="mainnetPrimaryIndexer",this.testnetPrimaryIndexerKey="testnetPrimaryIndexer",this.networkStorageKey="selectedNetwork",this.defaultMainnetIndexer="https://btc.indexer.angor.io/",this.defaultTestnetIndexer="https://tbtc.indexer.angor.io/",this.initializeDefaultIndexers()}initializeDefaultIndexers(){this.getIndexers("mainnet").length===0&&(this.addIndexer(this.defaultMainnetIndexer,"mainnet"),this.setPrimaryIndexer(this.defaultMainnetIndexer,"mainnet")),this.getIndexers("testnet").length===0&&(this.addIndexer(this.defaultTestnetIndexer,"testnet"),this.setPrimaryIndexer(this.defaultTestnetIndexer,"testnet"))}addIndexer(t,r){let o=this.getIndexers(r);o.includes(t)||(o.push(t),this.saveIndexers(o,r))}getIndexers(t){let r=t==="mainnet"?this.mainnetLocalStorageKey:this.testnetLocalStorageKey;return JSON.parse(localStorage.getItem(r)||"[]")}saveIndexers(t,r){let o=r==="mainnet"?this.mainnetLocalStorageKey:this.testnetLocalStorageKey;localStorage.setItem(o,JSON.stringify(t))}setPrimaryIndexer(t,r){if(this.getIndexers(r).includes(t)){let o=r==="mainnet"?this.mainnetPrimaryIndexerKey:this.testnetPrimaryIndexerKey;localStorage.setItem(o,t)}}getPrimaryIndexer(t){let r=t==="mainnet"?this.mainnetPrimaryIndexerKey:this.testnetPrimaryIndexerKey;return localStorage.getItem(r)}removeIndexer(t,r){let o=this.getIndexers(r),s=o.indexOf(t);if(s!==-1&&(o.splice(s,1),this.saveIndexers(o,r),t===this.getPrimaryIndexer(r))){let a=r==="mainnet"?this.mainnetPrimaryIndexerKey:this.testnetPrimaryIndexerKey;localStorage.removeItem(a)}}clearAllIndexers(t){let r=t==="mainnet"?this.mainnetLocalStorageKey:this.testnetLocalStorageKey,o=t==="mainnet"?this.mainnetPrimaryIndexerKey:this.testnetPrimaryIndexerKey;localStorage.removeItem(r),localStorage.removeItem(o)}setNetwork(t){localStorage.setItem(this.networkStorageKey,t)}getNetwork(){return localStorage.getItem(this.networkStorageKey)||"testnet"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();export{Dt as a,zy as b,ue as c,de as d,Uy as e,Xf as f,W as g,Q as h,K as i,Qf as j,bl as k,wl as l,Hy as m,yy as n,gr as o,Kf as p,Zi as q,mr as r,sa as s,Kn as t,_o as u,DE as v,Vh as w,B_ as x,wo as y,Gh as z,ua as A,ji as B,Kh as C,Il as D,f0 as E,Dl as F,u0 as G,m0 as H,kn as I,Tu as J,p0 as K,On as L,B0 as M,eb as N,dc as O,rn as P,yc as Q,ci as R,en as S,_b as T,yb as U,wb as V,cm as W,xb as X,hm as Y,jn as Z,mm as _,vm as $,_m as aa,Eb as ba,Cb as ca,Sb as da,zb as ea,Ub as fa,zc as ga,qe as ha,xt as ia,Gw as ja,lo as ka,Bx as la,Vx as ma,Ci as na,Sv as oa,Pv as pa,Bh as qa,vE as ra,E1 as sa,C1 as ta,S1 as ua,$1 as va,rf as wa,U1 as xa};
