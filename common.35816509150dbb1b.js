"use strict";(self.webpackChunkangor=self.webpackChunkangor||[]).push([[76],{5167:(b,m,i)=>{i.d(m,{n:()=>y});var h=i(1648),l=i(4085),s=i(4438);const u=[[["","angorCardFront",""]],[["","angorCardBack",""]],"*",[["","angorCardExpansion",""]]],a=["[angorCardFront]","[angorCardBack]","*","[angorCardExpansion]"];function r(d,o){1&d&&(s.j41(0,"div",0),s.SdG(1),s.k0s(),s.j41(2,"div",1),s.SdG(3,1),s.k0s())}function n(d,o){1&d&&(s.j41(0,"div",2),s.SdG(1,3),s.k0s()),2&d&&s.Y8G("@expandCollapse",void 0)}function f(d,o){if(1&d&&(s.SdG(0,2),s.DNE(1,n,2,1,"div",2)),2&d){const p=s.XpG();s.R7$(),s.vxM(p.expanded?1:-1)}}let y=(()=>{class d{constructor(){this.expanded=!1,this.face="front",this.flippable=!1}get classList(){return{"angor-card-expanded":this.expanded,"angor-card-face-back":this.flippable&&"back"===this.face,"angor-card-face-front":this.flippable&&"front"===this.face,"angor-card-flippable":this.flippable}}ngOnChanges(p){"expanded"in p&&(this.expanded=(0,l.he)(p.expanded.currentValue)),"flippable"in p&&(this.flippable=(0,l.he)(p.flippable.currentValue))}static{this.\u0275fac=function(e){return new(e||d)}}static{this.\u0275cmp=s.VBU({type:d,selectors:[["angor-card"]],hostVars:2,hostBindings:function(e,t){2&e&&s.HbH(t.classList)},inputs:{expanded:"expanded",face:"face",flippable:"flippable"},exportAs:["angorCard"],standalone:!0,features:[s.OA$,s.aNF],ngContentSelectors:a,decls:2,vars:2,consts:[[1,"angor-card-front"],[1,"angor-card-back"],[1,"angor-card-expansion"]],template:function(e,t){1&e&&(s.NAR(u),s.DNE(0,r,4,0)(1,f,2,1)),2&e&&(s.vxM(t.flippable?0:-1),s.R7$(),s.vxM(t.flippable?-1:1))},styles:["angor-card{position:relative;display:flex;overflow:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--angor-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}angor-card.angor-card-flippable{border-radius:0;overflow:visible;transform-style:preserve-3d;transition:transform 1s;perspective:600px;background:transparent;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}angor-card.angor-card-flippable.angor-card-face-back .angor-card-front{visibility:hidden;opacity:0;transform:rotateY(180deg)}angor-card.angor-card-flippable.angor-card-face-back .angor-card-back{visibility:visible;opacity:1;transform:rotateY(360deg)}angor-card.angor-card-flippable .angor-card-front,angor-card.angor-card-flippable .angor-card-back{display:flex;flex-direction:column;flex:1 1 auto;z-index:10;transition:transform .5s ease-out 0s,visibility 0s ease-in .2s,opacity 0s ease-in .2s;backface-visibility:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--angor-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}angor-card.angor-card-flippable .angor-card-front{position:relative;opacity:1;visibility:visible;transform:rotateY(0);overflow:hidden}angor-card.angor-card-flippable .angor-card-back{position:absolute;inset:0;opacity:0;visibility:hidden;transform:rotateY(180deg);overflow:hidden auto}\n"],encapsulation:2,data:{animation:h.F}})}}return d})()},8098:(b,m,i)=>{i.d(m,{U:()=>s});var h=i(4412),l=i(4438);let s=(()=>{class u{constructor(){this.STORAGE_KEY="bookmarkedProjects",this.bookmarksSubject=new h.t(this.getBookmarks()),this.bookmarks$=this.bookmarksSubject.asObservable(),window.addEventListener("storage",r=>{r.key===this.STORAGE_KEY&&this.bookmarksSubject.next(this.getBookmarks())})}getBookmarks(){const r=localStorage.getItem(this.STORAGE_KEY);return r?JSON.parse(r):[]}addBookmark(r){const n=this.getBookmarks();n.includes(r)||(n.push(r),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(n)),this.bookmarksSubject.next(n))}removeBookmark(r){const f=this.getBookmarks().filter(y=>y!==r);localStorage.setItem(this.STORAGE_KEY,JSON.stringify(f)),this.bookmarksSubject.next(f)}isBookmarked(r){return this.getBookmarks().includes(r)}static{this.\u0275fac=function(n){return new(n||u)}}static{this.\u0275prov=l.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})()},833:(b,m,i)=>{i.d(m,{F:()=>l});var h=i(4438);let l=(()=>{class s{constructor(){this.mainnetLocalStorageKey="mainnetIndexers",this.testnetLocalStorageKey="testnetIndexers",this.mainnetPrimaryIndexerKey="mainnetPrimaryIndexer",this.testnetPrimaryIndexerKey="testnetPrimaryIndexer",this.networkStorageKey="selectedNetwork",this.defaultMainnetIndexer="https://btc.indexer.angor.io/",this.defaultTestnetIndexer="https://tbtc.indexer.angor.io/",this.initializeDefaultIndexers()}initializeDefaultIndexers(){0===this.getIndexers("mainnet").length&&(this.addIndexer(this.defaultMainnetIndexer,"mainnet"),this.setPrimaryIndexer(this.defaultMainnetIndexer,"mainnet")),0===this.getIndexers("testnet").length&&(this.addIndexer(this.defaultTestnetIndexer,"testnet"),this.setPrimaryIndexer(this.defaultTestnetIndexer,"testnet"))}addIndexer(a,r){let n=this.getIndexers(r);n.includes(a)||(n.push(a),this.saveIndexers(n,r))}getIndexers(a){return JSON.parse(localStorage.getItem("mainnet"===a?this.mainnetLocalStorageKey:this.testnetLocalStorageKey)||"[]")}saveIndexers(a,r){localStorage.setItem("mainnet"===r?this.mainnetLocalStorageKey:this.testnetLocalStorageKey,JSON.stringify(a))}setPrimaryIndexer(a,r){this.getIndexers(r).includes(a)&&localStorage.setItem("mainnet"===r?this.mainnetPrimaryIndexerKey:this.testnetPrimaryIndexerKey,a)}getPrimaryIndexer(a){return localStorage.getItem("mainnet"===a?this.mainnetPrimaryIndexerKey:this.testnetPrimaryIndexerKey)}removeIndexer(a,r){let n=this.getIndexers(r);const f=n.indexOf(a);-1!==f&&(n.splice(f,1),this.saveIndexers(n,r),a===this.getPrimaryIndexer(r))&&localStorage.removeItem("mainnet"===r?this.mainnetPrimaryIndexerKey:this.testnetPrimaryIndexerKey)}clearAllIndexers(a){const n="mainnet"===a?this.mainnetPrimaryIndexerKey:this.testnetPrimaryIndexerKey;localStorage.removeItem("mainnet"===a?this.mainnetLocalStorageKey:this.testnetLocalStorageKey),localStorage.removeItem(n)}setNetwork(a){localStorage.setItem(this.networkStorageKey,a)}getNetwork(){return localStorage.getItem(this.networkStorageKey)||"testnet"}static{this.\u0275fac=function(r){return new(r||s)}}static{this.\u0275prov=h.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})()},2914:(b,m,i)=>{i.d(m,{m:()=>d});var h=i(719),l=i(4438),s=i(3813),u=i(5766),a=i(5416),r=i(345);let y=(()=>{class o{constructor(e,t){this.snackBar=e,this.sanitizer=t,this.defaultBackground="url(/assets/gradient.jpg)"}unsubscribe(e){if(e)for(let t=0;t<e.length;t++)e[t].unsubscribe()}now(){return Math.floor(Date.now()/1e3)}getBannerBackgroundStyle(e){if(!e)return this.defaultBackground;if("string"==typeof e){const t=this.sanitizeImageUrl(e);return t?`url(${t})`:this.defaultBackground}return`url(${this.bypassStyle(e)})`}millisatoshisToSatoshis(e){return Math.floor(e/1e3)}getRelayUrls(e){let t=e;if(Array.isArray(t)){t={};for(let g=0;g<e.length;g++)t[e[g]]={}}return Object.keys(t)}getNostrIdentifier(e){try{const t=this.hexToArray(e);return this.convertToBech32(t,"npub")}catch{return e}}copy(e){this.copyToClipboard(e),this.snackBar.open("Copied to clipboard","Hide",{duration:2500,horizontalPosition:"center",verticalPosition:"bottom"})}copyToClipboard(e){var t=document.createElement("textarea");t.style.position="fixed",t.style.top=0,t.style.left=0,t.style.width="2em",t.style.height="2em",t.style.padding=0,t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",t.value=e,document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch{console.error("Oops, unable to copy")}document.body.removeChild(t)}getHexIdentifier(e){const t=this.hexToArray(e);return this.convertToBech32(t,"npub")}getShortenedIdentifier(e){const t=this.getNostrIdentifier(e);return`${t.substring(5,13)}:${t.substring(t.length-8)}`}convertToBech32(e,t){const c=s.I.toWords(e);return s.I.encode(t,c)}hexToArray(e){return(0,u.aT)(e)}arrayToHex(e){return(0,u.My)(e)}keyToHex(e){return(0,u.My)(e)}sanitizeLUD06(e){if(e&&!e.startsWith("http"))return this.bypassUrl(e)}sanitizeUrlAndBypass(e){const t=this.sanitizeUrl(e);return this.bypassUrl(t)}sanitizeUrlAndBypassFrame(e){const t=this.sanitizeUrl(e);return this.bypassFrameUrl(t)}sanitizeUrl(e,t){if(!e)return"";if(!e?.startsWith("http")){if(!t)return e.startsWith("/assets")?e:"";e="https://"+e}return e}sanitizeImageUrl(e){if(!(e=this.sanitizeUrl(e)))return;let t=e.toLowerCase();return t=t.split("?")[0],t.endsWith("jpg")||t.endsWith("jpeg")||t.endsWith("png")||t.endsWith("webp")||t.endsWith("gif")?e:void 0}bypassUrl(e){return this.sanitizer.bypassSecurityTrustUrl(e)}bypassStyle(e){return this.sanitizer.bypassSecurityTrustStyle(e)}bypassFrameUrl(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}static{this.\u0275fac=function(t){return new(t||o)(l.KVO(a.UG),l.KVO(r.up))}}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})(),d=(()=>{class o{constructor(e){this.utilities=e,this.imageExtensions=[".jpg",".jpeg",".gif",".png",".webp",".apng",".jfif",".svg"],this.videoExtensions=[".mp4",".m4v",".m4p",".mpg",".mpeg",".webm",".avif",".mov",".ogv"],this.audioExtensions=[".mp3",".m4a",".flac",".ogg",".wav"]}isImage(e){return this.imageExtensions.some(t=>e.includes(t))}isVideo(e){return this.videoExtensions.some(t=>e.includes(t))}isAudio(e){return this.audioExtensions.some(t=>e.includes(t))}isYouTube(e){return e.includes("youtu.be")||e.includes("youtube.com")}isSpotify(e){return e.includes("open.spotify.com")}isTidal(e){return e.includes("tidal.com")}parseContent(e){return e=e.replaceAll(new RegExp("\\p{Cf}","gu"),""),this.tokenizeText(e).map(c=>this.processToken(c))}tokenizeText(e){return e.split(/(\s|,|#\[[^\]]*\])/).filter(t=>""!==t)}processToken(e){return e.startsWith("nostr:")?this.processNostrToken(e):e.startsWith("@")?this.processUsernameToken(e):e.startsWith("http://")||e.startsWith("https://")?this.processLinkToken(e):e}processNostrToken(e){const t=h.Qe.decode(e.substring(6)),c=t.data;switch(t.type){case"nprofile":case"npub":case"note":case"nevent":return{safeWord:this.utilities.sanitizeUrlAndBypass(e),word:c,token:t.type};default:return e}}processUsernameToken(e){const t=e.substring(1),c=this.findNpubByUsername(t);if(c){const g=h.Qe.decode(c);return{safeWord:this.utilities.sanitizeUrlAndBypass(e),word:g.data,token:g.type}}return e}processLinkToken(e){return this.isImage(e)?{safeWord:this.utilities.sanitizeUrlAndBypass(e),word:e,token:"image"}:this.isVideo(e)?{safeWord:this.utilities.sanitizeUrlAndBypass(e),word:e,token:"video"}:this.isAudio(e)?{safeWord:this.utilities.sanitizeUrlAndBypass(e),word:e,token:"audio"}:this.isYouTube(e)?this.processYouTubeLink(e):this.isSpotify(e)?this.processSpotifyLink(e):this.isTidal(e)?this.processTidalLink(e):{word:e,token:"link"}}processYouTubeLink(e){const t=this.extractYouTubeId(e);return{safeWord:this.utilities.bypassFrameUrl(`https://www.youtube.com/embed/${t}`),word:`https://www.youtube.com/embed/${t}`,token:"youtube"}}processSpotifyLink(e){return{safeWord:this.utilities.sanitizeUrlAndBypassFrame(e.replace("open.spotify.com/","open.spotify.com/embed/")),word:e,token:"spotify"}}processTidalLink(e){const t=e.replace("tidal.com/browse/track/","embed.tidal.com/tracks/");return{safeWord:this.utilities.sanitizeUrlAndBypassFrame(t),word:e,token:"tidal"}}extractYouTubeId(e){const t=e.match(/(?:youtu\.be\/|youtube\.com\/watch\?v=)([^&]+)/);return t?t[1]:""}findNpubByUsername(e){}static{this.\u0275fac=function(t){return new(t||o)(l.KVO(y))}}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})()}}]);