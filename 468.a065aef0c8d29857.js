"use strict";(self.webpackChunkangor=self.webpackChunkangor||[]).push([[468],{5468:(S,y,a)=>{a.r(y),a.d(y,{default:()=>J});var m=a(467),b=a(9345),h=a(177),e=a(4438),u=a(8834),l=a(3),d=a(2408),s=a(9213),n=a(9042),p=a(7575),v=a(7250),k=a(450),I=a(4823),C=a(9183),_=a(5245),F=a(7291),K=a(1413),x=a(6977),E=a(8141),R=a(9437),B=a(7673),w=a(8098),D=a(8729),$=a(605),f=a(9969);let M=(()=>{class i{constructor(){this.displayText="",this.hasStarted=!1,this.days="00",this.hours="00",this.minutes="00",this.seconds="00",this.previousDays="00",this.previousHours="00",this.previousMinutes="00",this.previousSeconds="00"}ngOnInit(){this.subscription=(0,$.Y)(1e3).subscribe(()=>{this.updateTime()}),this.updateTime()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateTime(){const t=Math.floor(Date.now()/1e3),r=(this.hasStarted?this.expiryDate:this.startDate)-t;if(t>=this.startDate&&t<this.expiryDate)this.hasStarted=!0,this.displayText="Time Remaining";else{if(!(t<this.startDate))return this.hasStarted=!0,this.displayText="Expired",void(this.days=this.hours=this.minutes=this.seconds="00");this.hasStarted=!1,this.displayText="Starting in"}if(r>0){const c=Math.floor(r/86400),j=Math.floor(r%86400/3600),P=Math.floor(r%3600/60),H=r%60;this.previousDays=this.days,this.previousHours=this.hours,this.previousMinutes=this.minutes,this.previousSeconds=this.seconds,this.days=this.formatTimeUnit(c),this.hours=this.formatTimeUnit(j),this.minutes=this.formatTimeUnit(P),this.seconds=this.formatTimeUnit(H)}else this.days=this.hours=this.minutes=this.seconds="00"}formatTimeUnit(t){return t<10?"0"+t:t.toString()}static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["countdown-timer"]],inputs:{startDate:"startDate",expiryDate:"expiryDate"},decls:24,vars:11,consts:[[1,"countdown-container"],[1,"time-boxes-container"],[1,"time-box"],[1,"time-value"],[1,"time-label"],[1,"status-tooltip"]],template:function(o,r){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.EFF(4),e.k0s(),e.j41(5,"div",4),e.EFF(6,"Days"),e.k0s()(),e.j41(7,"div",2)(8,"div",3),e.EFF(9),e.k0s(),e.j41(10,"div",4),e.EFF(11,"Hours"),e.k0s()(),e.j41(12,"div",2)(13,"div",3),e.EFF(14),e.k0s(),e.j41(15,"div",4),e.EFF(16,"Min"),e.k0s()(),e.j41(17,"div",2)(18,"div",3),e.EFF(19),e.k0s(),e.j41(20,"div",4),e.EFF(21,"Sec"),e.k0s()()(),e.j41(22,"div",5),e.EFF(23),e.k0s()()),2&o&&(e.R7$(3),e.Y8G("@numberChange",r.days!==r.previousDays),e.R7$(),e.JRh(r.days),e.R7$(4),e.Y8G("@numberChange",r.hours!==r.previousHours),e.R7$(),e.JRh(r.hours),e.R7$(4),e.Y8G("@numberChange",r.minutes!==r.previousMinutes),e.R7$(),e.JRh(r.minutes),e.R7$(4),e.Y8G("@numberChange",r.seconds!==r.previousSeconds),e.R7$(),e.JRh(r.seconds),e.R7$(3),e.xc7("color",r.hasStarted?"#ff6e99":"#42f548"),e.R7$(),e.SpI(" ",r.displayText," "))},dependencies:[h.MD],styles:[".countdown-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:.5rem;position:absolute;top:130px;right:30px;transform:translateY(0);width:auto}.time-boxes-container[_ngcontent-%COMP%]{display:flex;gap:.75rem}.time-box[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border-radius:6px;padding:.5rem;min-width:55px;box-shadow:0 2px 4px #0000001a;text-align:center}.time-value[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;font-family:Monaco,monospace;margin-bottom:.15rem}.time-label[_ngcontent-%COMP%]{font-size:.65rem;text-transform:uppercase;opacity:.8}.status-tooltip[_ngcontent-%COMP%]{position:absolute;bottom:-25px;right:0;background:#000c;color:#fff;padding:4px 8px;border-radius:4px;font-size:.75rem;opacity:0;transition:opacity .2s ease-in-out;pointer-events:none;white-space:nowrap;z-index:10}.countdown-container[_ngcontent-%COMP%]:hover   .status-tooltip[_ngcontent-%COMP%]{opacity:1}@media (max-width: 600px){.countdown-container[_ngcontent-%COMP%]{justify-content:flex-end;margin-top:.25rem;width:auto;transform:translateY(0)}.time-boxes-container[_ngcontent-%COMP%]{gap:.5rem}.time-box[_ngcontent-%COMP%]{padding:.25rem;min-width:45px}.time-value[_ngcontent-%COMP%]{font-size:1rem}.time-label[_ngcontent-%COMP%]{font-size:.55rem}.status-tooltip[_ngcontent-%COMP%]{font-size:.65rem}}"],data:{animation:[(0,f.hZ)("numberChange",[(0,f.kY)(":increment",[(0,f.iF)({transform:"translateY(-100%)",opacity:0}),(0,f.i0)("500ms ease-out",(0,f.iF)({transform:"translateY(0)",opacity:1}))]),(0,f.kY)(":decrement",[(0,f.iF)({transform:"translateY(100%)",opacity:0}),(0,f.i0)("500ms ease-out",(0,f.iF)({transform:"translateY(0)",opacity:1}))])])]}})}}return i})();var T=a(833);const U=i=>["/chat",i];function G(i,g){if(1&i){const t=e.RV6();e.j41(0,"button",27),e.bIt("click",function(){e.eBV(t);const r=e.XpG(),c=e.sdS(20);return e.Njj(r.resetSearch(c))}),e.nrm(1,"mat-icon",28),e.k0s()}2&i&&(e.R7$(),e.Y8G("svgIcon","heroicons_solid:x-mark"))}function N(i,g){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const r=e.XpG(),c=e.sdS(20);return e.Njj(r.filterByQuery(c.value))}),e.nrm(1,"mat-icon",28),e.k0s()}2&i&&(e.R7$(),e.Y8G("svgIcon","heroicons_solid:magnifying-glass"))}function Y(i,g){if(1&i){const t=e.RV6();e.j41(0,"div",59),e.bIt("click",function(){e.eBV(t);const r=e.XpG().$implicit,c=e.XpG();return e.Njj(c.goToProjectDetails(r))}),e.EFF(1),e.k0s()}if(2&i){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.displayName||t.nostrPubKey," ")}}function A(i,g){if(1&i&&(e.j41(0,"div",60),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.displayName||t.nostrPubKey," ")}}function O(i,g){if(1&i){const t=e.RV6();e.j41(0,"div",61)(1,"div",62)(2,"button",63),e.nrm(3,"mat-icon",64),e.k0s()(),e.j41(4,"div",62)(5,"button",65),e.bIt("click",function(){e.eBV(t);const r=e.XpG().$implicit,c=e.XpG();return e.Njj(c.toggleBookmark(r.nostrPubKey))}),e.nrm(6,"mat-icon",64),e.nI1(7,"async"),e.k0s()()()}if(2&i){let t;const o=e.XpG().$implicit,r=e.XpG();e.R7$(2),e.Y8G("routerLink",e.eq3(5,U,o.nostrPubKey)),e.R7$(),e.Y8G("svgIcon","heroicons_outline:chat-bubble-left-right"),e.R7$(3),e.Y8G("svgIcon",null!=(t=e.bMT(7,3,r.bookmarks$))&&t.includes(o.nostrPubKey)?"heroicons_solid:bookmark":"heroicons_outline:bookmark")}}function L(i,g){if(1&i){const t=e.RV6();e.j41(0,"angor-card",23)(1,"div",30),e.nrm(2,"img",31),e.k0s(),e.j41(3,"div",32)(4,"div",33),e.nrm(5,"img",34),e.k0s(),e.j41(6,"div",35),e.nrm(7,"countdown-timer",36),e.k0s()(),e.j41(8,"div",37)(9,"div",38)(10,"div",39),e.DNE(11,Y,2,1,"div",40)(12,A,2,1,"div",41),e.j41(13,"div",42),e.EFF(14),e.k0s()(),e.DNE(15,O,8,7,"div",43),e.k0s(),e.nrm(16,"hr",44),e.j41(17,"div",45)(18,"div",46),e.nrm(19,"mat-icon",47),e.j41(20,"div",48)(21,"span",49),e.EFF(22,"Target Amount"),e.k0s(),e.j41(23,"span",50),e.EFF(24),e.nI1(25,"number"),e.k0s()()(),e.j41(26,"div",46),e.nrm(27,"mat-icon",47),e.j41(28,"div",48)(29,"span",49),e.EFF(30,"Start Date"),e.k0s(),e.j41(31,"span",50),e.EFF(32),e.nI1(33,"date"),e.k0s()()(),e.j41(34,"div",46),e.nrm(35,"mat-icon",47),e.j41(36,"div",48)(37,"span",49),e.EFF(38,"Penalty Days"),e.k0s(),e.j41(39,"span",50),e.EFF(40),e.k0s()()(),e.j41(41,"div",46),e.nrm(42,"mat-icon",47),e.j41(43,"div",48)(44,"span",49),e.EFF(45,"Expiry Date"),e.k0s(),e.j41(46,"span",50),e.EFF(47),e.nI1(48,"date"),e.k0s()()(),e.j41(49,"div",46),e.nrm(50,"mat-icon",47),e.j41(51,"div",48)(52,"span",49),e.EFF(53,"Stages"),e.k0s(),e.j41(54,"span",50),e.EFF(55),e.k0s()()(),e.j41(56,"div",46),e.nrm(57,"mat-icon",47),e.j41(58,"div",48)(59,"span",49),e.EFF(60,"Seeders"),e.k0s(),e.j41(61,"span",50),e.EFF(62),e.k0s()()()(),e.j41(63,"div",51)(64,"a",52)(65,"span",53),e.nrm(66,"mat-icon",54),e.j41(67,"span",55),e.EFF(68,"Invest Now"),e.k0s()()(),e.j41(69,"button",56),e.bIt("click",function(){const r=e.eBV(t).$implicit,c=e.XpG();return e.Njj(c.goToProjectDetails(r))}),e.j41(70,"span",53),e.nrm(71,"mat-icon",57),e.j41(72,"span",58),e.EFF(73,"View Details"),e.k0s()()()()()()}if(2&i){const t=g.$implicit,o=e.XpG();e.R7$(2),e.Y8G("src",t.banner||"/images/pages/profile/cover.jpg",e.B4B),e.R7$(3),e.Y8G("src",t.picture||"images/avatars/avatar-placeholder.png",e.B4B),e.R7$(2),e.Y8G("startDate",t.startDate)("expiryDate",t.expiryDate),e.R7$(4),e.Y8G("ngIf",t.displayName||t.name),e.R7$(),e.Y8G("ngIf",!t.name&&!t.displayName),e.R7$(2),e.SpI(" ",t.about||"No description available"," "),e.R7$(),e.Y8G("ngIf",t.displayName||t.name),e.R7$(4),e.Y8G("svgIcon","heroicons_outline:currency-dollar"),e.R7$(5),e.Lme("",e.bMT(25,24,t.targetAmount)," ","mainnet"===o.indexerService.getNetwork()?"BTC":"TBTC",""),e.R7$(3),e.Y8G("svgIcon","heroicons_outline:calendar"),e.R7$(5),e.JRh(e.bMT(33,26,1e3*t.startDate)),e.R7$(3),e.Y8G("svgIcon","heroicons_outline:clock"),e.R7$(5),e.SpI("",t.penaltyDays," days"),e.R7$(2),e.Y8G("svgIcon","heroicons_outline:calendar"),e.R7$(5),e.JRh(e.bMT(48,28,1e3*t.expiryDate)),e.R7$(3),e.Y8G("svgIcon","heroicons_outline:chart-bar"),e.R7$(5),e.JRh((null==t.stages?null:t.stages.length)||0),e.R7$(2),e.Y8G("svgIcon","heroicons_outline:user-group"),e.R7$(5),e.JRh((null==t.projectSeeders||null==t.projectSeeders.secretHashes?null:t.projectSeeders.secretHashes.length)||0),e.R7$(2),e.Y8G("href",("mainnet"===o.indexerService.getNetwork()?"https://beta.angor.io/view/":"https://test.angor.io/view/")+t.projectIdentifier,e.B4B),e.R7$(2),e.Y8G("svgIcon","heroicons_solid:circle-stack"),e.R7$(5),e.Y8G("svgIcon","heroicons_outline:document-text")}}function X(i,g){1&i&&(e.j41(0,"div",66),e.nrm(1,"mat-icon",67),e.j41(2,"div",68),e.EFF(3," No projects "),e.k0s()()),2&i&&(e.R7$(),e.Y8G("svgIcon","heroicons_outline:archive-box-x-mark"))}function V(i,g){if(1&i&&e.DNE(0,X,4,1,"div",66),2&i){const t=e.XpG();e.vxM(0===t.projectDetails().length?0:-1)}}function z(i,g){1&i&&(e.j41(0,"div",24),e.nrm(1,"mat-progress-spinner",69),e.j41(2,"div",70),e.EFF(3," Loading projects... "),e.k0s()())}function Q(i,g){if(1&i){const t=e.RV6();e.j41(0,"div",25)(1,"button",71),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.loadMoreProjects())}),e.EFF(2),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(),e.Y8G("disabled",t.loading()),e.R7$(),e.SpI(" ",t.loading()?"Loading...":"Load More Projects"," ")}}function W(i,g){if(1&i&&(e.j41(0,"div",26),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.errorMessage()," ")}}const J=[{path:"",component:(()=>{class i{constructor(){this.projectService=(0,e.WQX)(D.i),this.storageService=(0,e.WQX)(F.n),this.changeDetectorRef=(0,e.WQX)(e.gRc),this.router=(0,e.WQX)(_.Ix),this.bookmarkService=(0,e.WQX)(w.U),this.indexerService=(0,e.WQX)(T.F),this.projects=[],this.projectDetails=(0,e.vPA)([]),this.filteredProjects=[],this.loading=(0,e.vPA)(!1),this.errorMessage=(0,e.vPA)(""),this.noMoreProjects=!1,this.showCloseSearchButton=(0,e.vPA)(!1),this.bookmarkedProjectNpubs=[],this.initialLoadComplete=(0,e.vPA)(!1),this._unsubscribeAll=new K.B,this.bookmarks$=this.bookmarkService.bookmarks$}ngOnInit(){var t=this;return(0,m.A)(function*(){yield t.bookmarkService.initializeForCurrentUser(),t.loadInitialProjects(),t.subscribeToProjectsUpdates(),t.subscribeToLoading(),t.subscribeToNoMoreProjects(),t.subscribeToBookmarkChanges()})()}loadInitialProjects(){this.projectService.resetProjects(),this.loading.set(!0),this.initialLoadComplete.set(!1),this.projectService.fetchProjects().pipe((0,x.Q)(this._unsubscribeAll)).subscribe({next:t=>{this.projects=t,this.filteredProjects=this.projectDetails(),this.updateBookmarkStatus(),this.fetchProjectDetails(t),this.initialLoadComplete.set(!0),this.changeDetectorRef.detectChanges(),console.log(t)}})}subscribeToBookmarkChanges(){this.bookmarks$.pipe((0,x.Q)(this._unsubscribeAll)).subscribe(t=>{this.bookmarkedProjectNpubs=t,this.updateBookmarkStatus(),this.changeDetectorRef.detectChanges()})}updateBookmarkStatus(){this.projectDetails().forEach(t=>{t.isBookmarked=this.bookmarkedProjectNpubs.includes(t.nostrPubKey)}),this.filteredProjects=[...this.projectDetails()]}fetchMetadataForProjects(t){var o=this;return(0,m.A)(function*(){for(const r of t)try{const c=yield o.storageService.getProfile(r.nostrPubKey);c?o.updateProjectMetadata(r,c):console.warn(`No metadata found for project with pubKey: ${r.nostrPubKey}`)}catch(c){console.error(`Error fetching metadata for pubKey: ${r.nostrPubKey}`,c)}})()}fetchProjectDetails(t){var o=this;return(0,m.A)(function*(){for(const r of t)try{const c=yield o.storageService.getProjectDetails(r.projectIdentifier);if(c){o.projectDetails.update(P=>[...P,c]);const j=yield o.storageService.getProfile(c.nostrPubKey);j?o.updateProjectMetadata(c,j):console.warn(`No metadata found for project with nostrPubKey: ${c.nostrPubKey}`)}else console.warn(`No details found for project with eventId: ${r.nostrEventId}`)}catch(c){console.error(`Error fetching details for eventId: ${r.nostrEventId}`,c)}})()}subscribeToProjectsUpdates(){this.storageService.profile$.pipe((0,x.Q)(this._unsubscribeAll)).subscribe(t=>{if(t&&t.pubKey){const o=this.projectDetails().find(r=>r.nostrPubKey===t.pubKey);o&&(this.updateProjectMetadata(o,t.metadata),this.changeDetectorRef.detectChanges())}})}updateProjectMetadata(t,o){t.displayName=o.name||t.displayName,t.about=o.about||t.about,t.picture=o.picture||t.picture,t.banner=o.banner||t.banner}loadMoreProjects(){this.projectService.fetchProjects().pipe((0,x.Q)(this._unsubscribeAll)).subscribe({next:t=>{const o=t.filter(r=>!this.projects.some(c=>c.projectIdentifier===r.projectIdentifier));this.projects=[...this.projects,...o],this.filteredProjects=[...this.projectDetails()],this.fetchProjectDetails(o),this.changeDetectorRef.detectChanges()},error:t=>{this.errorMessage.set("Error loading more projects"),this.changeDetectorRef.detectChanges()}})}subscribeToLoading(){this.projectService.loading$.pipe((0,x.Q)(this._unsubscribeAll)).subscribe(t=>{this.loading.set(t),this.changeDetectorRef.detectChanges()})}subscribeToNoMoreProjects(){this.projectService.noMoreProjects$.pipe((0,x.Q)(this._unsubscribeAll)).subscribe(t=>{this.noMoreProjects=t,this.changeDetectorRef.detectChanges()})}trackByFn(t,o){return o.projectIdentifier||t}goToProjectDetails(t){this.indexerService.getNetwork(),this.projectService.fetchProjectStats(t.projectIdentifier).pipe((0,E.M)(c=>{this.storageService.saveProjectStats(t.projectIdentifier,c)}),(0,E.M)(()=>{this.router.navigate(["/profile",t.nostrPubKey,t.projectIdentifier])}),(0,R.W)(c=>(console.error(`Failed to navigate to project details for ${t.projectIdentifier}:`,c),(0,B.of)(null)))).subscribe()}filterByQuery(t){if(!t||""===t.trim())return this.filteredProjects=[...this.projectDetails()],this.showCloseSearchButton.set(!1),void this.changeDetectorRef.detectChanges();const o=t.toLowerCase();this.filteredProjects=this.projectDetails().filter(r=>r.displayName&&r.displayName.toLowerCase().includes(o)||r.about&&r.about.toLowerCase().includes(o)||r.displayName&&r.displayName.toLowerCase().includes(o)||r.nostrPubKey&&r.nostrPubKey.toLowerCase().includes(o)||r.projectIdentifier&&r.projectIdentifier.toLowerCase().includes(o)),this.showCloseSearchButton.set(this.projects.length>0),this.changeDetectorRef.detectChanges()}resetSearch(t){t.value="",this.filterByQuery(""),this.showCloseSearchButton.set(!1)}toggleBookmark(t){var o=this;return(0,m.A)(function*(){(yield o.bookmarkService.isBookmarked(t))?yield o.bookmarkService.removeBookmark(t):yield o.bookmarkService.addBookmark(t)})()}isProjectBookmarked(t){var o=this;return(0,m.A)(function*(){return yield o.bookmarkService.isBookmarked(t)})()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["explore"]],decls:33,vars:9,consts:[["query",""],[1,"flex","min-w-0","flex-auto","flex-col"],[1,"dark","relative","flex-0","overflow-hidden","bg-gray-800","px-4","py-8","sm:p-16"],["viewBox","0 0 960 540","width","100%","height","100%","preserveAspectRatio","xMidYMax slice","xmlns","http://www.w3.org/2000/svg",1,"pointer-events-none","absolute","inset-0"],["fill","none","stroke","currentColor","stroke-width","100",1,"text-gray-700","opacity-25"],["r","234","cx","196","cy","23"],["r","234","cx","790","cy","491"],[1,"relative","z-10","flex","flex-col","items-center"],[1,"text-xl","font-semibold"],[1,"mt-1","text-center","text-4xl","font-extrabold","leading-tight","tracking-tight","sm:text-7xl"],[1,"text-secondary","mt-6","max-w-2xl","text-center","tracking-tight","sm:text-2xl"],[1,"p-6","sm:p-10"],[1,"mx-auto","flex","w-full","max-w-xs","flex-auto","flex-col","sm:max-w-5xl"],[1,"flex","w-full","max-w-xs","flex-col","items-center","justify-between","sm:max-w-none","sm:flex-row"],[1,"flex","w-full","items-center","space-x-2","sm:w-auto"],[1,"mt-4","w-full","sm:w-80",3,"keyup.enter","subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["placeholder","Search ...","matInput",""],["mat-icon-button","","color","warn",1,"mt-4"],["mat-icon-button","","color","success",1,"mt-4"],[1,"mt-8","sm:ml-auto","sm:mt-0",3,"color"],[1,"mx-auto","flex","w-full","flex-auto","flex-col","sm:max-w-5xl"],[1,"mt-10","grid","w-full","min-w-0","grid-cols-1","gap-6","sm:grid-cols-1","md:grid-cols-1","lg:grid-cols-2"],[1,"filter-info","flex","w-full","flex-col"],[1,"flex","flex-auto","flex-col","items-center","justify-center"],[1,"mt-10","flex","justify-center"],[1,"error-message"],["mat-icon-button","","color","warn",1,"mt-4",3,"click"],[3,"svgIcon"],["mat-icon-button","","color","success",1,"mt-4",3,"click"],[1,"flex","h-32"],["alt","Card cover image","onerror","this.onerror=null; this.src='/images/pages/profile/cover.jpg';","alt","Card cover image",1,"object-cover",3,"src"],[1,"flex","px-8","items-center","justify-between"],[1,"bg-card","-mt-12","rounded-full","p-1","shadow-lg","profile-picture"],["onerror","this.onerror=null; this.src='/images/avatars/avatar-placeholder.png';","alt","Project logo",1,"h-24","w-24","rounded-full","object-cover",3,"src"],[1,"ml-auto"],[3,"startDate","expiryDate"],[1,"flex","flex-col","px-8","pb-6","pt-4"],[1,"flex","items-center","justify-between"],[1,"min-w-0","flex-1"],["class","truncate text-2xl font-semibold leading-tight","role","button",3,"click",4,"ngIf"],["class","truncate text-2xl font-semibold leading-tight",4,"ngIf"],[1,"text-secondary","mt-1","truncate","leading-tight"],["class","absolute right-2 top-2 flex space-x-2",4,"ngIf"],[1,"my-6","w-full","border-t"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4"],[1,"flex","items-center","space-x-2","p-4","bg-white","shadow-md","rounded-lg"],[1,"text-primary","text-3xl",3,"svgIcon"],[1,"flex","flex-col"],[1,"text-sm","text-gray-500"],[1,"font-semibold"],[1,"mt-6","grid","grid-cols-1","sm:grid-cols-2","gap-4"],["target","_blank",1,"group","relative","inline-flex","items-center","justify-center","overflow-hidden","rounded-lg","bg-primary","p-0.5","text-sm","font-medium","hover:bg-primary-700","focus:outline-none","focus:ring-4","focus:ring-primary-300","dark:bg-primary","dark:hover:bg-primary-600","dark:focus:ring-primary-800","w-full",3,"href"],[1,"relative","flex","items-center","justify-center","gap-2","rounded-md","bg-card","w-full","px-4","py-2.5","transition-all","duration-75","ease-in","group-hover:bg-opacity-0"],[1,"icon-size-5","text-primary","dark:text-primary-400","group-hover:text-white",3,"svgIcon"],[1,"text-primary","dark:text-primary-400","group-hover:text-white"],[1,"group","relative","inline-flex","items-center","justify-center","overflow-hidden","rounded-lg","bg-gray-200","dark:bg-gray-700","p-0.5","text-sm","font-medium","hover:bg-gray-300","dark:hover:bg-gray-600","focus:outline-none","focus:ring-4","focus:ring-gray-300","dark:focus:ring-gray-800","w-full",3,"click"],[1,"icon-size-5","text-gray-700","dark:text-gray-300","group-hover:text-white",3,"svgIcon"],[1,"text-gray-700","dark:text-gray-300","group-hover:text-white"],["role","button",1,"truncate","text-2xl","font-semibold","leading-tight",3,"click"],[1,"truncate","text-2xl","font-semibold","leading-tight"],[1,"absolute","right-2","top-2","flex","space-x-2"],[1,"flex","h-10","w-10","items-center","justify-center","rounded-full","border","bg-white","shadow-md"],["mat-icon-button","",3,"routerLink"],[1,"icon-size-5",3,"svgIcon"],["mat-icon-button","",3,"click"],[1,"flex","flex-auto","flex-col","items-center","justify-center","bg-gray-100","dark:bg-transparent"],[1,"icon-size-24",3,"svgIcon"],[1,"text-secondary","mt-4","text-2xl","font-semibold","tracking-tight"],["mode","indeterminate","diameter","48"],[1,"text-secondary","mt-4","text-xl"],["mat-raised-button","","color","primary",1,"bg-card","text-gray-700","hover:bg-gray-200","dark:text-gray-300","dark:hover:bg-gray-700",3,"click","disabled"]],template:function(o,r){if(1&o){const c=e.RV6();e.j41(0,"div",1)(1,"div",2),e.qSk(),e.j41(2,"svg",3)(3,"g",4),e.nrm(4,"circle",5)(5,"circle",6),e.k0s()(),e.joV(),e.j41(6,"div",7)(7,"h2",8),e.EFF(8,"Explore Projects"),e.k0s(),e.j41(9,"div",9),e.EFF(10," What\u2019s your next investment? "),e.k0s(),e.j41(11,"div",10),e.EFF(12," Check out our projects and find your next investment opportunity. "),e.k0s()()(),e.j41(13,"div",11)(14,"div",12)(15,"div",13)(16,"div",14)(17,"mat-form-field",15),e.bIt("keyup.enter",function(){e.eBV(c);const P=e.sdS(20);return e.Njj(r.filterByQuery(P.value))}),e.nrm(18,"mat-icon",16)(19,"input",17,0),e.k0s(),e.DNE(21,G,2,1,"button",18)(22,N,2,1,"button",19),e.k0s(),e.j41(23,"mat-slide-toggle",20),e.EFF(24," Hide completed "),e.k0s()()(),e.j41(25,"div",21)(26,"div",22),e.Z7z(27,L,74,30,"angor-card",23,e.Vm6),e.k0s(),e.DNE(29,V,1,1)(30,z,4,0,"div",24)(31,Q,3,2,"div",25)(32,W,2,1,"div",26),e.k0s()()()}2&o&&(e.R7$(17),e.Y8G("subscriptSizing","dynamic"),e.R7$(),e.Y8G("svgIcon","heroicons_solid:magnifying-glass"),e.R7$(3),e.vxM(r.showCloseSearchButton()?21:-1),e.R7$(),e.vxM(r.showCloseSearchButton()?-1:22),e.R7$(),e.Y8G("color","primary"),e.R7$(4),e.Dyx(r.projectDetails()),e.R7$(2),e.vxM(!r.loading()||r.initialLoadComplete()?29:-1),e.R7$(),e.vxM(r.loading()&&!r.initialLoadComplete()?30:-1),e.R7$(),e.vxM(r.projectDetails().length>0?31:-1),e.R7$(),e.vxM(!r.loading()&&r.errorMessage()?32:-1))},dependencies:[_.Wk,u.Hl,u.$z,u.iY,s.m_,s.An,b.n,d.RG,d.rl,d.JW,v.Ve,l.Sy,n.fS,n.fg,k.mV,k.sG,I.uc,p.PO,h.MD,h.bT,h.Jj,h.QX,h.vh,C.D6,C.LG,M],styles:["@media (max-width: 600px){.profile-picture img{height:18px;width:18px}}\n"],encapsulation:2})}}return i})()}]},8098:(S,y,a)=>{a.d(y,{U:()=>u});var m=a(467),b=a(4412),h=a(4438),e=a(6324);let u=(()=>{class l{constructor(s){this._signerService=s,this.STORAGE_KEY="userBookmarkedProjects",this.bookmarksSubject=new b.t([]),this.bookmarks$=this.bookmarksSubject.asObservable(),this.currentUserPubKey=null,window.addEventListener("storage",n=>{n.key===this.STORAGE_KEY&&this.refreshBookmarksForCurrentUser()})}initializeForCurrentUser(){var s=this;return(0,m.A)(function*(){s.clearBookmarks(),s.currentUserPubKey=yield s._signerService.getPublicKey(),s.currentUserPubKey&&(yield s.loadBookmarksForCurrentUser())})()}clearBookmarks(){this.bookmarksSubject.next([])}loadBookmarksForCurrentUser(){var s=this;return(0,m.A)(function*(){if(!s.currentUserPubKey)return;const p=s.getUserBookmarks()[s.currentUserPubKey]||[];s.bookmarksSubject.next(p)})()}getUserBookmarks(){const s=localStorage.getItem(this.STORAGE_KEY);return s?JSON.parse(s):{}}saveUserBookmarks(s){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(s))}addBookmark(s){var n=this;return(0,m.A)(function*(){if(!n.currentUserPubKey&&(n.currentUserPubKey=yield n._signerService.getPublicKey(),!n.currentUserPubKey))return void console.warn("No public key found for the current user.");const p=n.getUserBookmarks(),v=p[n.currentUserPubKey]||[];v.includes(s)||(v.push(s),p[n.currentUserPubKey]=v,n.saveUserBookmarks(p),n.bookmarksSubject.next(v))})()}removeBookmark(s){var n=this;return(0,m.A)(function*(){if(!n.currentUserPubKey&&(n.currentUserPubKey=yield n._signerService.getPublicKey(),!n.currentUserPubKey))return void console.warn("No public key found for the current user.");const p=n.getUserBookmarks(),k=(p[n.currentUserPubKey]||[]).filter(I=>I!==s);p[n.currentUserPubKey]=k,n.saveUserBookmarks(p),n.bookmarksSubject.next(k)})()}isBookmarked(s){var n=this;return(0,m.A)(function*(){return n.currentUserPubKey||(n.currentUserPubKey=yield n._signerService.getPublicKey(),n.currentUserPubKey)?(n.getUserBookmarks()[n.currentUserPubKey]||[]).includes(s):(console.warn("No public key found for the current user."),!1)})()}getBookmarks(){var s=this;return(0,m.A)(function*(){return s.currentUserPubKey||(s.currentUserPubKey=yield s._signerService.getPublicKey(),s.currentUserPubKey)?s.getUserBookmarks()[s.currentUserPubKey]||[]:(console.warn("No public key found for the current user."),[])})()}removeAllBookmarks(){var s=this;return(0,m.A)(function*(){if(!s.currentUserPubKey&&(s.currentUserPubKey=yield s._signerService.getPublicKey(),!s.currentUserPubKey))return void console.warn("No public key found for the current user.");const n=s.getUserBookmarks();n[s.currentUserPubKey]=[],s.saveUserBookmarks(n),s.bookmarksSubject.next([])})()}refreshBookmarksForCurrentUser(){this.currentUserPubKey&&this.loadBookmarksForCurrentUser()}static{this.\u0275fac=function(n){return new(n||l)(h.KVO(e.A))}}static{this.\u0275prov=h.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})()},833:(S,y,a)=>{a.d(y,{F:()=>b});var m=a(4438);let b=(()=>{class h{constructor(){this.mainnetLocalStorageKey="mainnetIndexers",this.testnetLocalStorageKey="testnetIndexers",this.mainnetPrimaryIndexerKey="mainnetPrimaryIndexer",this.testnetPrimaryIndexerKey="testnetPrimaryIndexer",this.networkStorageKey="selectedNetwork",this.defaultMainnetIndexer="https://btc.indexer.angor.io/",this.defaultTestnetIndexer="https://tbtc.indexer.angor.io/",this.initializeDefaultIndexers()}initializeDefaultIndexers(){0===this.getIndexers("mainnet").length&&(this.addIndexer(this.defaultMainnetIndexer,"mainnet"),this.setPrimaryIndexer(this.defaultMainnetIndexer,"mainnet")),0===this.getIndexers("testnet").length&&(this.addIndexer(this.defaultTestnetIndexer,"testnet"),this.setPrimaryIndexer(this.defaultTestnetIndexer,"testnet"))}addIndexer(u,l){let d=this.getIndexers(l);d.includes(u)||(d.push(u),this.saveIndexers(d,l))}getIndexers(u){return JSON.parse(localStorage.getItem("mainnet"===u?this.mainnetLocalStorageKey:this.testnetLocalStorageKey)||"[]")}saveIndexers(u,l){localStorage.setItem("mainnet"===l?this.mainnetLocalStorageKey:this.testnetLocalStorageKey,JSON.stringify(u))}setPrimaryIndexer(u,l){this.getIndexers(l).includes(u)&&localStorage.setItem("mainnet"===l?this.mainnetPrimaryIndexerKey:this.testnetPrimaryIndexerKey,u)}getPrimaryIndexer(u){return localStorage.getItem("mainnet"===u?this.mainnetPrimaryIndexerKey:this.testnetPrimaryIndexerKey)}removeIndexer(u,l){let d=this.getIndexers(l);const s=d.indexOf(u);-1!==s&&(d.splice(s,1),this.saveIndexers(d,l),u===this.getPrimaryIndexer(l))&&localStorage.removeItem("mainnet"===l?this.mainnetPrimaryIndexerKey:this.testnetPrimaryIndexerKey)}clearAllIndexers(u){const d="mainnet"===u?this.mainnetPrimaryIndexerKey:this.testnetPrimaryIndexerKey;localStorage.removeItem("mainnet"===u?this.mainnetLocalStorageKey:this.testnetLocalStorageKey),localStorage.removeItem(d)}setNetwork(u){localStorage.setItem(this.networkStorageKey,u)}getNetwork(){return localStorage.getItem(this.networkStorageKey)||"testnet"}static{this.\u0275fac=function(l){return new(l||h)}}static{this.\u0275prov=m.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()}}]);