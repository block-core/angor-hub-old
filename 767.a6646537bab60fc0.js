"use strict";(self.webpackChunkangor=self.webpackChunkangor||[]).push([[767],{2773:(C,m,r)=>{r.d(m,{n:()=>_});var l=r(6146),v=r(3022),n=r(3107);const u=[[["","angorCardFront",""]],[["","angorCardBack",""]],"*",[["","angorCardExpansion",""]]],k=["[angorCardFront]","[angorCardBack]","*","[angorCardExpansion]"];function h(s,b){1&s&&(n.j41(0,"div",0),n.SdG(1),n.k0s(),n.j41(2,"div",1),n.SdG(3,1),n.k0s())}function x(s,b){1&s&&(n.j41(0,"div",2),n.SdG(1,3),n.k0s()),2&s&&n.Y8G("@expandCollapse",void 0)}function y(s,b){if(1&s&&(n.SdG(0,2),n.DNE(1,x,2,1,"div",2)),2&s){const c=n.XpG();n.R7$(),n.vxM(c.expanded?1:-1)}}let _=(()=>{class s{constructor(){this.expanded=!1,this.face="front",this.flippable=!1}get classList(){return{"angor-card-expanded":this.expanded,"angor-card-face-back":this.flippable&&"back"===this.face,"angor-card-face-front":this.flippable&&"front"===this.face,"angor-card-flippable":this.flippable}}ngOnChanges(c){"expanded"in c&&(this.expanded=(0,v.he)(c.expanded.currentValue)),"flippable"in c&&(this.flippable=(0,v.he)(c.flippable.currentValue))}static{this.\u0275fac=function(d){return new(d||s)}}static{this.\u0275cmp=n.VBU({type:s,selectors:[["angor-card"]],hostVars:2,hostBindings:function(d,f){2&d&&n.HbH(f.classList)},inputs:{expanded:"expanded",face:"face",flippable:"flippable"},exportAs:["angorCard"],features:[n.OA$],ngContentSelectors:k,decls:2,vars:2,consts:[[1,"angor-card-front"],[1,"angor-card-back"],[1,"angor-card-expansion"]],template:function(d,f){1&d&&(n.NAR(u),n.DNE(0,h,4,0)(1,y,2,1)),2&d&&(n.vxM(f.flippable?0:-1),n.R7$(),n.vxM(f.flippable?-1:1))},styles:["angor-card{position:relative;display:flex;overflow:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--angor-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}angor-card.angor-card-flippable{border-radius:0;overflow:visible;transform-style:preserve-3d;transition:transform 1s;perspective:600px;background:transparent;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}angor-card.angor-card-flippable.angor-card-face-back .angor-card-front{visibility:hidden;opacity:0;transform:rotateY(180deg)}angor-card.angor-card-flippable.angor-card-face-back .angor-card-back{visibility:visible;opacity:1;transform:rotateY(360deg)}angor-card.angor-card-flippable .angor-card-front,angor-card.angor-card-flippable .angor-card-back{display:flex;flex-direction:column;flex:1 1 auto;z-index:10;transition:transform .5s ease-out 0s,visibility 0s ease-in .2s,opacity 0s ease-in .2s;backface-visibility:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--angor-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}angor-card.angor-card-flippable .angor-card-front{position:relative;opacity:1;visibility:visible;transform:rotateY(0);overflow:hidden}angor-card.angor-card-flippable .angor-card-back{position:absolute;inset:0;opacity:0;visibility:hidden;transform:rotateY(180deg);overflow:hidden auto}\n"],encapsulation:2,data:{animation:l.F}})}}return s})()},7785:(C,m,r)=>{r.d(m,{n:()=>l.n});var l=r(2773)},6767:(C,m,r)=>{r.r(m),r.d(m,{default:()=>A});var l=r(3014),v=r(7785),n=r(4460),u=r(9471),k=r(2902),h=r(6071),x=r(3904),y=r(6389),_=r(2322),s=r(4375),b=r(1371),c=r(7712),d=r(8447),f=r(5424),o=r(3107),j=r(7112),w=r(3149),B=r(8716);const F=()=>[],P=a=>({"-ml-3":a});function $(a,p){if(1&a){const t=o.RV6();o.j41(0,"div",32),o.bIt("click",function(){o.eBV(t);const i=o.XpG().$implicit,g=o.XpG();return o.Njj(g.goToProjectDetails(i))}),o.EFF(1),o.k0s()}if(2&a){const t=o.XpG().$implicit;o.R7$(),o.SpI(" ",t.displayName||t.nostrPubKey," ")}}function G(a,p){if(1&a&&(o.j41(0,"div",25),o.EFF(1),o.k0s()),2&a){const t=o.XpG().$implicit;o.R7$(),o.SpI(" ",t.displayName||t.nostrPubKey," ")}}function E(a,p){if(1&a){const t=o.RV6();o.j41(0,"div",27)(1,"div",33)(2,"button",34),o.bIt("click",function(){o.eBV(t);const i=o.XpG().$implicit,g=o.XpG();return o.Njj(g.openChat(i.nostrPubKey))}),o.nrm(3,"mat-icon",35),o.k0s()(),o.j41(4,"div",33)(5,"button",34),o.bIt("click",function(){o.eBV(t);const i=o.XpG().$implicit,g=o.XpG();return o.Njj(g.toggleBookmark(i.projectIdentifier))}),o.nrm(6,"mat-icon",35),o.nI1(7,"async"),o.k0s()()()}if(2&a){let t;const e=o.XpG().$implicit,i=o.XpG();o.R7$(3),o.Y8G("svgIcon","heroicons_outline:chat-bubble-left-right"),o.R7$(3),o.Y8G("svgIcon",null!=(t=o.bMT(7,2,i.bookmarks$))&&t.includes(e.projectIdentifier)?"heroicons_solid:bookmark":"heroicons_outline:bookmark")}}function I(a,p){if(1&a&&(o.qex(0),o.nrm(1,"img",36),o.bVm()),2&a){const t=o.XpG().index,e=o.XpG().$implicit;o.R7$(),o.Mz_("alt","Investor avatar ",t+1,""),o.Y8G("ngClass",o.eq3(4,P,e.totalInvestmentsCount>1&&t>0))("src","images/avatars/avatar-placeholder.png",o.B4B)}}function R(a,p){if(1&a&&(o.qex(0),o.DNE(1,I,2,6,"ng-container",14),o.bVm()),2&a){const t=p.index;o.R7$(),o.Y8G("ngIf",t<10)}}function T(a,p){if(1&a&&(o.qex(0),o.j41(1,"angor-card",15)(2,"div",16),o.nrm(3,"img",17),o.k0s(),o.j41(4,"div",18)(5,"div",19),o.nrm(6,"img",20),o.k0s()(),o.j41(7,"div",21)(8,"div",22)(9,"div",23),o.DNE(10,$,2,1,"div",24)(11,G,2,1,"div",25),o.j41(12,"div",26),o.EFF(13),o.k0s()(),o.DNE(14,E,8,4,"div",27),o.k0s(),o.nrm(15,"hr",28),o.j41(16,"div",22)(17,"div",29),o.EFF(18),o.k0s(),o.j41(19,"div",30),o.DNE(20,R,2,1,"ng-container",31),o.k0s()()()(),o.bVm()),2&a){const t=p.$implicit;o.R7$(3),o.Y8G("src",t.banner||"/images/pages/profile/cover.jpg",o.B4B),o.R7$(3),o.Y8G("src",t.picture||"images/avatars/avatar-placeholder.png",o.B4B),o.R7$(4),o.vxM(t.displayName||t.name?10:-1),o.R7$(),o.vxM(t.name||t.displayName?-1:11),o.R7$(2),o.SpI(" ",t.about||"No description available"," "),o.R7$(),o.vxM(t.displayName||t.name?14:-1),o.R7$(4),o.SpI(" ",t.totalInvestmentsCount||0," investors "),o.R7$(2),o.Y8G("ngForOf",o.lJ4(8,F).constructor(t.totalInvestmentsCount||0))}}function S(a,p){1&a&&(o.qex(0),o.j41(1,"div",37),o.nrm(2,"mat-icon",38),o.j41(3,"div",39),o.EFF(4," No project "),o.k0s()(),o.bVm()),2&a&&(o.R7$(2),o.Y8G("svgIcon","heroicons_outline:archive-box-x-mark"))}const A=[{path:"",component:(()=>{class a{constructor(t,e,i){this._bookmarkService=t,this._storageService=e,this._router=i,this.savedProjects=[],this._unsubscribeAll=new d.B,this.bookmarks$=this._bookmarkService.bookmarks$}ngOnInit(){var t=this;return(0,l.A)(function*(){yield t._bookmarkService.initializeForCurrentUser(),yield t.loadBookmarkedProjects(),t.subscribeToBookmarkChanges()})()}trackByFn(t,e){return e.projectIdentifier||t}loadBookmarkedProjects(){var t=this;return(0,l.A)(function*(){const e=yield t._bookmarkService.getBookmarks(),i=yield t._storageService.getProjectsByIds(e);t.savedProjects=i,t.fetchMetadataForProjects(t.savedProjects)})()}subscribeToBookmarkChanges(){var t=this;this.bookmarks$.pipe((0,f.Q)(this._unsubscribeAll)).subscribe(function(){var e=(0,l.A)(function*(i){const g=yield t._storageService.getProjectsByIds(i);t.savedProjects=g,t.fetchMetadataForProjects(t.savedProjects)});return function(i){return e.apply(this,arguments)}}())}fetchMetadataForProjects(t){t.forEach(e=>{this._storageService.getProfile(e.nostrPubKey).then(i=>{i&&this.updateProjectMetadata(e,i)})})}updateProjectMetadata(t,e){t.displayName=e.name||t.displayName,t.about=e.about||t.about,t.picture=e.picture||t.picture,t.banner=e.banner||t.banner}toggleBookmark(t){var e=this;return(0,l.A)(function*(){(yield e._bookmarkService.isBookmarked(t))?yield e._bookmarkService.removeBookmark(t):yield e._bookmarkService.addBookmark(t)})()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}goToProjectDetails(t){this._router.navigate(["/profile",t.nostrPubKey])}openChat(t){this._router.navigate(["/chat",t])}static{this.\u0275fac=function(e){return new(e||a)(o.rXU(j.U),o.rXU(w.n),o.rXU(B.Ix))}}static{this.\u0275cmp=o.VBU({type:a,selectors:[["app-bookmark"]],decls:18,vars:3,consts:[[1,"flex","min-w-0","flex-auto","flex-col"],[1,"dark","relative","flex-0","overflow-hidden","bg-gray-800","px-4","py-8","sm:p-16"],["viewBox","0 0 960 540","width","100%","height","100%","preserveAspectRatio","xMidYMax slice","xmlns","http://www.w3.org/2000/svg",1,"pointer-events-none","absolute","inset-0"],["fill","none","stroke","currentColor","stroke-width","100",1,"text-gray-700","opacity-25"],["r","234","cx","196","cy","23"],["r","234","cx","790","cy","491"],[1,"relative","z-10","flex","flex-col","items-center"],[1,"text-xl","font-semibold"],[1,"mt-1","text-center","text-4xl","font-extrabold","leading-tight","tracking-tight","sm:text-7xl"],[1,"text-secondary","mt-6","max-w-2xl","text-center","tracking-tight","sm:text-2xl"],[1,"p-6","sm:p-10"],[1,"mx-auto","flex","w-full","flex-auto","flex-col","sm:max-w-5xl"],[1,"mt-10","grid","w-full","min-w-0","grid-cols-1","gap-6","sm:grid-cols-1","md:grid-cols-1","lg:grid-cols-2"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"filter-info","flex","w-full","flex-col"],[1,"flex","h-32"],["alt","Card cover image","onerror","this.onerror=null; this.src='/images/pages/profile/cover.jpg';","alt","Card cover image",1,"object-cover",3,"src"],[1,"flex","px-8"],[1,"bg-card","-mt-12","rounded-full","p-1"],["onerror","this.onerror=null; this.src='/images/avatars/avatar-placeholder.png';","alt","Project logo",1,"h-24","w-24","rounded-full","object-cover",3,"src"],[1,"flex","flex-col","px-8","pb-6","pt-4"],[1,"flex","items-center","justify-between"],[1,"min-w-0","flex-1"],["role","button",1,"truncate","text-2xl","font-semibold","leading-tight"],[1,"truncate","text-2xl","font-semibold","leading-tight"],[1,"text-secondary","mt-1","truncate","leading-tight"],[1,"absolute","top-2","right-2","flex","space-x-2"],[1,"my-6","w-full","border-t"],[1,"text-secondary","mr-3","text-md","font-medium"],[1,"flex","items-center"],[4,"ngFor","ngForOf"],["role","button",1,"truncate","text-2xl","font-semibold","leading-tight",3,"click"],[1,"flex","h-10","w-10","items-center","justify-center","rounded-full","border","bg-white","shadow-md"],["mat-icon-button","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"text-card","ring-bg-card","m-0.5","h-6","w-6","rounded-full","ring-2",3,"ngClass","src","alt"],[1,"flex","flex-auto","flex-col","items-center","justify-center","bg-gray-100","dark:bg-transparent"],[1,"icon-size-24",3,"svgIcon"],[1,"text-secondary","mt-4","text-2xl","font-semibold","tracking-tight"]],template:function(e,i){1&e&&(o.j41(0,"div",0)(1,"div",1),o.qSk(),o.j41(2,"svg",2)(3,"g",3),o.nrm(4,"circle",4)(5,"circle",5),o.k0s()(),o.joV(),o.j41(6,"div",6)(7,"h2",7),o.EFF(8,"Bookmark"),o.k0s(),o.j41(9,"div",8),o.EFF(10," Explore Your Saved Projects "),o.k0s(),o.j41(11,"div",9),o.EFF(12," Review and manage your bookmarked projects below. "),o.k0s()()(),o.j41(13,"div",10)(14,"div",11)(15,"div",12),o.DNE(16,T,21,9,"ng-container",13),o.k0s(),o.DNE(17,S,5,1,"ng-container",14),o.k0s()()()),2&e&&(o.R7$(16),o.Y8G("ngForOf",i.savedProjects)("ngForTrackBy",i.trackByFn),o.R7$(),o.Y8G("ngIf",0==i.savedProjects.length))},dependencies:[u.Hl,u.iY,x.m_,x.An,v.n,h.RG,s.Ve,k.Sy,y.fS,b.mV,n.YU,c.uc,_.PO,n.MD,n.Sq,n.bT,n.Jj],encapsulation:2})}}return a})()}]}}]);